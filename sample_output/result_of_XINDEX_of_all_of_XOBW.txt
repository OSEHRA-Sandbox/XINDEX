

                   V. A.  C R O S S  R E F E R E N C E R  7.3
                     [5/5/2016 VA Standards & Conventions]
              UCI: FOIA201802 CPU: ICARUS    Feb 23, 2018@12:47:25

The selected file Data Dictionaries are being processed.

18.02 WEB SERVICE......
18.022 WSDL..
18.12 WEB SERVER...........
18.121 AUTHORIZED WEB SERVICES.....
18.13 WEB SERVER LOOKUP KEY...
The option and function files are being processed.

Processing Input Templates

Processing Input Templates

Processing Input Templates

Processing List Templates

Processing List Templates

Processing List Templates

Processing List Templates

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols

Processing Protocols


Routines are being processed.
Routines: 17  Faux Routines: 9

XOBWD     XOBWENV   XOBWLIB   XOBWLIB1  XOBWP004  XOBWPA04  XOBWPB04  XOBWPST   
XOBWPWD   XOBWSSL   XOBWU     XOBWU1    XOBWUA    XOBWUA1   XOBWUS    XOBWUS1   
XOBWUS2   

          Data Dictionaries
|dd18.02       |dd18.022      |dd18.12       |dd18.121      |dd18.13       
|inpt          |list          |opt           |ptcl          

--- CROSS REFERENCING ---


Compiled list of Errors and Warnings              Feb 23, 2018@12:47:25 page 1

XOBWP004        * *  128 Lines,  4580 Bytes, Checksum: B25852913
         I ($ROLES["%All")!($ROLES["%Manager") D SSLCONF Q
   CHECK+2      F - Undefined Special Variable.
   CHECK+2      F - Undefined Special Variable.
         .N $NAMESPACE ;Push current namespace onto the stack
   EXISTS+5     F - Undefined Special Variable.
   EXISTS+5     W - Invalid local variable name.
   EXISTS+5     F - Undefined Special Variable.
         .S $NAMESPACE="%SYS" ;Change namespace, revert back upon "Q"
   EXISTS+6     F - Undefined Special Variable.
   EXISTS+6     F - Unrecognized argument in SET command.
         .N $NAMESPACE ;Push current namespace onto the stack
   CRSSL+6      F - Undefined Special Variable.
   CRSSL+6      W - Invalid local variable name.
   CRSSL+6      F - Undefined Special Variable.
         .S $NAMESPACE="%SYS" ;Change namespace, revert back upon "Q"
   CRSSL+7      F - Undefined Special Variable.
   CRSSL+7      F - Unrecognized argument in SET command.
         .N $NAMESPACE ;Push current namespace onto the stack
   DELETE+5     F - Undefined Special Variable.
   DELETE+5     W - Invalid local variable name.
   DELETE+5     F - Undefined Special Variable.
         .S $NAMESPACE="%SYS" ;Change namespace, revert back upon "Q"
   DELETE+6     F - Undefined Special Variable.
   DELETE+6     F - Unrecognized argument in SET command.

XOBWU        * *  129 Lines,  2993 Bytes, Checksum: B8679055
   WST+2        F - Reference to routine '^XOBTWU'. That isn't in this UCI.

|list        * *  50 Lines,  1516 Bytes, Checksum: 
         I $L(^TMP("XOB) Q
   666+11       F - Unmatched Quotation Marks.
   666+11       F - Unmatched Quotation Marks.
   666+11       F - Unmatched Parenthesis.
         I $L(^TMP("XOB) Q
   669+11       F - Unmatched Quotation Marks.
   669+11       F - Unmatched Quotation Marks.
   669+11       F - Unmatched Parenthesis.
         I $L(^TMP("XOB) Q
   667+11       F - Unmatched Quotation Marks.
   667+11       F - Unmatched Quotation Marks.
   667+11       F - Unmatched Parenthesis.

|ptcl        * *  420 Lines,  11930 Bytes, Checksum: 
   4425+5       F - Reference to routine '^XOBTPST'. That isn't in this UCI.

--- Routine Detail   --- with REGULAR ROUTINE LISTING ---


XOBWD        * *  175 Lines,  6899 Bytes, Checksum: B38463620
                                                  Feb 23, 2018@12:47:25 page 2
              1643 bytes in comments
XOBWD    ;ALB/MJK - HWSC :: Private Deployment APIs ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
GENPORT(XOBY) --
          ; -- generate http port class from WSDL during install
         NEW XOBSTAT,XOBWSDL
         SET XOBWSDL=$GET(XOBY("WSDL FILE"))
         ;
         IF ##class(%File).Exists(XOBWSDL) DO
         . SET XOBSTAT=$$ADDPROXY(.XOBY)
         ELSE  DO
         . SET XOBSTAT="0^File does not exist ["_XOBWSDL_"]"
         QUIT XOBSTAT
         ;
ADDPROXY(XOBY) --
          ; -- create client proxy class
         NEW XOBREADR,XOBSTAT,XOBINFO,XOBCLASS,XOBCXT,I,X,XOBLERR,XOBWSDL,XOBPKG
          ,XOBWSN,XOBTYPE,XOBWAV
         ;
         SET XOBWSDL=$GET(XOBY("WSDL FILE"))
         SET XOBPKG=$GET(XOBY("CACHE PACKAGE NAME"))
         SET XOBWSN=$GET(XOBY("WEB SERVICE NAME"))
         SET XOBWAV=$GET(XOBY("AVAILABILITY RESOURCE"))
         ;
         SET XOBINFO=##class(xobw.WsdlHandler).getInfoFromFile(XOBWSDL)
         IF XOBINFO="" QUIT "0^Unable to parse WSDL file ["_XOBWSDL_"]"
         IF $GET(XOBPKG)="" NEW XOBPKG SET XOBPKG=$LISTGET(XOBINFO,1)
         SET XOBCLASS=XOBPKG_"."_$LISTGET(XOBINFO,2)
         SET XOBCXT=$LISTGET(XOBINFO,3)
         ;
         SET XOBREADR=##class(%SOAP.WSDL.Reader).%New()
         SET XOBREADR.OutputTypeAttribute=1
         SET XOBSTAT=XOBREADR.Process(XOBWSDL,XOBPKG)
         IF XOBSTAT DO
         . DO REGSOAP^XOBWLIB(XOBWSN,XOBCXT,XOBCLASS,XOBWSDL,XOBWAV)
         ELSE  DO
         . DO $system.Status.DecomposeStatus(%objlasterror,.XOBLERR)
         . SET X="" FOR I=1:1:XOBLERR SET X=X_XOBLERR(I)
         . SET XOBSTAT="0^"_X
         ;
         QUIT XOBSTAT
         ;
REGISTER(XOBWSN,XOBTYPE,XOBCXT,XOBCLASS,XOBWSDL,XOBCAURL) --
          ; -- register SOAP and REST service
         ;  Input:
         ;    XOBWSN    -   web service name
         ;    XOBTYPE   -   type of web service [ 1 - SOAP | 2 - REST ]
         ;    XOBCXT    -   web service context root
         ;    XOBCLASS  -   full class name, including package
         ;    XOBWSDL   -   file path containing WSDL document
         ;    XOBCAURL  -   'check availability' url portion to follow context r
          oot [optional]
         ;
         NEW XOBCDEF,XOBOK,XOBCHK
         SET XOBCHK=$$CHKTYPE(XOBWSN,XOBTYPE) IF '+XOBCHK DO  QUIT
         . DO BMES^XPDUTL(" o  Type mismatch: attempted "_$SELECT(XOBTYPE=1:"SOA
          P",XOBTYPE=2:"REST",1:"unknown")_" update of "_$SELECT($P(XOBCHK,"^",2
          )=1:"SOAP",$P(XOBCHK,"^",2)=2:"REST",1:"unknown")_"-type service '"_XO
          BWSN_"' failed.")
         IF XOBTYPE=1 DO  QUIT:XOBCDEF=""
         . SET XOBCDEF=##class(%Dictionary.ClassDefinition).%OpenId(XOBCLASS)
         . ; -- perform check to see if port class creation matches what was exp
          ected
         . IF XOBCDEF="" DO BMES^XPDUTL(" o  Creating the class definition for '
          "_XOBCLASS_"' failed.")
         ;
         ; -- add entry into table
         SET XOBOK=$$FILE(XOBWSN,XOBTYPE,XOBCXT,.XOBCLASS,.XOBWSDL,.XOBCAURL)
         DO MES^XPDUTL(" o  WEB SERVICE '"_XOBWSN_"' addition/update "_$SELECT(X
          OBOK:"succeeded.",1:"failed."))
         DO MES^XPDUTL(" ")
         QUIT
         ;
UNREG(XOBWSN) --
          ; -- unregister and delete web service
         NEW DIK,XOBSRVDA,XOBMULDA,XOBDA,XOBSRVNM,DA
         SET XOBDA=$ORDER(^XOB(18.02,"B",XOBWSN,0)) IF '+XOBDA DO  QUIT
         . DO MES^XPDUTL(" o  WEB SERVICE '"_XOBWSN_"' not found for deletion.")
         ; delete from web servers' authorized multiple
         SET XOBSRVDA=0,XOBMULDA=0
         FOR  SET XOBSRVDA=$ORDER(^XOB(18.12,"AB",XOBDA,XOBSRVDA)) Q:'+XOBSRVDA 
           DO
         . FOR  SET XOBMULDA=$ORDER(^XOB(18.12,"AB",XOBDA,XOBSRVDA,XOBMULDA)) Q:
          '+XOBMULDA  DO
         . . SET XOBSRVNM=$P($G(^XOB(18.12,XOBSRVDA,0)),U)
         . . KILL DIK,DA SET DA=XOBMULDA,DA(1)=XOBSRVDA,DIK="^XOB(18.12,"_DA(1)_
          ",100,"
         . . DO ^DIK
         . . DO MES^XPDUTL(" o  WEB SERVICE '"_XOBWSN_"' unauthorized from '"_XO
          BSRVNM_"'.")
         ; delete web service
         KILL DIK,DA SET DA=XOBDA,DIK="^XOB(18.02," DO ^DIK
         DO MES^XPDUTL(" o  WEB SERVICE '"_XOBWSN_"' unregistered/deleted.")
         QUIT
         ;
CHKTYPE(XOBWSN,XOBTYPE) --
          ; return 1 if no svc, or right type; 0^existing type if mismatch
          NEW XOBIEN
          SET XOBIEN=+$$FIND1^DIC(18.02,"","BX",XOBWSN,"","","")
          IF XOBIEN,XOBTYPE'=$P(^XOB(18.02,XOBIEN,0),"^",2) QUIT 0_"^"_$P(^XOB(1
          8.02,XOBIEN,0),"^",2)
          QUIT 1
          ;
FILE(XOBWSN,XOBTYPE,XOBCXT,XOBCLASS,XOBWSDL,XOBCAURL) --
          ;-- File a new record in file #18.02 or edit existing
         ;  Input:
         ;    XOBWSN    -   web service name
         ;    XOBTYPE   -   type of web service [ 1 - SOAP | 2 -REST ]
         ;    XOBCXT    -   web service context root
         ;    XOBCLASS  -   full class name, including package
         ;    XOBWSDL   -   file path containing WSDL document
         ;    XOBCAURL  -   'check availability' url portion to follow context r
          oot [optional]
         ;
         ; Output:
         ;    Function Value - Returns IEN of record on success, 0 on failure
         ;
         NEW XOBFDA,XOBFDAI,XOBERR,XOBIENS,XOBIEN,DIERR
         ;
         SET XOBIEN=+$$FIND1^DIC(18.02,"","BX",XOBWSN,"","","")
         ;
         ; -- If record doesn't already exist, create new
         IF XOBIEN SET XOBIENS=XOBIEN_","
         ELSE  SET XOBIENS="+1,"
         ;
         ; -- validate values ; quit if not valid
         IF '$$VALIDATE() QUIT 0
         ;
         ; -- Set up array with field values
         SET XOBFDA(18.02,XOBIENS,.01)=$GET(XOBWSN)
         SET XOBFDA(18.02,XOBIENS,.02)=$GET(XOBTYPE)
         SET XOBFDA(18.02,XOBIENS,.03)=$$NOW^XLFDT
         SET XOBFDA(18.02,XOBIENS,100)=$GET(XOBCLASS)
         SET XOBFDA(18.02,XOBIENS,200)=$GET(XOBCXT)
         SET XOBFDA(18.02,XOBIENS,201)=$GET(XOBCAURL)
         ;
         IF XOBIEN DO
         . DO FILE^DIE("","XOBFDA","XOBERR")
         . IF $DATA(DIERR) DO
         . . DO DISPERR($NAME(XOBERR))
         . . SET XOBIEN=0
         ELSE  DO
         . DO UPDATE^DIE("","XOBFDA","XOBFDAI","XOBERR")
         . IF $DATA(DIERR) DO
         . . DO DISPERR($NAME(XOBERR))
         . . SET XOBIEN=0
         . ELSE  DO
         . . SET XOBIEN=$GET(XOBFDAI(1))
         ;
         ; -- add copy of WSDL to a SOAP-type entry
         IF XOBIEN,$GET(XOBWSDL)]"" DO WSDL(.XOBWSDL,.XOBIEN)
         ;
         QUIT $SELECT($GET(XOBIEN)>0:XOBIEN,1:0)
         ;
VALIDATE() --
          ; -- validate values of input variables
         NEW XOBY,XOBERR,XOBOK
         SET XOBOK=1
         DO VAL^DIE(18.02,XOBIENS,.01,"",$GET(XOBWSN),.XOBY,"","XOBERR"),CHK
         DO VAL^DIE(18.02,XOBIENS,.02,"",$GET(XOBTYPE),.XOBY,"","XOBERR"),CHK
         DO VAL^DIE(18.02,XOBIENS,100,"",$GET(XOBCLASS),.XOBY,"","XOBERR"),CHK
         DO VAL^DIE(18.02,XOBIENS,200,"",$GET(XOBCXT),.XOBY,"","XOBERR"),CHK
         ; -- work around for FM DBS bug that does not allow input to start with
           ?
         IF $EXTRACT($GET(XOBCAURL))'="?" DO
         . DO VAL^DIE(18.02,XOBIENS,201,"",$GET(XOBCAURL),.XOBY,"","XOBERR"),CHK
         QUIT XOBOK
         ;
CHK      ;
         IF $GET(XOBY)="^" DO
         . SET XOBOK=0
         . DO DISPERR("XOBERR")
         QUIT
         ;
DISPERR(XOBINARR) --
          ; -- display error message
         NEW XOBOUT,XOBI,XOBX
         DO MES^XPDUTL("FM Database Server Error Information:")
         DO MSG^DIALOG("AE",.XOBOUT,70,"",XOBINARR)
         FOR XOBI=1:1 QUIT:$D(XOBOUT(XOBI))=0  DO MES^XPDUTL($GET(XOBOUT(XOBI)))
         QUIT
         ;
WSDL(XOBWSDL,XOBIEN) --
          ; -- file copy of WSDL
         NEW XOBSTRM,XOBROOT,XOBI,XOBERR,DIERR
         SET XOBROOT=$NAME(^TMP("XOBW WSDL FILING",$JOB))
         SET XOBI=0
         SET XOBSTRM=##class(%FileCharacterStream).%New()
         SET XOBSTRM.Filename=$GET(XOBWSDL)
         FOR  QUIT:XOBSTRM.AtEnd  DO
         . SET XOBI=XOBI+1
         . SET @XOBROOT@(XOBI)=XOBSTRM.ReadLine()
         DO WP^DIE(18.02,XOBIEN_",",300,"K",XOBROOT,$NAME(XOBERR))
         ; -- if error occurs, just display
         IF $DATA(DIERR) DO DISPERR($NAME(XOBERR))
         QUIT
         ;

*****   INDEX OF XOBWD   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
>> %objlasterror 
                ADDPROXY+20
   DA           UNREG+1~,UNREG+9!*,UNREG+13!*
   DA(1         UNREG+9*
   DIERR        FILE+12~,FILE+33,FILE+38,WSDL+1~,WSDL+11
   DIK          UNREG+1~,UNREG+9!*,UNREG+13!*
   I            ADDPROXY+1~,ADDPROXY+21*
   U            UNREG+8
   X            ADDPROXY+1~,ADDPROXY+21*,ADDPROXY+22
   XOBCAURL     REGISTER~,REGISTER+18,FILE~,FILE+29,VALIDATE+8,VALIDATE+9
   XOBCDEF      REGISTER+9~,REGISTER+12,REGISTER+13*,REGISTER+15
   XOBCHK       REGISTER+9~,REGISTER+10*,REGISTER+11
   XOBCLASS     ADDPROXY+1~,ADDPROXY+11*,ADDPROXY+18,REGISTER~,REGISTER+13
                REGISTER+15,REGISTER+18,FILE~,FILE+27,VALIDATE+5
   XOBCXT       ADDPROXY+1~,ADDPROXY+12*,ADDPROXY+18,REGISTER~,REGISTER+18
                FILE~,FILE+28,VALIDATE+6
   XOBDA        UNREG+1~,UNREG+2*,UNREG+6,UNREG+7,UNREG+13
   XOBERR       FILE+12~,FILE+34,FILE+39,VALIDATE+1~,WSDL+1~,WSDL+9,WSDL+11
   XOBFDA       FILE+12~
   XOBFDA(      FILE+24*,FILE+25*,FILE+26*,FILE+27*,FILE+28*,FILE+29*
   XOBFDAI      FILE+12~
   XOBFDAI(1    FILE+42
   XOBI         DISPERR+1~,DISPERR+4*,WSDL+1~,WSDL+3*,WSDL+7*,WSDL+8
   XOBIEN       CHKTYPE+1~,CHKTYPE+2*,CHKTYPE+3,FILE+12~,FILE+14*,FILE+17
                FILE+31,FILE+35*,FILE+40*,FILE+42*,FILE+45,FILE+47,WSDL~,WSDL+9
   XOBIENS      FILE+12~,FILE+17*,FILE+18*,FILE+24,FILE+25,FILE+26,FILE+27
                FILE+28,FILE+29,VALIDATE+3,VALIDATE+4,VALIDATE+5,VALIDATE+6
                VALIDATE+9
   XOBINARR     DISPERR~,DISPERR+3
   XOBINFO      ADDPROXY+1~,ADDPROXY+8*,ADDPROXY+9,ADDPROXY+10,ADDPROXY+11
                ADDPROXY+12
   XOBLERR      ADDPROXY+1~,ADDPROXY+20,ADDPROXY+21
   XOBLERR(     ADDPROXY+21
   XOBMULDA     UNREG+1~,UNREG+5*,UNREG+7*,UNREG+9
   XOBOK        REGISTER+9~,REGISTER+18*,REGISTER+19,VALIDATE+1~,VALIDATE+2*
                VALIDATE+10,CHK+2*
   XOBOUT       DISPERR+1~,DISPERR+3
   XOBOUT(      DISPERR+4
   XOBPKG       ADDPROXY+1~,ADDPROXY+4*,ADDPROXY+10~*,ADDPROXY+11,ADDPROXY+16
   XOBREADR     ADDPROXY+1~,ADDPROXY+14*
   XOBROOT      WSDL+1~,WSDL+2*,WSDL+8,WSDL+9
   XOBSRVDA     UNREG+1~,UNREG+5*,UNREG+6*,UNREG+7,UNREG+8,UNREG+9
   XOBSRVNM     UNREG+1~,UNREG+8*,UNREG+11
   XOBSTAT      GENPORT+1~,GENPORT+5*,GENPORT+7*,GENPORT+8,ADDPROXY+1~
                ADDPROXY+16*,ADDPROXY+17,ADDPROXY+22*,ADDPROXY+24
   XOBSTRM      WSDL+1~,WSDL+4*
   XOBTYPE      ADDPROXY+1~,REGISTER~,REGISTER+10,REGISTER+11,REGISTER+12
                REGISTER+18,CHKTYPE~,CHKTYPE+3,FILE~,FILE+25,VALIDATE+4
   XOBWAV       ADDPROXY+1~,ADDPROXY+6*,ADDPROXY+18
   XOBWSDL      GENPORT+1~,GENPORT+2*,GENPORT+4,GENPORT+7,ADDPROXY+1~
                ADDPROXY+3*,ADDPROXY+8,ADDPROXY+9,ADDPROXY+16,ADDPROXY+18
                REGISTER~,REGISTER+18,FILE~,FILE+45,WSDL~,WSDL+5
   XOBWSN       ADDPROXY+1~,ADDPROXY+5*,ADDPROXY+18,REGISTER~,REGISTER+10
                REGISTER+11,REGISTER+18,REGISTER+19,UNREG~,UNREG+2,UNREG+3
                UNREG+11,UNREG+14,CHKTYPE~,CHKTYPE+2,FILE~,FILE+14,FILE+24
                VALIDATE+3
   XOBX         DISPERR+1~
   XOBY         GENPORT~,GENPORT+5,ADDPROXY~,VALIDATE+1~,VALIDATE+3,VALIDATE+4
                VALIDATE+5,VALIDATE+6,VALIDATE+9,CHK+1
   XOBY("AVAILABILITY RESOURCE" 
                ADDPROXY+6
   XOBY("CACHE PACKAGE NAME" 
                ADDPROXY+4
   XOBY("WEB SERVICE NAME" 
                ADDPROXY+5
   XOBY("WSDL FILE" 
                GENPORT+2,ADDPROXY+3

Global Variables  ( * Changed  ! Killed)
   ^TMP("XOBW WSDL FILING"
                       WSDL+2
   ^XOB(18.02          UNREG+2,CHKTYPE+3
   ^XOB(18.12          UNREG+6,UNREG+7,UNREG+8

Naked Globals
   NONE

Cache Objects
   $system.Status.DecomposeStatus  ADDPROXY+20
   %Dictionary.ClassDefinition     REGISTER+13
   %File                           GENPORT+4
   %FileCharacterStream            WSDL+4
   %SOAP.WSDL.Reader               ADDPROXY+14
   XOBREADR.OutputTypeAttribute    ADDPROXY+15*
   XOBREADR.Process                ADDPROXY+16
   XOBSTRM.AtEnd                   WSDL+6
   XOBSTRM.Filename                WSDL+5*
   XOBSTRM.ReadLine                WSDL+8
   xobw.WsdlHandler                ADDPROXY+8

Marked Items
   NONE

Label References
   $$ADDPROXY   GENPORT+5
   $$CHKTYPE    REGISTER+10
   $$FILE       REGISTER+18
   $$VALIDATE   FILE+21
   CHK          VALIDATE+3,VALIDATE+4,VALIDATE+5,VALIDATE+6,VALIDATE+9
   DISPERR      FILE+34,FILE+39,CHK+3,WSDL+11
   WSDL         FILE+45

External References
   MSG^DIALOG          DISPERR+3
   $$FIND1^DIC         CHKTYPE+2,FILE+14
   FILE^DIE            FILE+32
   UPDATE^DIE          FILE+37
   VAL^DIE             VALIDATE+3,VALIDATE+4,VALIDATE+5,VALIDATE+6,VALIDATE+9
   WP^DIE              WSDL+9
   ^DIK                UNREG+10,UNREG+13
   $$NOW^XLFDT         FILE+26
   REGSOAP^XOBWLIB     ADDPROXY+18
   BMES^XPDUTL         REGISTER+11,REGISTER+15
   MES^XPDUTL          REGISTER+19,REGISTER+20,UNREG+3,UNREG+11,UNREG+14
                       DISPERR+2,DISPERR+4

*****   END   *****


XOBWENV        * *  77 Lines,  3145 Bytes, Checksum: B7751417
                                                  Feb 23, 2018@12:47:25 page 3
              1323 bytes in comments
XOBWENV  ;ALB/MJK - HWSC :: Environmental Check ; 06/10/2016
         ;;1.0;HwscWebServiceClient;**4**;September 13, 2010;Build 9
         ;Per VA Directive 6402, this routine should not be modified.
         ;
         ; ***** IMPORTANT NOTE *******************************************
         ; This routine requires access to the manager (%SYS) namespace and
         ; can only be run by a user with permissions to that namespace.
         ; ****************************************************************
         ;
         Q
EN       ;- entry point
         ; -- must be a supported M implementation
         DO VALIDM IF $GET(XPDABORT) GOTO ENQ
         ; -- passed load check
         IF '$GET(XPDENV),'$GET(XPDABORT) DO
         . WRITE !!?1,">>> Environment check completed for KIDS Load a Distribut
          ion option.",!
         ; -- passed install check
         IF $GET(XPDENV)=1,'$GET(XPDABORT) DO
         . WRITE !!?1,">>> Environment check completed for KIDS Install Package 
          option.",!
ENQ      QUIT
         ;
VALIDM   ; -- check if HWSC supports M implementation and set KIDS flag if not
         IF $$PROD^XUPROD(0),'$$SSLOK() DO
         . WRITE !,"Note: Your current production M environment does not support
           SSL/TLS"
         . WRITE !,"      connectivity! SSL/TLS support is provided in Cache v5.
          2.3 and greater."
         . WRITE !,"      Also, SSL/TLS is not currently supported on VMS."
         . NEW DIR S DIR(0)="E" D ^DIR
         ;
         IF '$$OSOK() DO
         . SET XPDABORT=1
         . WRITE !?5,"This software can only be installed in a Cache v5.2.3 or g
          reater environment!",!
         QUIT
         ;
OSOK()   ; -- check environment for operating system, 5.2.3 or greater
         IF $PIECE($GET(^%ZOSF("OS")),"^")'["OpenM" QUIT 0
         NEW XOBVER,MAJOR,MINOR,SUBMINOR
         SET XOBVER=$$VERSION^%ZOSV()
         ; -- checks major version # against 5
         SET MAJOR=+$P(XOBVER,".")
         IF MAJOR<5 QUIT 0
         IF MAJOR>5 QUIT 1
         ; -- checks minor version # against 2
         SET MINOR=+$P(XOBVER,".",2)
         IF MINOR<2 QUIT 0
         IF MINOR>2 QUIT 1
         ; -- checks sub-minor version # against 3
         SET SUBMINOR=+$P(XOBVER,".",3)
         IF SUBMINOR<3 QUIT 0
         IF SUBMINOR>2 QUIT 1
         QUIT 0
         ;
SSLOK()  ; -- check environment if SSL/TLS is supported (Cache 5.2.3 or greater,
           and *not* VMS)
         ; also called in [XOBW WEB SERVER SETUP] edit template
         ;IF $$SYSOS()="VMS" QUIT 0 ; prevent SSL use on VMS ; - XOBW*1*4
         QUIT $$OSOK() ; 5.2.3 or greater
         ;
KIDSCHK(XOBDIR) --
          ; -- check input from installer
         ; input: XOBDIR := directory where wsdl file is located (
         ;  Note: If applicable, XOBDIR should contain the os-specific final del
          imiter, like '/home/cache/'
         NEW XOBPATH
         IF '##class(%File).DirectoryExists(XOBDIR) DO  QUIT 0
         . WRITE !," o  Directory does not exist: "_XOBDIR
         SET XOBPATH=XOBDIR_$$SUPPORT()
         IF '##class(%File).Exists(XOBPATH) DO  QUIT 0
         . WRITE !," o  File to be imported does not exist: "_XOBPATH
         QUIT 1
         ;
SUPPORT() ; -- returns name of xml file containing support classes (wsdl handler,
           vista info header, etc.)
         QUIT "xobw4.xml"
         ;
VERSION() ; -- returns the version number for this build
         QUIT +$PIECE($PIECE($TEXT(XOBWENV+1),";",7),"Build ",2)
         ;
SYSOS()  ; -- get system operating system
         ; returns VMS, UNIX, NT or UNK
         NEW XOBOS SET XOBOS=^%ZOSF("OS")
         QUIT $SELECT(XOBOS["OpenM":$$OS^%ZOSV(),XOBOS["DSM":"VMS",1:"UNK")

*****   INDEX OF XOBWENV   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   DIR          VALIDM+5~
   DIR(0        VALIDM+5*
   MAJOR        OSOK+2~,OSOK+5*,OSOK+6,OSOK+7
   MINOR        OSOK+2~,OSOK+9*,OSOK+10,OSOK+11
   SUBMINOR     OSOK+2~,OSOK+13*,OSOK+14,OSOK+15
   XOBDIR       KIDSCHK~,KIDSCHK+4,KIDSCHK+5,KIDSCHK+6
   XOBOS        SYSOS+2~*,SYSOS+3
   XOBPATH      KIDSCHK+3~,KIDSCHK+6*,KIDSCHK+7,KIDSCHK+8
   XOBVER       OSOK+2~,OSOK+3*,OSOK+5,OSOK+9,OSOK+13
>> XPDABORT     EN+2,EN+4,EN+7,VALIDM+8*
>> XPDENV       EN+4,EN+7

Global Variables  ( * Changed  ! Killed)
   ^%ZOSF("OS"         OSOK+1,SYSOS+2

Naked Globals
   NONE

Cache Objects
   %File                           KIDSCHK+4,KIDSCHK+7

Marked Items
   $T(XOBWENV+1 VERSION+1

Label References
   $$OSOK       VALIDM+7,SSLOK+3
   $$SSLOK      VALIDM+1
   $$SUPPORT    KIDSCHK+6
   ENQ          EN+2
   VALIDM       EN+2

External References
   $$OS^%ZOSV          SYSOS+3
   $$VERSION^%ZOSV     OSOK+3
   ^DIR                VALIDM+5
   $$PROD^XUPROD       VALIDM+1

*****   END   *****


XOBWLIB        * *  220 Lines,  8235 Bytes, Checksum: B23307912
                                                  Feb 23, 2018@12:47:25 page 4
              5248 bytes in comments
XOBWLIB  ;ALB/MJK - HWSC :: Utilities Library ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
         ;----------------------------- Public APIs ----------------------------
         ;
         ;. . . . . . . . . . . . Web Service Proxy APIs . . . . . . . . . . . .
         ;
GETFAC(XOBWSN) --
          ; -- get web service proxy factory
         ;  Input:
         ;    XOBWSN    -   web service name  
         QUIT ##class(xobw.WebServiceProxyFactory).%New(XOBWSN)
         ;
GETPROXY(XOBWSN,XOBSRVR) --
          ; -- get web service proxy
         ;  Input:
         ;    XOBWSN    -   web service name
         ;    XOBSRVR   -   web server name
         QUIT ##class(xobw.WebServiceProxyFactory).getWebServiceProxy(XOBWSN,XOB
          SRVR)
         ;
GENPORT(XOBY) --
          ; -- generate http port class from WSDL during install
         QUIT $$GENPORT^XOBWD(.XOBY)
         ;
REGSOAP(XOBWSN,XOBCXT,XOBCLASS,XOBWSDL,XOBCAURL) --
          ; -- register SOAP service
         ;  Input:
         ;    XOBWSN    -   SOAP web service name
         ;    XOBCXT    -   web service context root  
         ;    XOBCLASS  -   full class name, including package
         ;    XOBWSDL   -   file path containing WSDL document [optional]
         ;    XOBCAURL  -   'check availability' url portion to follow context r
          oot [optional]
         DO REGISTER^XOBWD(XOBWSN,1,XOBCXT,XOBCLASS,.XOBWSDL,.XOBCAURL)
         QUIT
         ;
ATTACHDR(XOBPROXY) --
          ; -- add VistaInfoHeader to proxy object
         ; Input: 
         ;   XOBPROXY   -   web service proxy object
         DO ATTACHDR^XOBWLIB1(.XOBPROXY)
         QUIT
         ;
UNREG(XOBWSN) --
          ; unregister/delete REST *or* SOAP web service
         ; Input:
         ;   XOBWSN     -   web service name
         DO UNREG^XOBWD(XOBWSN)
         QUIT
         ;
         ;. . . . . . . . . . . . REST Service Request APIs . . . . . . . . . . 
          . .
         ;
GETRESTF(XOBWSN) --
          ; -- get REST service request factory
         ;  Input:
         ;    XOBWSN    -   web service name 
         QUIT ##class(xobw.RestRequestFactory).%New(XOBWSN)
         ;
GETREST(XOBWSN,XOBSRVR) --
          ; -- get REST service request
         ;  Input:
         ;    XOBWSN    -   web service name
         ;    XOBSRVR   -   web server name 
         QUIT ##class(xobw.RestRequestFactory).getRestRequest(XOBWSN,XOBSRVR)
         ;
REGREST(XOBWSN,XOBCXT,XOBCAURL) --
          ; -- register REST service
         ;  Input:
         ;    XOBWSN    -   REST web service name
         ;    XOBCXT    -   web service context root  
         ;    XOBCAURL  -   'check availability' url portion to follow context r
          oot [optional]
         DO REGISTER^XOBWD(XOBWSN,2,XOBCXT,"","",.XOBCAURL)
         QUIT
         ;
GET(XOBREST,XOBRSCE,XOBERR,XOBFERR) --
          ; -- do HTTP GET method and force M/Cache error if problem encountered
         ;                                       Executes STATCHK and HTTPCHK ca
          lls.
         ; input:
         ;     XOBREST = instance of xobw.RestRequest class
         ;     XOBRSCE = resource for HTTP GET method
         ;     XOBERR  = where to store HWSC error object if problem encountered
         ;     XOBFERR = if error object created, force M/Cache error [1], other
          wise return to caller [0]
         ;               [optional ; default = 1]
         NEW XOBOK
         SET XOBOK=$$STATCHK(XOBREST.Get(XOBRSCE),.XOBERR,$GET(XOBFERR,1))
         IF XOBOK SET XOBOK=$$HTTPCHK(XOBREST,.XOBERR,$GET(XOBFERR,1))
         QUIT XOBOK
         ;
POST(XOBREST,XOBRSCE,XOBERR,XOBFERR) --
          ; -- do HTTP POST method and force M/Cache error if problem encountered
         ;                                        Executes STATCHK and HTTPCHK c
          alls.
         ; input:
         ;     XOBREST = instance of xobw.RestRequest class
         ;     XOBRSCE = resource for HTTP GET method
         ;     XOBERR  = where to store HWSC error object if problem encountered
         ;     XOBFERR = if error object created, force M/Cache error [1], other
          wise return to caller [0]
         ;               [optional ; default = 1]
         NEW XOBOK
         SET XOBOK=$$STATCHK(XOBREST.Post(XOBRSCE),.XOBERR,$GET(XOBFERR,1))
         IF XOBOK SET XOBOK=$$HTTPCHK(XOBREST,.XOBERR,$GET(XOBFERR,1))
         QUIT XOBOK
         ;
HTTPCHK(XOBREST,XOBERR,XOBFERR) --
          ; -- check HTTP response status code
         ; input:
         ;     XOBREST = instance of xobw.RestRequest class
         ;     XOBERR  = where to store HWSC error object if problem encountered
         ;     XOBFERR = if error object created, force M/Cache error [1], other
          wise return to caller [0]
         ;               [optional ; default = 1]
         NEW XOBOK
         SET XOBOK=$$HTTPOK(XOBREST.HttpResponse.StatusCode)
         IF 'XOBOK DO
         . ; -- create http error from %Net.HttpResponse object
         . SET XOBERR=$$EOHTTP(XOBREST.HttpResponse)
         . ; -- force error if requested to by caller
         . IF $GET(XOBFERR,1) SET $ECODE=",UXOBWHTTP,"
         QUIT XOBOK
         ;
HTTPOK(XOBSCODE) --
          ; -- is HTTP response status code an 'OK' code
         ; -- Future: Should we add more 200 series codes to the check?
         QUIT $GET(XOBSCODE)=200
         ;
         ;. . . . . . . . . . . Error Processing Helper API . . . . . . . . . . 
          .
         ;
EOFAC(XOBPROXY) --
          ; --  Error Object FACtory
         ;      > finds and parses errors in partition
         ;      > builds and returns error object for easier processing
         ;
         ;  input: XOBPROXY = SOAP proxy object reference [optional]
         ; output:   XOBERR = error object
         ;
         QUIT $$EOFAC^XOBWLIB1(.XOBPROXY)
         ;
EOSTAT(XOBSO) --
          ; -- create object error from status error object
         NEW $ETRAP
         SET $ETRAP="D ^%ZTER HALT"
         QUIT ##class(xobw.error.ObjectError).%New(XOBSO)
         ;
EOHTTP(XOBHRO) --
          ; -- create object error from %Net.HttpResponse object
         NEW $ETRAP
         SET $ETRAP="D ^%ZTER HALT"
         QUIT ##class(xobw.error.HttpError).%New(XOBHRO)
         ;
ERRDISP(XOBEO) --
          ; -- do simple error display
         IF $GET(XOBEO)]"",XOBEO.%IsA("xobw.error.AbstractError") DO
         . DO XOBEO.display()
         QUIT
         ;
ERR2ARR(XOBEO,XOBERR) --
          ; -- decompose error for traditional M processing
         IF $GET(XOBEO)]"",XOBEO.%IsA("xobw.error.AbstractError") DO
         . DO XOBEO.decompose(.XOBERR)
         QUIT
         ;
ZTER(XOBEO) --
          ; -- build error object array and call error trap
         NEW $ETRAP,XOBEOARR
         SET $ETRAP="D ^%ZTER HALT"
         IF $GET(XOBEO)]"" DO ERR2ARR(.XOBEO,.XOBEOARR)
         DO ^%ZTER
         QUIT
         ;
STATCHK(XOBSO,XOBERR,XOBFERR) --
          ; -- check Cache Status Object
         ; input:
         ;     XOBSO   = Cache status object
         ;     XOBERR  = where to store HWSC error object if problem encountered
         ;     XOBFERR = if error object created, force M/Cache error [1], other
          wise return to caller [0]
         ;               [optional ; default = 1]
         NEW XOBOK
         SET XOBOK=$system.Status.IsOK(XOBSO)
         IF 'XOBOK DO
         . ; -- create object error from status error object
         . SET XOBERR=$$EOSTAT(XOBSO)
         . ; -- force error if requested to by caller
         . IF $GET(XOBFERR,1) SET $ECODE=",UXOBWSTATUS,"
         QUIT XOBOK
         ;
         ;. . . . . . . . . . . . . . Server Lookup APIs . . . . . . . . . .
SKEYADD(XOBWKEY,XOBWDESC,XOBERR) --
          ; add or edit a server key name/desc (no prompting)
         ; input parameters:
         ;  XOBWKEY: name for key
         ;  XOBWDESC: (optional) brief description
         ;  XOBERR: (optional) textual error description as array node(s) starti
          ng
         ;                     at XOBERR(1) / passed by reference
         ; returns: 
         ;  >0: success (value = IEN of new or existing entry)
         ;  0: failure (did not add/edit key)
         Q $$SKEYADD^XOBWLIB1(.XOBWKEY,.XOBWDESC,.XOBERR)
         ;
SNAME4KY(XOBWKEY,XOBWSNM,XOBERR) --
          ; get server name based on key
         ; input parameters: 
         ;  XOBWKEY: name of key to lookup
         ;  XOBWSNM: where web server name is returned / passed by reference
         ;   XOBERR: (optional) where any error is returned / passed by referenc
          e
         ;                     format: <error #>^<error text>
         ;            errors possible:
         ;                    186008^description (key does not exist)
         ;                    186009^description (server association missing)
         ; returns:
         ;   1 - successful lookup
         ;   0 - unsuccessful lookup
         ;  
         Q $$SNAME4KY^XOBWLIB1(.XOBWKEY,.XOBWSNM,.XOBERR)
         ;
         ;. . . . . . . . . . . . . . Developer Testing APIs . . . . . . . . .
         ;
SELSRV() ; -- interactive display and selection of an server
         ;  Input: None
         ; Output:
         ;         Function Value - server name
         ; -- display servers
         DO DISPSRVS
         ; -- select server
         QUIT $$GETSRV()
         ;
GETSRV() ; -- PUBLIC API: return interactive-user-selected server name
         ;            User selects a server entry in the WEB SERVER file (#18.12
          )
         ;  Input:
         ;    None
         ; Output:
         ;    Function Value - server name (#.01 field of file 18.12)
         ; 
         QUIT $$GETSRV^XOBWLIB1()
         ;
DISPSRVS ; -- display servers
         ;  Input:
         ;    None
         ; Output:
         ;    Screen formatted display of app servers and associated fields from
           file 18.12
         ;
         DO DISPSRVS^XOBWLIB1
         QUIT
         ;

*****   INDEX OF XOBWLIB   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   XOBCAURL     REGSOAP~,REGSOAP+7,REGREST~,REGREST+5
   XOBCLASS     REGSOAP~,REGSOAP+7
   XOBCXT       REGSOAP~,REGSOAP+7,REGREST~,REGREST+5
   XOBEO        ERRDISP~,ERRDISP+1,ERR2ARR~,ERR2ARR+1,ZTER~,ZTER+3
   XOBEOARR     ZTER+1~,ZTER+3
   XOBERR       GET~,GET+9,GET+10,POST~,POST+9,POST+10,HTTPCHK~,HTTPCHK+10*
                ERR2ARR~,ERR2ARR+2,STATCHK~,STATCHK+10*,SKEYADD~,SKEYADD+9
                SNAME4KY~,SNAME4KY+13
   XOBFERR      GET~,GET+9,GET+10,POST~,POST+9,POST+10,HTTPCHK~,HTTPCHK+12
                STATCHK~,STATCHK+12
   XOBHRO       EOHTTP~,EOHTTP+3
   XOBOK        GET+8~,GET+9*,GET+10*,GET+11,POST+8~,POST+9*,POST+10*,POST+11
                HTTPCHK+6~,HTTPCHK+7*,HTTPCHK+8,HTTPCHK+13,STATCHK+6~
                STATCHK+7*,STATCHK+8,STATCHK+13
   XOBPROXY     ATTACHDR~,ATTACHDR+3,EOFAC~,EOFAC+7
   XOBREST      GET~,GET+10,POST~,POST+10,HTTPCHK~
   XOBRSCE      GET~,GET+9,POST~,POST+9
   XOBSCODE     HTTPOK~,HTTPOK+2
   XOBSO        EOSTAT~,EOSTAT+3,STATCHK~,STATCHK+7,STATCHK+10
   XOBSRVR      GETPROXY~,GETPROXY+4,GETREST~,GETREST+4
   XOBWDESC     SKEYADD~,SKEYADD+9
   XOBWKEY      SKEYADD~,SKEYADD+9,SNAME4KY~,SNAME4KY+13
   XOBWSDL      REGSOAP~,REGSOAP+7
   XOBWSN       GETFAC~,GETFAC+3,GETPROXY~,GETPROXY+4,REGSOAP~,REGSOAP+7,UNREG~
                UNREG+3,GETRESTF~,GETRESTF+3,GETREST~,GETREST+4,REGREST~
                REGREST+5
   XOBWSNM      SNAME4KY~,SNAME4KY+13
   XOBY         GENPORT~,GENPORT+1

Global Variables  ( * Changed  ! Killed)
   NONE

Naked Globals
   NONE

Cache Objects
   $system.Status.IsOK             STATCHK+7
   XOBEO.%IsA                      ERRDISP+1,ERR2ARR+1
   XOBEO.decompose                 ERR2ARR+2
   XOBEO.display                   ERRDISP+2
   XOBREST.Get                     GET+9
   XOBREST.HttpResponse            HTTPCHK+10
   XOBREST.HttpResponse.StatusCode HTTPCHK+7
   XOBREST.Post                    POST+9
   xobw.RestRequestFactory         GETRESTF+3,GETREST+4
   xobw.WebServiceProxyFactory     GETFAC+3,GETPROXY+4
   xobw.error.HttpError            EOHTTP+3
   xobw.error.ObjectError          EOSTAT+3

Marked Items
   NONE

Label References
   $$EOHTTP     HTTPCHK+10
   $$EOSTAT     STATCHK+10
   $$GETSRV     SELSRV+7
   $$HTTPCHK    GET+10,POST+10
   $$HTTPOK     HTTPCHK+7
   $$STATCHK    GET+9,POST+9
   DISPSRVS     SELSRV+5
   ERR2ARR      ZTER+3

External References
   ^%ZTER              ZTER+4
   $$GENPORT^XOBWD     GENPORT+1
   REGISTER^XOBWD      REGSOAP+7,REGREST+5
   UNREG^XOBWD         UNREG+3
   $$EOFAC^XOBWLIB1    EOFAC+7
   $$GETSRV^XOBWLIB1   GETSRV+7
   $$SKEYADD^XOBWLIB1  SKEYADD+9
   $$SNAME4KY^XOBWLIB1 SNAME4KY+13
   ATTACHDR^XOBWLIB1   ATTACHDR+3
   DISPSRVS^XOBWLIB1   DISPSRVS+6

*****   END   *****


XOBWLIB1        * *  170 Lines,  6102 Bytes, Checksum: B32808293
                                                  Feb 23, 2018@12:47:25 page 5
              1488 bytes in comments
XOBWLIB1 ;ALB/MJK - HWSC :: Utilities Library ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
         ;----------------------- Private Calls used By XOBWLIB ----------------
          ----------
HEAD     ; -- display heading
         WRITE @IOF,!
         WRITE $$CJ^XLFSTR("List of Web Servers",80),!
         WRITE $$CJ^XLFSTR("HealtheVet Web Services Client (HWSC)  "_$$GETBLD(),
          80),!
         WRITE !,?2,"Name",?31,"Server:Port"
         WRITE !,?2,"====",?31,"==========="
         QUIT
         ;
PAUSE(XOBEXIT) --
          ; -- screen continue message
         NEW X,Y,DTOUT,DUOUT,DIRUT,DIROUT
         WRITE !,?4,"* = enabled"
         SET DIR(0)="E",DIR("A")="Enter RETURN to continue or '^' to stop" DO ^D
          IR KILL DIR
         SET XOBEXIT=+$GET(DIRUT)
         QUIT
         ;
GETBLD() ; -- get current build number
         QUIT "Build "_$$VERSION^XOBWENV()
         ;
STATKSP() ; -- get station number for computing facility
         QUIT $$STA^XUAF4($$KSP^XUPARAM("INST"))
         ;
STATUSER() --
          ; -- get station number for logged-on user
         QUIT $$STA^XUAF4(DUZ(2))
         ;
         ; ----------- web service Proxy APIs ------------
         ; 
ATTACHDR(XOBPROXY) --
          ; -- add VistaInfoHeader to proxy object
         NEW INFOARR
         SET INFOARR=##class(%Library.ArrayOfDataTypes).%New()
         DO INFOARR.SetAt($GET(DUZ,"Unknown"),"duz")
         DO INFOARR.SetAt($$VPID^XUPS($GET(DUZ)),"vpid")
         DO INFOARR.SetAt($IO,"mio")
         DO INFOARR.SetAt($JOB,"mjob")
         DO INFOARR.SetAt($$STATKSP(),"station-ksp")
         DO INFOARR.SetAt($$STATUSER(),"station-user")
         DO INFOARR.SetAt($$PROD^XUPROD(0),"production")
         DO ##class(xobw.VistaInfoHeader).attachHeader(XOBPROXY,INFOARR)
         QUIT
         ; 
         ; ----------- error processing APIs ------------
EOFAC(XOBPROXY) --
          ; --  Error Object FACtory
         NEW $ETRAP,XOBERR
         SET $ETRAP="D ^%ZTER HALT"
         ;
         ; -- SOAP fault error
         IF $$EC^%ZOSV()["<ZSOAP>",$GET(XOBPROXY)]"",XOBPROXY.SoapFault]"" DO  G
          OTO EOFACQ
         . SET XOBERR=##class(xobw.error.SoapError).%New(XOBPROXY.SoapFault)
         . KILL %objlasterror
         ;
         ; -- object error
         ; -- Future: Can we remove the $$EC^%ZOSV()["<ZSOAP>"? (There could be 
          spurious %objlasterror in partition)
         IF $$EC^%ZOSV()["<ZSOAP>",$GET(%objlasterror)]"" DO  GOTO EOFACQ
         . SET XOBERR=##class(xobw.error.ObjectError).%New(.%objlasterror)
         . KILL %objlasterror
         ;
         ; -- DIALOG object error [used in xobw.WebServiceProxyFactory]
         ;     input structure of %XOBWERR:
         ;       <DIALOG ien> ^ <parameter #1> ^ <parameter #2> ^ <so on...>
         IF $GET(%XOBWERR)]"" DO  GOTO EOFACQ
         . NEW XOBPARMS,XOBCODE,Y,I
         . SET XOBCODE=$PIECE(%XOBWERR,"^")
         . FOR I=2:1 SET Y=$PIECE(%XOBWERR,"^",I) QUIT:Y=""  SET XOBPARMS(I-1)=Y
         . SET XOBERR=##class(xobw.error.DialogError).%New(XOBCODE,$$EZBLD^DIALO
          G(XOBCODE,.XOBPARMS))
         . KILL %XOBWERR
         ;
         ; -- basic M-type error
         SET XOBERR=##class(xobw.error.BasicError).%New($ECODE,$$EC^%ZOSV())
         ;
EOFACQ   ;
         QUIT $GET(XOBERR)
         ;
         ; ----------- Miscellaneous Helper APIs -----------
         ;
IMPORT(XOBDIR,XOBFILE) --
          ; -- import Cache-exported XML file into Cache
         ; input parameters: 
         ;  XOBDIR: directory holding 'export' file
         ;  XOBFILE: 'export' file to import
         ; return: 
         ;  success: positive return value
         ;  failure: 0^reason
         ;  
         NEW XOBPATH,XOBSTAT,XOBLIST,XOBLERR,X,I
         SET XOBPATH=$GET(XOBDIR)_$GET(XOBFILE)
         IF ##class(%File).Exists(XOBPATH) DO
         . SET XOBSTAT=$system.OBJ.Load(XOBPATH,"ck","",.XOBLIST)
         . IF XOBSTAT QUIT
         . DO $system.Status.DecomposeStatus(%objlasterror,.XOBLERR)
         . SET X="" FOR I=1:1:XOBLERR SET X=X_XOBLERR(I)
         . SET XOBSTAT="0^"_X
         ELSE  DO
         . SET XOBSTAT="0^File not found"
         QUIT XOBSTAT
         ;
         ; ----------- web server lookup key APIs -----------
         ; 
SKEYADD(XOBWKEY,XOBWDESC,XOBOERR) --
          ; add or edit a server key name/desc (no prompting)
         NEW XOBFDA,XOBFDAI,XOBIENS,XOBIEN,DIERR,XOBERR
         SET XOBWKEY=$$UP^XLFSTR(XOBWKEY) ; force uppercase
         SET XOBIEN=+$$FIND1^DIC(18.13,"","BX",XOBWKEY,"","","")
         ;
         ; -- If record doesn't already exist, create new
         IF XOBIEN SET XOBIENS=XOBIEN_","
         ELSE  SET XOBIENS="+1,"
         ;
         ; -- Set up array with field values
         SET XOBFDA(18.13,XOBIENS,.01)=$GET(XOBWKEY)
         SET XOBFDA(18.13,XOBIENS,.02)=$GET(XOBWDESC)
         ;
         IF XOBIEN DO  ; edit
         . DO FILE^DIE("E","XOBFDA","XOBERR")
         . IF $DATA(DIERR) DO
         . . SET XOBIEN=0
         . . DO MSG^DIALOG("AE",.XOBOERR,245,"","XOBERR")
         ELSE  DO  ; add
         . DO UPDATE^DIE("E","XOBFDA","XOBFDAI","XOBERR")
         . IF $DATA(DIERR) DO
         . . SET XOBIEN=0
         . . DO MSG^DIALOG("AE",.XOBOERR,245,"","XOBERR")
         . ELSE  DO
         . . SET XOBIEN=$GET(XOBFDAI(1))
         ;
         QUIT $SELECT($GET(XOBIEN)>0:XOBIEN,1:0)
         ;
SNAME4KY(XOBWKEY,XOBWSNM,XOBERR) --
          ; get server name based on key
         NEW XOBWSIEN,XOBKYIEN,XOBKYNM,XOBPARMS
         SET XOBKYNM=$$UP^XLFSTR(XOBWKEY)
         ; -- exist check
         IF XOBKYNM="" SET XOBERR="186008^"_$$EZBLD^DIALOG(186008,"") QUIT 0
         SET XOBKYIEN=$ORDER(^XOB(18.13,"PRIMARY",XOBKYNM,""))
         IF 'XOBKYIEN SET XOBERR="186008^"_$$EZBLD^DIALOG(186008,XOBKYNM) QUIT 0
         ; -- server association check
         SET XOBWSIEN=$PIECE($GET(^XOB(18.13,XOBKYIEN,0)),U,3)
         IF 'XOBWSIEN SET XOBERR="186009^"_$$EZBLD^DIALOG(186009,XOBWKEY) QUIT 0
         ; -- success
         SET XOBWSNM=$PIECE($GET(^XOB(18.12,XOBWSIEN,0)),U)
         QUIT 1
         ;
         ;------------ Developer Testing APIs ------------
         ;
GETSRV() ; -- PUBLIC API: return interactive-user-selected server name
         NEW DIC,DUOUT,DTOUT,X,Y
         SET DIC="^XOB(18.12,"
         SET DIC(0)="AEMQ"
         IF $DATA(^XOB(18.12,+$GET(^DISV(DUZ,"^XOB(18.12,")),0)) SET DIC("B")=$P
          IECE(^(0),U)
         DO ^DIC KILL DIC
         IF +$GET(Y)'>0 QUIT ""
         QUIT $PIECE(Y,U,2)
         ;
DISPSRVS ; -- display servers
         NEW NAME,IPPORT,DEFAULT,STATUS,SITE,XOBEXIT,XOBI,XOBJ,XOBSVRS,XOBR
         SET XOBEXIT=0,XOBR=""
         SET XOBSVRS=$NAME(XOBDATA("DILIST","ID"))
         DO LIST^DIC(18.12,"",".01;.03;.04;.06","I","","","","","","",$NAME(XOBD
          ATA))
         DO HEAD
         FOR XOBI=0:0 SET XOBI=$ORDER(@XOBSVRS@(XOBI)) QUIT:'XOBI!(XOBEXIT)  DO
         . SET NAME=$GET(@XOBSVRS@(XOBI,.01))
         . SET IPPORT=$GET(@XOBSVRS@(XOBI,.04))_":"_$GET(@XOBSVRS@(XOBI,.03))
         . SET STATUS=$SELECT($GET(@XOBSVRS@(XOBI,.06))=1:"* ",1:" ")
         . IF $Y>(IOSL-5) DO PAUSE(.XOBEXIT) QUIT:XOBEXIT  DO HEAD
         . WRITE !,STATUS,NAME,?31,IPPORT
         IF 'XOBEXIT WRITE !,?0,"* = enabled"
         KILL XOBDATA
         QUIT
         ;

*****   INDEX OF XOBWLIB1   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   %XOBWERR     EOFAC+18,EOFAC+20,EOFAC+21,EOFAC+23!
   %objlasterror 
                EOFAC+7!,EOFAC+11,EOFAC+12,EOFAC+13!,IMPORT+13
   DEFAULT      DISPSRVS+1~
   DIC          GETSRV+1~,GETSRV+2*,GETSRV+5!
   DIC("B"      GETSRV+4*
   DIC(0        GETSRV+3*
   DIERR        SKEYADD+1~,SKEYADD+15,SKEYADD+20
   DIR          PAUSE+3!
   DIR("A"      PAUSE+3*
   DIR(0        PAUSE+3*
   DIROUT       PAUSE+1~
   DIRUT        PAUSE+1~,PAUSE+4
   DTOUT        PAUSE+1~,GETSRV+1~
   DUOUT        PAUSE+1~,GETSRV+1~
   DUZ          ATTACHDR+3,ATTACHDR+4,GETSRV+4
   DUZ(2        STATUSER+1
   I            EOFAC+19~,EOFAC+21*,IMPORT+8~,IMPORT+14*
   INFOARR      ATTACHDR+1~,ATTACHDR+2*,ATTACHDR+10
   IOF          HEAD+1
   IOSL         DISPSRVS+10
   IPPORT       DISPSRVS+1~,DISPSRVS+8*,DISPSRVS+11
   NAME         DISPSRVS+1~,DISPSRVS+7*,DISPSRVS+11
   SITE         DISPSRVS+1~
   STATUS       DISPSRVS+1~,DISPSRVS+9*,DISPSRVS+11
   U            SNAME4KY+8,SNAME4KY+11,GETSRV+4,GETSRV+7
   X            PAUSE+1~,IMPORT+8~,IMPORT+14*,IMPORT+15,GETSRV+1~
   XOBCODE      EOFAC+19~,EOFAC+20*,EOFAC+22
   XOBDATA      DISPSRVS+4,DISPSRVS+13!
   XOBDATA("DILIST" 
                DISPSRVS+3
   XOBDIR       IMPORT~,IMPORT+9
   XOBERR       EOFAC+1~,EOFAC+6*,EOFAC+12*,EOFAC+22*,EOFAC+26*,EOFACQ+1
                SKEYADD+1~,SNAME4KY~,SNAME4KY+4*,SNAME4KY+6*,SNAME4KY+9*
   XOBEXIT      PAUSE~,PAUSE+4*,DISPSRVS+1~,DISPSRVS+2*,DISPSRVS+6,DISPSRVS+10
                DISPSRVS+12
   XOBFDA       SKEYADD+1~
   XOBFDA(      SKEYADD+10*,SKEYADD+11*
   XOBFDAI      SKEYADD+1~
   XOBFDAI(1    SKEYADD+24
   XOBFILE      IMPORT~,IMPORT+9
   XOBI         DISPSRVS+1~,DISPSRVS+6*,DISPSRVS+7,DISPSRVS+8,DISPSRVS+9
   XOBIEN       SKEYADD+1~,SKEYADD+3*,SKEYADD+6,SKEYADD+13,SKEYADD+16*
                SKEYADD+21*,SKEYADD+24*,SKEYADD+26
   XOBIENS      SKEYADD+1~,SKEYADD+6*,SKEYADD+7*,SKEYADD+10,SKEYADD+11
   XOBJ         DISPSRVS+1~
   XOBKYIEN     SNAME4KY+1~,SNAME4KY+5*,SNAME4KY+6,SNAME4KY+8
   XOBKYNM      SNAME4KY+1~,SNAME4KY+2*,SNAME4KY+4,SNAME4KY+5,SNAME4KY+6
   XOBLERR      IMPORT+8~,IMPORT+13,IMPORT+14
   XOBLERR(     IMPORT+14
   XOBLIST      IMPORT+8~,IMPORT+11
   XOBOERR      SKEYADD~,SKEYADD+17,SKEYADD+22
   XOBPARMS     EOFAC+19~,EOFAC+22,SNAME4KY+1~
   XOBPARMS(    EOFAC+21*
   XOBPATH      IMPORT+8~,IMPORT+9*,IMPORT+10,IMPORT+11
   XOBPROXY     ATTACHDR~,ATTACHDR+10,EOFAC~,EOFAC+5
   XOBR         DISPSRVS+1~,DISPSRVS+2*
   XOBSTAT      IMPORT+8~,IMPORT+11*,IMPORT+12,IMPORT+15*,IMPORT+17*,IMPORT+18
   XOBSVRS      DISPSRVS+1~,DISPSRVS+3*,DISPSRVS+6,DISPSRVS+7,DISPSRVS+8
                DISPSRVS+9
   XOBWDESC     SKEYADD~,SKEYADD+11
   XOBWKEY      SKEYADD~,SKEYADD+2*,SKEYADD+3,SKEYADD+10,SNAME4KY~,SNAME4KY+2
                SNAME4KY+9
   XOBWSIEN     SNAME4KY+1~,SNAME4KY+8*,SNAME4KY+9,SNAME4KY+11
   XOBWSNM      SNAME4KY~,SNAME4KY+11*
   Y            PAUSE+1~,EOFAC+19~,EOFAC+21*,GETSRV+1~,GETSRV+6,GETSRV+7

Global Variables  ( * Changed  ! Killed)
   ^DISV(              GETSRV+4
   ^XOB(18.12          SNAME4KY+11,GETSRV+4
   ^XOB(18.13          SNAME4KY+5,SNAME4KY+8

Naked Globals
   ^(0          GETSRV+4

Cache Objects
   $system.OBJ.Load                IMPORT+11
   $system.Status.DecomposeStatus  IMPORT+13
   %File                           IMPORT+10
   %Library.ArrayOfDataTypes       ATTACHDR+2
   INFOARR.SetAt                   ATTACHDR+3,ATTACHDR+4,ATTACHDR+5,ATTACHDR+6
                                   ATTACHDR+7,ATTACHDR+8,ATTACHDR+9
   XOBPROXY.SoapFault              EOFAC+5,EOFAC+6
   xobw.VistaInfoHeader            ATTACHDR+10
   xobw.error.BasicError           EOFAC+26
   xobw.error.DialogError          EOFAC+22
   xobw.error.ObjectError          EOFAC+12
   xobw.error.SoapError            EOFAC+6

Marked Items
   NONE

Label References
   $$GETBLD     HEAD+3
   $$STATKSP    ATTACHDR+7
   $$STATUSER   ATTACHDR+8
   EOFACQ       EOFAC+5,EOFAC+11,EOFAC+18
   HEAD         DISPSRVS+5,DISPSRVS+10
   PAUSE        DISPSRVS+10

External References
   $$EC^%ZOSV          EOFAC+5,EOFAC+11,EOFAC+26
   $$EZBLD^DIALOG      EOFAC+22,SNAME4KY+4,SNAME4KY+6,SNAME4KY+9
   MSG^DIALOG          SKEYADD+17,SKEYADD+22
   ^DIC                GETSRV+5
   $$FIND1^DIC         SKEYADD+3
   LIST^DIC            DISPSRVS+4
   FILE^DIE            SKEYADD+14
   UPDATE^DIE          SKEYADD+19
   ^DIR                PAUSE+3
   $$CJ^XLFSTR         HEAD+2,HEAD+3
   $$UP^XLFSTR         SKEYADD+2,SNAME4KY+2
   $$VERSION^XOBWENV   GETBLD+1
   $$STA^XUAF4         STATKSP+1,STATUSER+1
   $$KSP^XUPARAM       STATKSP+1
   $$PROD^XUPROD       ATTACHDR+9
   $$VPID^XUPS         ATTACHDR+4

*****   END   *****


XOBWP004        * *  128 Lines,  4580 Bytes, Checksum: B25852913
                                                  Feb 23, 2018@12:47:25 page 6
              1094 bytes in comments
XOBWP004 ;OAK/BDT - HWSC ::XOBW*1*4 ; 06/28/2016
         ;;1.0;HwscWebServiceClient;**4**;September 13, 2010;Build 9
         ;Per VA Directive 6402, this routine should not be modified.
         ;
         ; ***** IMPORTANT NOTE *******************************************
         ; This routine requires access to the manager (%SYS) namespace and
         ; can only be run by a user with permissions to that namespace.
         ; ****************************************************************
         ;
         N XUSL,X
         N DIF,XCNP K ^TMP($J,369)
         S X="XOBWLIB"
         S DIF="^TMP($J,369,",XCNP=0 X ^%ZOSF("LOAD")
         I $G(^TMP($J,369,2,0))'[";Build 31" D BMES^XPDUTL("Your system is missi
          ng latest build 31st of the XOBW*1.0*0 package") S XPDABORT=1
         Q
         ;
POST     ;  -- main entry point for post-init
         D POST^XOBWPA04
         D POST^XOBWPB04
         D CHECK
         Q
         ;
CHECK    ; check privillege
         N XOBWNOTE
         I ($ROLES["%All")!($ROLES["%Manager") D SSLCONF Q
         DO INCOMP
         D MES^XPDUTL(" ** Warning **")
         S XOBWNOTE="The SSL/TLS Configuration could not be installed at this ti
          me.  "
         S XOBWNOTE=XOBWNOTE_"You don't have the required privileged Role.  "
         S XOBWNOTE=XOBWNOTE_"A System Administrator must complete this step.  "
         S XOBWNOTE=XOBWNOTE_"Please follow the Post-Installation Instructions."
         D MES^XPDUTL(XOBWNOTE)
         Q
         ;
INCOMP   ; generate incomplete-installation message
         S ^TMP("PSC DATA",$J,1)="Patch XOBW*1.0*4 has been installed but an ext
          ra step needs to be completed."
         S ^TMP("PSC DATA",$J,2)=""
         S ^TMP("PSC DATA",$J,3)="Please follow the instructions in the Post-Ins
          tallation Instructions "
         S ^TMP("PSC DATA",$J,4)="to request your respective System Administrati
          on support group "
         S ^TMP("PSC DATA",$J,5)="(Region Operation Center) to assist you in com
          pleting the installation "
         S ^TMP("PSC DATA",$J,6)="of this patch."
         I $$PROD^XUPROD() DO MESSAGE
         Q
         ;
MESSAGE  ;set up message and address list
         S MSG=$NA(^TMP("PSC DATA",$J))
         S MSGSBJ="XOBW*1.0*4 "_$G(^XMB("NETNAME"))
         S WHO("G.PATCH TRACKING XOBW_1_4@DOMAIN.EXT")=""
         S WHO("Jose.Luis-Garcia@domain.ext")=""
         S WHO(DUZ)=""
         D SENDMSG^XMXAPI(DUZ,MSGSBJ,.MSG,.WHO)
         K ^TMP("PSC DATA",$J),WHO,MSG
         Q
         ;
SSLCONF  ;Install SSL Configuration for encryption-only
         N XOBNAME,XOBPROP
         S XOBNAME="encrypt_only"
         ;I $$EXISTS(XOBNAME,.XOBPROP) D  Q
         ;.D BMES^XPDUTL(" o  '"_XOBNAME_"' SSL Config already exists and will n
          ot be replaced.")
         ; .D DISPL(.XOBPROP)
         ; .Q
         ; delete
         D DELETE(XOBNAME)
         ; create
         I $$CRSSL(XOBNAME,.XOBPROP) D  Q
         .D BMES^XPDUTL(" o  '"_XOBNAME_"' SSL Config successfully installed")
         .D DISPL(.XOBPROP)
         .Q
         ;
         D BMES^XPDUTL(" o  '"_XOBNAME_"' SSL Config could not be installed")
         Q
         ;
DISPL(XOBPROP) --
          ; Print out the result
          N XOBW,XOBWI
          W !!,?20,"Configuration Values"
          S XOBWI="" F  S XOBWI=$O(XOBPROP(XOBWI)) Q:XOBWI=""  W !,?10,XOBWI,?30
          ," : ",$G(XOBPROP(XOBWI))
          W !!
          Q 
         ;
EXISTS(XOBWIN,XOBPROP) --
          ; check an existed SSL
         N XOBEXSTS,XOBNAME
         D
         .S XOBNAME=$G(XOBWIN,"encrypt_only"),XOBEXSTS=0
         .; change to %SYS namespace then revert upon finishing
         .N $NAMESPACE ;Push current namespace onto the stack
         .S $NAMESPACE="%SYS" ;Change namespace, revert back upon "Q"
          .; Check if SSL configuration exists
         .S XOBEXSTS=##class(Security.SSLConfigs).Get(XOBNAME,.XOBPROP)
         .Q
         Q $G(XOBEXSTS)
         ;
CRSSL(XOBWIN,XOBPROP) --
          ; create a new SSL
         N XOBSTAT,XOBNAME
         DO
         .N XOBCONFG,XOBPROP2,XOBSTAT2
         .S XOBNAME=$G(XOBWIN,"encrypt_only"),XOBSTAT=0
         .; change to %SYS namespace then revert upon finishing
         .N $NAMESPACE ;Push current namespace onto the stack
         .S $NAMESPACE="%SYS" ;Change namespace, revert back upon "Q"
         .S XOBPROP2("Description")="Patch XOBW*1*4"
         .S XOBPROP2("Enabled")=1
         .S XOBPROP2("Protocols")=2
         .S XOBCONFG=##class(Security.SSLConfigs).%New()
         .S XOBSTAT=XOBCONFG.Create(XOBNAME,.XOBPROP2)
         .; get complete set of properties
         .S XOBSTAT2=##class(Security.SSLConfigs).Get(XOBNAME,.XOBPROP)
         .Q
         Q $G(XOBSTAT)
         ;
CHCKEXST(XOBNAME) --
          ;check and display an SSL
         N XOBPROP
         S XOBNAME=$G(XOBNAME,"encrypt_only")
         I $$EXISTS(XOBNAME,.XOBPROP) D  Q
         . D DISPL(.XOBPROP)
         D BMES^XPDUTL(" >>>>  '"_XOBNAME_"' SSL Config doesn't exist.")
         D BMES^XPDUTL("")
         Q
DELETE(XOBWIN) --
          ; delete an existing SSL configuration
         N XOBNAME,XOBSTAT
         D
         .S XOBNAME=$G(XOBWIN,"encrypt_only")
         .; change to %SYS namespace then revert upon finishing
         .N $NAMESPACE ;Push current namespace onto the stack
         .S $NAMESPACE="%SYS" ;Change namespace, revert back upon "Q"
          .; Check if SSL configuration exists
         .S XOBSTAT=##class(Security.SSLConfigs).Delete(XOBNAME)
         .Q
         Q
*****   ERRORS & WARNINGS IN XOBWP004   *****
   CHECK+2      F - Undefined Special Variable.
   CHECK+2      F - Undefined Special Variable.
   EXISTS+5     F - Undefined Special Variable.
   EXISTS+5     W - Invalid local variable name.
   EXISTS+5     F - Undefined Special Variable.
   EXISTS+6     F - Undefined Special Variable.
   EXISTS+6     F - Unrecognized argument in SET command.
   CRSSL+6      F - Undefined Special Variable.
   CRSSL+6      W - Invalid local variable name.
   CRSSL+6      F - Undefined Special Variable.
   CRSSL+7      F - Undefined Special Variable.
   CRSSL+7      F - Unrecognized argument in SET command.
   DELETE+5     F - Undefined Special Variable.
   DELETE+5     W - Invalid local variable name.
   DELETE+5     F - Undefined Special Variable.
   DELETE+6     F - Undefined Special Variable.
   DELETE+6     F - Unrecognized argument in SET command.

*****   INDEX OF XOBWP004   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   DIF          XOBWP004+10~,XOBWP004+12*
   DUZ          MESSAGE+5,MESSAGE+6
   MSG          MESSAGE+1*,MESSAGE+6,MESSAGE+7!
>> MSGSBJ       MESSAGE+2*,MESSAGE+6
   WHO          MESSAGE+6,MESSAGE+7!
   WHO(         MESSAGE+5*
   WHO("G.PATCH TRACKING XOBW_1_4@DOMAIN.EXT" 
                MESSAGE+3*
   WHO("Jose.Luis-Garcia@domain.ext" 
                MESSAGE+4*
   X            XOBWP004+9~,XOBWP004+11*
   XCNP         XOBWP004+10~,XOBWP004+12*
   XOBCONFG     CRSSL+3~,CRSSL+11*
   XOBEXSTS     EXISTS+1~,EXISTS+3*,EXISTS+8*,EXISTS+10
   XOBNAME      SSLCONF+1~,SSLCONF+2*,SSLCONF+8,SSLCONF+10,SSLCONF+11
                SSLCONF+15,EXISTS+1~,EXISTS+3*,EXISTS+8,CRSSL+1~,CRSSL+4*
                CRSSL+12,CRSSL+14,CHCKEXST~,CHCKEXST+2*,CHCKEXST+3,CHCKEXST+5
                DELETE+1~,DELETE+3*,DELETE+8
   XOBPROP      SSLCONF+1~,SSLCONF+10,SSLCONF+12,DISPL~,EXISTS~,EXISTS+8,CRSSL~
                CRSSL+14,CHCKEXST+1~,CHCKEXST+3,CHCKEXST+4
   XOBPROP(     DISPL+3
   XOBPROP2     CRSSL+3~,CRSSL+12
   XOBPROP2("Description" 
                CRSSL+8*
   XOBPROP2("Enabled" 
                CRSSL+9*
   XOBPROP2("Protocols" 
                CRSSL+10*
   XOBSTAT      CRSSL+1~,CRSSL+4*,CRSSL+12*,CRSSL+16,DELETE+1~,DELETE+8*
   XOBSTAT2     CRSSL+3~,CRSSL+14*
   XOBW         DISPL+1~
   XOBWI        DISPL+1~,DISPL+3*
   XOBWIN       EXISTS~,EXISTS+3,CRSSL~,CRSSL+4,DELETE~,DELETE+3
   XOBWNOTE     CHECK+1~,CHECK+5*,CHECK+6*,CHECK+7*,CHECK+8*,CHECK+9
>> XPDABORT     XOBWP004+13*
   XUSL         XOBWP004+9~

Global Variables  ( * Changed  ! Killed)
   ^%ZOSF("LOAD"       XOBWP004+12
   ^TMP("PSC DATA"     INCOMP+1*,INCOMP+2*,INCOMP+3*,INCOMP+4*,INCOMP+5*
                       INCOMP+6*,MESSAGE+1,MESSAGE+7!
   ^TMP($J             XOBWP004+10!,XOBWP004+13
   ^XMB("NETNAME"      MESSAGE+2

Naked Globals
   NONE

Cache Objects
   Security.SSLConfigs             EXISTS+8,CRSSL+11,CRSSL+14,DELETE+8
   XOBCONFG.Create                 CRSSL+12

Marked Items
   NONE

Label References
   $$CRSSL      SSLCONF+10
   $$EXISTS     CHCKEXST+3
   CHECK        POST+3
   DELETE       SSLCONF+8
   DISPL        SSLCONF+12,CHCKEXST+4
   INCOMP       CHECK+3
   MESSAGE      INCOMP+7
   SSLCONF      CHECK+2

External References
   SENDMSG^XMXAPI      MESSAGE+6
   POST^XOBWPA04       POST+1
   POST^XOBWPB04       POST+2
   BMES^XPDUTL         XOBWP004+13,SSLCONF+11,SSLCONF+15,CHCKEXST+5,CHCKEXST+6
   MES^XPDUTL          CHECK+4,CHECK+9
   $$PROD^XUPROD       INCOMP+7

*****   END   *****


XOBWPA04        * *  213 Lines,  8449 Bytes, Checksum: B90514000
                                                  Feb 23, 2018@12:47:25 page 7
              845 bytes in comments
XOBWPA04 ;OAK/BDT - HWSC :: Environmental Check ; 06/28/2016
         ;;1.0;HwscWebServiceClient;**4**;September 13, 2010;Build 9
         ;Per VA Directive 6402, this routine should not be modified.
         ;
         ; ***** IMPORTANT NOTE *******************************************
         ; This routine requires access to the manager (%SYS) namespace and
         ; can only be run by a user with permissions to that namespace.
         ; ****************************************************************
         ;
         ; Loads "xobw4.xml" into XOBW*1*4 transport global. Post-installation
         ; routine ^XOBWPA04 will reconstruct the file for the installation of C
          ache
         ; classes into VistA to support SSL. The "xobw4.xml"
         ; file must be in the PRIMARY HFS DIRECTORY prior to transport.
         ;
         ; Note: Make sure that there are no lines longer than 255 chars in the 
          file
         ; to be loaded! It appears $$FTG is not creating overflow nodes.
         ;
POST     ;
         D SETDATA ;
         D IMPDATA ;
         Q
GETDATA  ; export data from xobw4.xml file
         N I,X,XFILE,XPATH,XREF
         K ^TMP($J,4)
         S XFILE="xobw4.xml"
         S XPATH=$$DEFDIR^%ZISH ;PRIMARY HFS DIRECTORY
         S XREF="^TMP("_$J_",4,1,0)"
         S X=$$FTG^%ZISH(XPATH,XFILE,XREF,3) ;Load file into global
         Q
         ;
IMPDATA  ; import data into xobw4.xml file
         N XDIR,XOBWY,Y
         S XDIR=$$DEFDIR^%ZISH
             S XREF="^TMP("_$J_",4,1,0)"
             S Y=$$GTF^%ZISH(XREF,3,XDIR,"xobw4.xml")  ;Export ^TMP global to XM
          L file
             K ^TMP($J,4)
             S XDIR=$$DEFDIR^%ZISH
             S XOBWY=$$IMPORT^XOBWLIB1(XDIR,"xobw4.xml")  ;Import Cache classes
             IF 'XOBWY DO
             . DO BMES^XPDUTL("Error occurred during the importing of support cl
          asses file:")
             . DO MES^XPDUTL("  Directory: "_XDIR)
             . DO MES^XPDUTL("  File Name: "_"xobw4.xml")
             . DO MES^XPDUTL("      Error: "_$PIECE(XOBWY,"^",2))
             . DO MES^XPDUTL(" o  Classes not imported.")
          ELSE  DO
           . DO MES^XPDUTL(" o  Support classes imported successfully.")
           . DO MES^XPDUTL(" ")
         Q
         ;
SETDATA  ;
           N I,IT
           K ^TMP($J,4)
           F I=1:1:158 S IT=$T(DATA+I)  S ^TMP($J,4,I,0)=$P(IT,";;",2)
           Q
DATA     ;
           ;;<?xml version="1.0" encoding="UTF-8"?>
           ;;<Export generator="Cache" version="25" zv="Cache for UNIX (Red Hat 
          Enterprise Linux for x86-64) 2014.1.3 (Build 775)" ts="2016-06-10 11:1
          4:51">
           ;;<Class name="xobw.WebServiceProxyFactory">
           ;;<Description><![CDATA[
           ;;This factory class contains methods to create web service proxy ins
          tances.
           ;;<br><br>As part of the creation process, web server ip/port resolut
          ion is performed and
           ;;any security implementation, as defined by ISS, is executed. ]]></D
          escription>
           ;;<ClassType/>
           ;;<ProcedureBlock>1</ProcedureBlock>
           ;;<Super>%RegisteredObject</Super>
           ;;<TimeChanged>64072,51245.767727</TimeChanged>
           ;;<TimeCreated>60655,58903.754395</TimeCreated>
           ;;
           ;;<UDLText name="T">
           ;;<Content><![CDATA[
           ;;// 1.0;HwscWebServiceClient   ;;September 13, 2010
           ;;
           ;;]]></Content>
           ;;</UDLText>
           ;;
           ;;<UDLText name="T">
           ;;<Content><![CDATA[
           ;;// HealtheVet Web Service Client v1 [Build: 1.0.1.009]
           ;;
           ;;]]></Content>
           ;;</UDLText>
           ;;
           ;;<Property name="webServiceMetadata">
           ;;<Type>WebServiceMetadata</Type>
           ;;<Private>1</Private>
           ;;</Property>
           ;;
           ;;<Method name="%OnNew">
           ;;<FormalSpec>webServiceName:%String</FormalSpec>
           ;;<ReturnType>%Status</ReturnType>
           ;;<Implementation><![CDATA[
           ;; set webServiceId=##class(xobw.WebServiceMetadata).getWebServiceId(
          webServiceName)
           ;; if 'webServiceId {
           ;;     do ##class(xobw.error.DialogError).forceError(186006_"^"_webSe
          rviceName)
           ;; }
           ;; set ..webServiceMetadata=##class(xobw.WebServiceMetadata).%OpenId(
          webServiceId)
           ;; quit $$$OK
           ;;]]></Implementation>
           ;;</Method>
           ;;
           ;;<Method name="getProxy">
           ;;<Description><![CDATA[
           ;;Creates web service client proxy for a web server.
           ;;<ul>
           ;;Parameter:
           ;; <li><parameter>webServerName = name of server as it appears in NAM
          E (#.01) field of a WEB SERVER (#18.12) file entry</parameter>
           ;;</ul>]]></Description>
           ;;<FormalSpec>webServerName:%String</FormalSpec>
           ;;<ReturnType>%SOAP.WebClient</ReturnType>
           ;;<Implementation><![CDATA[
           ;;  // Future: Add any required headers to proxy when discovered, if 
          any
           ;;  new %proxy
           ;;  if ..webServiceMetadata.type'=1 {
           ;;      do ##class(xobw.error.DialogError).forceError(186007)
           ;;  }
           ;;  xecute "set %proxy=##class("_..webServiceMetadata.proxyClassName_
          ").%New()"
           ;;  if %proxy'=$$$NULLOREF {
           ;;   set webServerId=##class(xobw.WebServer).getWebServerId(webServer
          Name)
           ;;    if 'webServerId {
           ;;      do ##class(xobw.error.DialogError).forceError(186005_"^"_webS
          erverName)
           ;;   }    
           ;;   set webServer=##class(xobw.WebServer).%OpenId(webServerId)
           ;;   
           ;;   // web server is disabled
           ;;   if 'webServer.status {
           ;;    do ##class(xobw.error.DialogError).forceError(186002_"^"_webSer
          ver.name)
           ;;   }
           ;;   
           ;;   do ..setUpCredentials(webServer, %proxy)
           ;;   do ..setUpLocation(webServer, %proxy)
           ;;  }
           ;; quit $get(%proxy)
           ;;]]></Implementation>
           ;;</Method>
           ;;
           ;;<Method name="setUpCredentials">
           ;;<FormalSpec>webServer:WebServer,proxy:%SOAP.WebClient</FormalSpec>
           ;;<Private>1</Private>
           ;;<Implementation><![CDATA[
           ;; set authorizedWebServiceId=##class(xobw.WebServicesAuthorized).get
          AuthorizedWebServiceId(webServer,..webServiceMetadata)
           ;; 
           ;; // web service is not authorized
           ;; if 'authorizedWebServiceId {
           ;;  do ##class(xobw.error.DialogError).forceError(186003_"^"_..webSer
          viceMetadata.name_"^"_webServer.name)
           ;; }
           ;; 
           ;; set authorizedWebService=##class(xobw.WebServicesAuthorized).%Open
          Id(authorizedWebServiceId)
           ;; 
           ;; // web service is disabled
           ;; if 'authorizedWebService.status {
           ;;  do ##class(xobw.error.DialogError).forceError(186004_"^"_..webSer
          viceMetadata.name_"^"_webServer.name)
           ;; }
           ;; 
           ;; if webServer.loginRequired="1"!(webServer.loginRequired="") {
           ;;  set proxy.HttpUsername=webServer.userName
           ;;  set proxy.HttpPassword=webServer.getPassword()
           ;; }
           ;; quit
           ;;]]></Implementation>
           ;;</Method>
           ;;
           ;;<Method name="setUpLocation">
           ;;<FormalSpec>webServer:WebServer,proxy:%SOAP.WebClient</FormalSpec>
           ;;<Private>1</Private>
           ;;<Implementation><![CDATA[
           ;; if (webServer.sslEnabled && ('$$SSLOK^XOBWENV())) {
           ;;  do ##class(xobw.error.DialogError).forceError(186002_"^"_webServe
          r.name_" (SSL is disabled on VMS)")
           ;; }
           ;; if (webServer.sslEnabled) {
           ;;  set proxy.Location="https://"_webServer.server_":"_webServer.sslP
          ort_"/"_..webServiceMetadata.contextRoot
           ;;  set proxy.SSLConfiguration = webServer.sslConfiguration
           ;;  set proxy.SSLCheckServerIdentity = 0
           ;; } else {
           ;;  set proxy.Location="http://"_webServer.server_":"_webServer.port_
          "/"_..webServiceMetadata.contextRoot
           ;; }
           ;; set proxy.Timeout=webServer.defaultTimeout
           ;; quit
           ;;]]></Implementation>
           ;;</Method>
           ;;
           ;;<Method name="close">
           ;;<Description><![CDATA[
           ;;Close web service proxy factory
           ;;<br>
           ;;<br>Performs any close processing activities required.]]></Descript
          ion>
           ;;<ReturnType>%Status</ReturnType>
           ;;<Implementation><![CDATA[ quit $$$OK
           ;;]]></Implementation>
           ;;</Method>
           ;;
           ;;<Method name="getWebServiceProxy">
           ;;<Description><![CDATA[
           ;;Create web service proxy
           ;;<ul>
           ;;Parameters:
           ;; <li><parameter>webServiceName = name of service as it appears NAME
           (#.01) field in an WEB SERVICE (#18.02) file entry</parameter>
           ;; <li><parameter>webServerName = name of server as it appears NAME (
          #.01) field in an WEB SERVER (#18.12) file entry</parameter>
           ;;</ul>
           ;;<br><b>Restricted Use:</b> This method is for HWSC use only. Applic
          ations should use the $$GETPROXY^XOBWLB(...) API]]></Description>
           ;;<ClassMethod>1</ClassMethod>
           ;;<FormalSpec>webServiceName:%String,webServerName:%String</FormalSpe
          c>
           ;;<ReturnType>%SOAP.WebClient</ReturnType>
           ;;<Implementation><![CDATA[
           ;; set factory=##class(xobw.WebServiceProxyFactory).%New(webServiceNa
          me)
           ;; if factory'=$$$NULLOREF {
           ;;  set proxy=factory.getProxy(webServerName)
           ;;  set ok=factory.close()
           ;; }
           ;; quit $get(proxy,$$$NULLOREF)
           ;;]]></Implementation>
           ;;</Method>
           ;;</Class>
           ;;</Export>

*****   INDEX OF XOBWPA04   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   I            GETDATA+1~,SETDATA+1~,SETDATA+3*
   IT           SETDATA+1~,SETDATA+3*
   X            GETDATA+1~,GETDATA+6*
   XDIR         IMPDATA+1~,IMPDATA+2*,IMPDATA+4,IMPDATA+6*,IMPDATA+7,IMPDATA+10
   XFILE        GETDATA+1~,GETDATA+3*,GETDATA+6
   XOBWY        IMPDATA+1~,IMPDATA+7*,IMPDATA+8,IMPDATA+12
   XPATH        GETDATA+1~,GETDATA+4*,GETDATA+6
   XREF         GETDATA+1~,GETDATA+5*,GETDATA+6,IMPDATA+3*,IMPDATA+4
   Y            IMPDATA+1~,IMPDATA+4*

Global Variables  ( * Changed  ! Killed)
   ^TMP($J             GETDATA+2!,IMPDATA+5!,SETDATA+2!,SETDATA+3*

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   $T(DATA+I    SETDATA+3

Label References
   IMPDATA      POST+2
   SETDATA      POST+1

External References
   $$DEFDIR^%ZISH      GETDATA+4,IMPDATA+2,IMPDATA+6
   $$FTG^%ZISH         GETDATA+6
   $$GTF^%ZISH         IMPDATA+4
   $$IMPORT^XOBWLIB1   IMPDATA+7
   BMES^XPDUTL         IMPDATA+9
   MES^XPDUTL          IMPDATA+10,IMPDATA+11,IMPDATA+12,IMPDATA+13,IMPDATA+15
                       IMPDATA+16

*****   END   *****


XOBWPB04        * *  378 Lines,  12468 Bytes, Checksum: B190407811
                                                  Feb 23, 2018@12:47:25 page 8
              848 bytes in comments
XOBWPB04 ;OAK/BDT - HWSC :: Environmental Check ; 06/28/2016
         ;;1.0;HwscWebServiceClient;**4**;September 13, 2010;Build 9
         ;Per VA Directive 6402, this routine should not be modified.
         ;
         ; ***** IMPORTANT NOTE *******************************************
         ; This routine requires access to the manager (%SYS) namespace and
         ; can only be run by a user with permissions to that namespace.
         ; ****************************************************************
         ;
         ; Loads "xobw4b.xml" into XOBW*1*4 transport global. Post-installation
         ; routine ^XOBWPA04 will reconstruct the file for the installation of C
          ache
         ; classes into VistA to support SSL. The "xobw4.xml"
         ; file must be in the PRIMARY HFS DIRECTORY prior to transport.
         ;
         ; Note: Make sure that there are no lines longer than 255 chars in the 
          file
         ; to be loaded! It appears $$FTG is not creating overflow nodes.
         ;
POST     ;
         D SETDATA ;
         D IMPDATA ;
         Q
GETDATA  ; export data from xobw4b.xml file
         N I,X,XFILE,XPATH,XREF
         K ^TMP($J,4)
         S XFILE="xobw4b.xml"
         S XPATH=$$DEFDIR^%ZISH ;PRIMARY HFS DIRECTORY
         S XREF="^TMP("_$J_",4,1,0)"
         S X=$$FTG^%ZISH(XPATH,XFILE,XREF,3) ;Load file into global
         Q
         ;
IMPDATA  ; import data into xobw4b.xml file
         N XDIR,XOBWY,Y
         S XDIR=$$DEFDIR^%ZISH
             S XREF="^TMP("_$J_",4,1,0)"
             S Y=$$GTF^%ZISH(XREF,3,XDIR,"xobw4b.xml")  ;Export ^TMP global to X
          ML file
             K ^TMP($J,4)
             S XDIR=$$DEFDIR^%ZISH
             S XOBWY=$$IMPORT^XOBWLIB1(XDIR,"xobw4b.xml")  ;Import Cache classes
             IF 'XOBWY DO
             . DO BMES^XPDUTL("Error occurred during the importing of support cl
          asses file:")
             . DO MES^XPDUTL("  Directory: "_XDIR)
             . DO MES^XPDUTL("  File Name: "_"xobw4b.xml")
             . DO MES^XPDUTL("      Error: "_$PIECE(XOBWY,"^",2))
             . DO MES^XPDUTL(" o  Classes not imported.")
          ELSE  DO
           . DO MES^XPDUTL(" o  Support classes imported successfully.")
           . DO MES^XPDUTL(" ")
         Q
         ;
SETDATA  ;
           N I,IT
           K ^TMP($J,4)
           F I=1:1:323 S IT=$T(DATA+I)  S ^TMP($J,4,I,0)=$P(IT,"   ;;",2,99)
           Q
DATA     ;
           ;;<?xml version="1.0" encoding="UTF-8"?>
           ;;<Export generator="Cache" version="25" zv="Cache for UNIX (Red Hat 
          Enterprise Linux for x86-64) 2014.1.3 (Build 775)" ts="2016-06-22 15:4
          8:50">
           ;;<Class name="xobw.WebServer">
           ;;<Description><![CDATA[
           ;;This persistent class contains web server connection information us
          ed to connect to server hosting web services
           ;;<br>
           ;;This class is mapped to the VA FileMan WEB SERVER (#18.12) file
           ;;<br><br>
           ;;<b>Restricted Use:</b> The properties and methods of this class are
           for HWSC use only.
           ;;  ]]></Description>
           ;;<ClassType>persistent</ClassType>
           ;;<ProcedureBlock>1</ProcedureBlock>
           ;;<SqlRowIdPrivate>1</SqlRowIdPrivate>
           ;;<SqlTableName>WebServer</SqlTableName>
           ;;<StorageStrategy>WebServerStorage</StorageStrategy>
           ;;<Super>%Persistent</Super>
           ;;<TimeChanged>64091,56835.117773</TimeChanged>
           ;;<TimeCreated>60654,21265.065878</TimeCreated>
           ;;
           ;;<UDLText name="T">
           ;;<Content><![CDATA[
           ;;// 1.0;HwscWebServiceClient;;September 13, 2010
           ;;
           ;;]]></Content>
           ;;</UDLText>
           ;;
           ;;<UDLText name="T">
           ;;<Content><![CDATA[
           ;;// HealtheVet Web Service Client v1 [Build: 1.0.1.009]
           ;;
           ;;]]></Content>
           ;;</UDLText>
           ;;
           ;;<Index name="ienIndex">
           ;;<IdKey>1</IdKey>
           ;;<PrimaryKey>1</PrimaryKey>
           ;;<Properties>ien</Properties>
           ;;<Unique>1</Unique>
           ;;</Index>
           ;;
           ;;<Property name="server">
           ;;<Type>%String</Type>
           ;;<Parameter name="TRUNCATE" value="1"/>
           ;;</Property>
           ;;
           ;;<Property name="port">
           ;;<Type>%Integer</Type>
           ;;<Collection/>
           ;;<Relationship>0</Relationship>
           ;;</Property>
           ;;
           ;;<Property name="ien">
           ;;<Type>%String</Type>
           ;;<Collection/>
           ;;<Relationship>0</Relationship>
           ;;<Parameter name="TRUNCATE" value="1"/>
           ;;</Property>
           ;;
           ;;<Property name="name">
           ;;<Type>%String</Type>
           ;;<Collection/>
           ;;<Relationship>0</Relationship>
           ;;<Parameter name="TRUNCATE" value="1"/>
           ;;</Property>
           ;;
           ;;<Property name="production">
           ;;<Type>%Boolean</Type>
           ;;<Collection/>
           ;;<Relationship>0</Relationship>
           ;;<Transient>1</Transient>
           ;;</Property>
           ;;
           ;;<UDLText name="T">
           ;;<Content><![CDATA[
           ;;// server credentials
           ;;
           ;;]]></Content>
           ;;</UDLText>
           ;;
           ;;<Property name="loginRequired">
           ;;<Type>%Boolean</Type>
           ;;<SqlFieldName>loginRequired</SqlFieldName>
           ;;</Property>
           ;;
           ;;<Property name="password">
           ;;<Type>%String</Type>
           ;;<Private>1</Private>
           ;;<SqlFieldName>password</SqlFieldName>
           ;;<Parameter name="TRUNCATE" value="1"/>
           ;;</Property>
           ;;
           ;;<Property name="userName">
           ;;<Type>%String</Type>
           ;;<SqlFieldName>userName</SqlFieldName>
           ;;<Parameter name="TRUNCATE" value="1"/>
           ;;</Property>
           ;;
           ;;<Property name="defaultTimeout">
           ;;<Type>%Integer</Type>
           ;;<InitialExpression>30</InitialExpression>
           ;;<SqlFieldName>defaultTimeout</SqlFieldName>
           ;;<Parameter name="MAXVAL" value="7200"/>
           ;;<Parameter name="MINVAL" value="5"/>
           ;;</Property>
           ;;
           ;;<Property name="sslEnabled">
           ;;<Type>%Boolean</Type>
           ;;<SqlFieldName>sslEnabled</SqlFieldName>
           ;;</Property>
           ;;
           ;;<Property name="sslConfiguration">
           ;;<Type>%String</Type>
           ;;<SqlFieldName>sslConfiguration</SqlFieldName>
           ;;<Parameter name="TRUNCATE" value="1"/>
           ;;</Property>
           ;;
           ;;<Property name="sslPort">
           ;;<Type>%String</Type>
           ;;<SqlFieldName>sslPort</SqlFieldName>
           ;;<Parameter name="TRUNCATE" value="1"/>
           ;;</Property>
           ;;
           ;;<UDLText name="T">
           ;;<Content><![CDATA[
           ;;// for ISS use ------------------------
           ;;
           ;;]]></Content>
           ;;</UDLText>
           ;;
           ;;<Property name="authorizedWebServices">
           ;;<Type>xobw.WebServicesAuthorized</Type>
           ;;<Cardinality>children</Cardinality>
           ;;<Inverse>webServerRef</Inverse>
           ;;<Relationship>1</Relationship>
           ;;</Property>
           ;;
           ;;<Property name="status">
           ;;<Type>%Boolean</Type>
           ;;<Collection/>
           ;;<Relationship>0</Relationship>
           ;;</Property>
           ;;
           ;;<Method name="getPassword">
           ;;<ReturnType>%String</ReturnType>
           ;;<Implementation><![CDATA[ quit $$DECRYP^XOBWPWD(..password)
           ;;]]></Implementation>
           ;;</Method>
           ;;
           ;;<Method name="checkWebServicesAvailability">
           ;;<FormalSpec>dots:%String</FormalSpec>
           ;;<ReturnType>%Library.ListOfDataTypes</ReturnType>
           ;;<Implementation><![CDATA[
           ;; set key = ""
           ;; set count=0
           ;; set result=##class(%ListOfDataTypes).%New()
           ;;
           ;; // if server is disabled, stop
           ;; if '..status {
           ;;  do result.Insert("")
           ;;  do result.Insert(" o Web server is disabled")
           ;;  do result.Insert("")
           ;;  quit result
           ;; }
           ;;
           ;; // loop thru web services credentials defined for server and build
           list output
           ;; // mainly for ListMan consumption (AVAIL^XOBWUT1)
           ;; do {
           ;;  set authorizedWebService = ..authorizedWebServices.GetNext(.key)
           ;;  if $get(dots) write "."
           ;;  set count=count+1
           ;;  if (authorizedWebService '= $$$NULLOREF) {
           ;;   set webService=##class(xobw.WebServiceMetadata).%OpenId(authoriz
          edWebService.webServiceIen)
           ;;   if (authorizedWebService.status) {
           ;;    if ((webService.type=1) || (webService.type=2)) {
           ;;     if ##class(xobw.WebServiceMetadata).checkResourceAvailability(
          ##this,authorizedWebService,webService,.httpStatusCode) {
           ;;      do result.Insert(count_" "_webService.name_" is available")
           ;;     } else {
           ;;      do result.Insert(count_" Unable to retrieve '"_webService.ava
          ilResource_"' for "_webService.name)
           ;;      //
           ;;      // the following lines will report spurious %objlasterror err
          ors.
           ;;      // supposed to be fixed in Cache 5.1+.
           ;;      // 
           ;;      if ($data(%objlasterror)'=0) {
           ;;       do $system.Status.DecomposeStatus(%objlasterror,.err)
           ;;       set x=$get(err(1)," o no reason available")
           ;;       set length=$length(x)
           ;;       do result.Insert(" o "_$extract(x,1,70))
           ;;       set x=$extract(x,71,length)
           ;;       while (x'="") {
           ;;        do result.Insert(" "_$extract(x,1,70))
           ;;        set x=$extract(x,71,length)
           ;;       } // while
           ;;       // if there is a status code, show it
           ;;       if $get(httpStatusCode)]"" do result.Insert(" o HTTP Respons
          e Status Code: "_httpStatusCode)
           ;;      } else {
           ;;       do result.Insert(" o HTTP Response Status Code: "_$get(httpS
          tatusCode,"<no status code available>"))
           ;;      } // %objlasterror 
           ;;     } // resource availability
           ;;    } else {
           ;;     do result.Insert(count_" "_webService.name_" is not a valid we
          b service type ["_webservice.type_"]")
           ;;    } // not valid type (rare and should not occur)
           ;;   } else {
           ;;    do result.Insert(count_" "_webService.name_" is not enabled")
           ;;   } // authorizedWebService.status
           ;;  } // authorizedWebService
           ;; } while (key '= "")
           ;; quit result
           ;;]]></Implementation>
           ;;</Method>
           ;;
           ;;<Method name="getWebServerId">
           ;;<ClassMethod>1</ClassMethod>
           ;;<FormalSpec>name:%String</FormalSpec>
           ;;<ReturnType>%String</ReturnType>
           ;;<Implementation><![CDATA[
           ;; if $get(name)="" {
           ;;     do ##class(xobw.error.DialogError).forceError(186005_"^<empty 
          string>")
           ;; }
           ;; quit +$order(^XOB(18.12,"B",name,0))
           ;;]]></Implementation>
           ;;</Method>
           ;;
           ;;<Method name="setUpHttpRequest">
           ;;<FormalSpec>httpRequest:%Net.HttpRequest</FormalSpec>
           ;;<Implementation><![CDATA[
           ;; if (..sslEnabled && ('$$SSLOK^XOBWENV())) {
           ;;  do ##class(xobw.error.DialogError).forceError(186002_"^"_..name_"
           (SSL is disabled on VMS)")
           ;; }
           ;; if (..sslEnabled) {
           ;;  set httpRequest.Https=1
           ;;  set httpRequest.SSLConfiguration=..sslConfiguration
           ;;  set httpRequest.Port=..sslPort
           ;;  set httpRequest.SSLCheckServerIdentity = 0
           ;; } else {
           ;;  set httpRequest.Port=..port
           ;; }
           ;; // common setting
           ;; set httpRequest.Server=..server
           ;; set httpRequest.Timeout=..defaultTimeout
           ;; quit
           ;;]]></Implementation>
           ;;</Method>
           ;;
           ;;<Method name="defaultTimeoutGet">
           ;;<ReturnType>%Integer</ReturnType>
           ;;<Implementation><![CDATA[ quit $select(i%defaultTimeout:i%defaultTi
          meout,1:30)
           ;;]]></Implementation>
           ;;</Method>
           ;;
           ;;<Storage name="WebServerStorage">
           ;;<Type>%CacheSQLStorage</Type>
           ;;<StreamLocation>^xobw.WebServerS</StreamLocation>
           ;;<ExtentSize>100000</ExtentSize>
           ;;<SQLMap name="MasterMap">
           ;;<Type>data</Type>
           ;;<Global>^XOB</Global>
           ;;<Subscript name="1">
           ;;<Expression>18.12</Expression>
           ;;</Subscript>
           ;;<Subscript name="2">
           ;;<Expression>{ien}</Expression>
           ;;<LoopInitValue>0</LoopInitValue>
           ;;<StopExpression>'+{L2}</StopExpression>
           ;;</Subscript>
           ;;<RowIdSpec name="1">
           ;;<Expression>{L2}</Expression>
           ;;<Field>ien</Field>
           ;;</RowIdSpec>
           ;;<Data name="defaultTimeout">
           ;;<Delimiter>"^"</Delimiter>
           ;;<Node>0</Node>
           ;;<Piece>7</Piece>
           ;;</Data>
           ;;<Data name="loginRequired">
           ;;<Delimiter>"^"</Delimiter>
           ;;<Node>1</Node>
           ;;<Piece>1</Piece>
           ;;</Data>
           ;;<Data name="name">
           ;;<Delimiter>"^"</Delimiter>
           ;;<Node>0</Node>
           ;;<Piece>1</Piece>
           ;;</Data>
           ;;<Data name="password">
           ;;<Node>300</Node>
           ;;</Data>
           ;;<Data name="port">
           ;;<Delimiter>"^"</Delimiter>
           ;;<Node>0</Node>
           ;;<Piece>3</Piece>
           ;;</Data>
           ;;<Data name="server">
           ;;<Delimiter>"^"</Delimiter>
           ;;<Node>0</Node>
           ;;<Piece>4</Piece>
           ;;</Data>
           ;;<Data name="sslConfiguration">
           ;;<Delimiter>"^"</Delimiter>
           ;;<Node>3</Node>
           ;;<Piece>2</Piece>
           ;;</Data>
           ;;<Data name="sslEnabled">
           ;;<Delimiter>"^"</Delimiter>
           ;;<Node>3</Node>
           ;;<Piece>1</Piece>
           ;;</Data>
           ;;<Data name="sslPort">
           ;;<Delimiter>"^"</Delimiter>
           ;;<Node>3</Node>
           ;;<Piece>3</Piece>
           ;;</Data>
           ;;<Data name="status">
           ;;<Delimiter>"^"</Delimiter>
           ;;<Node>0</Node>
           ;;<Piece>6</Piece>
           ;;</Data>
           ;;<Data name="userName">
           ;;<Node>200</Node>
           ;;</Data>
           ;;</SQLMap>
           ;;</Storage>
           ;;</Class>
           ;;</Export>

*****   INDEX OF XOBWPB04   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   I            GETDATA+1~,SETDATA+1~,SETDATA+3*
   IT           SETDATA+1~,SETDATA+3*
   X            GETDATA+1~,GETDATA+6*
   XDIR         IMPDATA+1~,IMPDATA+2*,IMPDATA+4,IMPDATA+6*,IMPDATA+7,IMPDATA+10
   XFILE        GETDATA+1~,GETDATA+3*,GETDATA+6
   XOBWY        IMPDATA+1~,IMPDATA+7*,IMPDATA+8,IMPDATA+12
   XPATH        GETDATA+1~,GETDATA+4*,GETDATA+6
   XREF         GETDATA+1~,GETDATA+5*,GETDATA+6,IMPDATA+3*,IMPDATA+4
   Y            IMPDATA+1~,IMPDATA+4*

Global Variables  ( * Changed  ! Killed)
   ^TMP($J             GETDATA+2!,IMPDATA+5!,SETDATA+2!,SETDATA+3*

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   $T(DATA+I    SETDATA+3

Label References
   IMPDATA      POST+2
   SETDATA      POST+1

External References
   $$DEFDIR^%ZISH      GETDATA+4,IMPDATA+2,IMPDATA+6
   $$FTG^%ZISH         GETDATA+6
   $$GTF^%ZISH         IMPDATA+4
   $$IMPORT^XOBWLIB1   IMPDATA+7
   BMES^XPDUTL         IMPDATA+9
   MES^XPDUTL          IMPDATA+10,IMPDATA+11,IMPDATA+12,IMPDATA+13,IMPDATA+15
                       IMPDATA+16

*****   END   *****


XOBWPST        * *  118 Lines,  4130 Bytes, Checksum: B17271805
                                                  Feb 23, 2018@12:47:25 page 9
              1055 bytes in comments
XOBWPST  ;ALB/MJK - HWSC - Post-Init ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
EN       ;  -- main entry point for post-init
         NEW XOBSTAT
         ;
         ; -- delete all classes in xobw package
         DO DELETE()
         ;
         ; -- build primary key indices (for those who had installed early devel
          oper previews)
         DO INDEX()
         ;
         ; -- delete IP ADDRESS field (for those who had installed early develop
          er previews)
         DO DELIP()
         ;
         ; -- remove HtttpProxy* fields and 2 node (for those who had installed 
          early developer previews)
         DO DELHP()
         ;
         ; -- load hwsc support classes (mapped FM classes, etc.)
         NEW XOBSTAT
         SET XOBSTAT=$$IMPORT^XOBWLIB1($$GETDIR(),$$SUPPORT^XOBWENV())
         IF 'XOBSTAT DO  GOTO ENQ
         . DO BMES^XPDUTL("Error occurred during the importing of support classe
          s file:")
         . DO MES^XPDUTL("  Directory: "_$$GETDIR())
         . DO MES^XPDUTL("  File Name: "_$$SUPPORT^XOBWENV())
         . DO MES^XPDUTL("      Error: "_$PIECE(XOBSTAT,"^",2))
         . DO MES^XPDUTL(" o  Classes not imported.")
         ELSE  DO
         . DO MES^XPDUTL(" o  Support classes imported successfully.")
         . DO MES^XPDUTL(" ")
         ;
ENQ      ;
         QUIT
         ;
DELETE() ; -- delete classes for clean slate and remove previous releases
         NEW XOBSTAT
         ; -- delete all classes in xobw package
         DO BMES^XPDUTL(" o  Deleting xobw classes:")
         ;
         SET XOBSTAT=$SYSTEM.OBJ.DeletePackage("xobw")
         DO BMES^XPDUTL("       ...[xobw] deletion "_$SELECT(XOBSTAT:"finished s
          uccessfully.",1:"failed."))
         DO MES^XPDUTL("")
         QUIT
         ;
INDEX()  ; -- build indices if data exists but index not defined
         NEW XOBFILE,DIK,DA,XOBCNT
         ; -- primary key indices for 18.02,18.12
         FOR XOBFILE=18.02,18.12 DO
         . IF $ORDER(^XOB(XOBFILE,0)),$ORDER(^XOB(XOBFILE,"PRIMARY",""))="" DO
         . . SET DIK="^XOB("_XOBFILE_","
         . . SET DIK(1)=".01^PRIMARY"
         . . DO ENALL^DIK
         . . DO BMES^XPDUTL(" o PRIMARY index set for "_$SELECT(XOBFILE="18.02":
          "WEB SERVICE",1:"WEB SERVER")_" (#"_XOBFILE_") file.")
         ; AB index for 18.121
         IF $ORDER(^XOB(18.12,0)),$ORDER(^XOB(18.12,"AB",""))="" DO
         . SET XOBCNT=0,DA(1)=0 FOR  SET DA(1)=$ORDER(^XOB(18.12,DA(1))) Q:DA(1)
          '>0  DO
         . . SET DIK="^XOB(18.12,"_DA(1)_",100,"
         . . SET DIK(1)=".01^AB"
         . . DO ENALL^DIK SET XOBCNT=XOBCNT+1
         . DO BMES^XPDUTL(" o AB whole-file index set for "_XOBCNT_" AUTHORIZED 
          WEB SERVICES (#18.121) subfiles.")
         QUIT
         ;
DELIP()  ; -- move IP ADDRESS to SERVER field if blank and delete IP ADDRESS (#.
          02)
         NEW XOBDA,XOBDA0,XOBY,XOBERR
         ; -- make sure IP ADDRESS field is present
         DO FIELD^DID(18.12,.02,"N","LABEL","XOBY","XOBERR")
         IF $GET(XOBY("LABEL"))'="IP ADDRESS" GOTO DELIPQ
         ;
         ; -- move data
         SET XOBDA=0
         FOR  SET XOBDA=$ORDER(^XOB(18.12,XOBDA)) Q:'XOBDA  SET XOBDA0=$GET(^(XO
          BDA,0)) DO
         . NEW SERVER,IP
         . SET SERVER=$PIECE(XOBDA0,"^",4)
         . SET IP=$PIECE(XOBDA0,"^",2)
         . IF IP]"" DO
         . . NEW XOBIENS,XOBFDA,XOBERR
         . . SET XOBIENS=XOBDA_","
         . . ; -- Set up array with field values
         . . IF SERVER="" SET XOBFDA(18.12,XOBIENS,.04)=IP
         . . SET XOBFDA(18.12,XOBIENS,.02)="@"
         . . DO FILE^DIE("","XOBFDA","XOBERR")
         DO BMES^XPDUTL(" o  IP ADDRESS (#.02) field data moved to SERVER (#.04)
           if SERVER blank")
         DO MES^XPDUTL("    in WEB SERVER (#18.12) file")
         ;
         ; -- delete field
         DO DELFLD(.02,"IP ADDRESS")
DELIPQ   ; 
         QUIT
         ; 
DELHP()  ; -- remove HtttpProxy* fields and 2 node
         NEW XOBX
         ; -- delete HtttpProxy* field definitions
         DO DELFLD(2.01,"HttpProxyHTTPS")
         DO DELFLD(2.02,"HttpProxyServer")
         DO DELFLD(2.03,"HttpProxyPort")
         ; -- remove 2 nodes
         NEW XOBDA
         SET XOBDA=0
         FOR  SET XOBDA=$ORDER(^XOB(18.12,XOBDA)) Q:'XOBDA  KILL ^XOB(18.12,XOBD
          A,2)
         QUIT
         ;
DELFLD(XOBNUM,XOBLABEL) --
          ; -- delete a field from WEB SERVER file
         NEW XOBY,XOBERR,DIK,DA
         DO FIELD^DID(18.12,XOBNUM,"N","LABEL","XOBY","XOBERR")
         IF $GET(XOBY("LABEL"))'=XOBLABEL GOTO DELFLDQ
         SET DIK="^DD(18.12,"
         SET DA=XOBNUM
         SET DA(1)=18.12
         DO ^DIK
         DO BMES^XPDUTL(" o  "_XOBLABEL_" (#"_XOBNUM_") field deleted from WEB S
          ERVER (#18.12) file")
DELFLDQ  ;
         QUIT
         ;
GETDIR() ; -- get directory where install files are located
         QUIT $$DEFDIR^%ZISH($G(XPDQUES("POSXMLDIR"),""))
         ;

*****   INDEX OF XOBWPST   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   DA           INDEX+1~,DELFLD+1~,DELFLD+5*
   DA(1         INDEX+11*,INDEX+12,DELFLD+6*
   DIK          INDEX+1~,INDEX+5*,INDEX+12*,DELFLD+1~,DELFLD+4*
   DIK(1        INDEX+6*,INDEX+13*
   IP           DELIP+9~,DELIP+11*,DELIP+12,DELIP+16
   SERVER       DELIP+9~,DELIP+10*,DELIP+16
   XOBCNT       INDEX+1~,INDEX+11*,INDEX+14*,INDEX+15
   XOBDA        DELIP+1~,DELIP+7*,DELIP+8*,DELIP+14,DELHP+7~,DELHP+8*,DELHP+9*
   XOBDA0       DELIP+1~,DELIP+8*,DELIP+10,DELIP+11
   XOBERR       DELIP+1~,DELIP+13~,DELFLD+1~
   XOBFDA       DELIP+13~
   XOBFDA(      DELIP+16*,DELIP+17*
   XOBFILE      INDEX+1~,INDEX+3*,INDEX+4,INDEX+5,INDEX+8
   XOBIENS      DELIP+13~,DELIP+14*,DELIP+16,DELIP+17
   XOBLABEL     DELFLD~,DELFLD+3,DELFLD+8
   XOBNUM       DELFLD~,DELFLD+2,DELFLD+5,DELFLD+8
   XOBSTAT      EN+1~,EN+16~,EN+17*,EN+18,EN+22,DELETE+1~,DELETE+5*,DELETE+6
   XOBX         DELHP+1~
   XOBY         DELIP+1~,DELFLD+1~
   XOBY("LABEL" DELIP+4,DELFLD+3
>> XPDQUES("POSXMLDIR" 
                GETDIR+1

Global Variables  ( * Changed  ! Killed)
   ^XOB(               INDEX+4
   ^XOB(18.12          INDEX+10,INDEX+11,DELIP+8,DELHP+9!

Naked Globals
   ^(           DELIP+8

Cache Objects
   $SYSTEM.OBJ.DeletePackage       DELETE+5

Marked Items
   NONE

Label References
   $$GETDIR     EN+17,EN+20
   DELETE       EN+4
   DELFLD       DELIP+23,DELHP+3,DELHP+4,DELHP+5
   DELFLDQ      DELFLD+3
   DELHP        EN+13
   DELIP        EN+10
   DELIPQ       DELIP+4
   ENQ          EN+18
   INDEX        EN+7

External References
   $$DEFDIR^%ZISH      GETDIR+1
   FIELD^DID           DELIP+3,DELFLD+2
   FILE^DIE            DELIP+18
   ^DIK                DELFLD+7
   ENALL^DIK           INDEX+7,INDEX+14
   $$SUPPORT^XOBWENV   EN+17,EN+21
   $$IMPORT^XOBWLIB1   EN+17
   BMES^XPDUTL         EN+19,DELETE+3,DELETE+6,INDEX+8,INDEX+15,DELIP+19
                       DELFLD+8
   MES^XPDUTL          EN+20,EN+21,EN+22,EN+23,EN+25,EN+26,DELETE+7,DELIP+20

*****   END   *****


XOBWPWD        * *  125 Lines,  2997 Bytes, Checksum: B11849037
                                                  Feb 23, 2018@12:47:25 page 10
              639 bytes in comments
XOBWPWD  ;ALB/MJK - HWSC :: Private Password APIs ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         ; -- used XOBVJC1 as seed
         ; 
         QUIT
         ;
EDIT     ; -- edit PASSWORD from DD
         NEW DIR,DIR0,XOBH,XOBMATCH
         SET XOBMATCH=0
         ;
         ; -- if not 'y'es
         IF "Nn"[$EXTRACT(X,1) SET X="" QUIT
         IF "Yy"'[$EXTRACT(X,1) KILL X QUIT
         ;
         ; -- get good hash or until abort by user 
         FOR  DO  QUIT:XOBMATCH!($DATA(DIRUT))
         . DO CLR
         . SET XOBH=$$ASK()
         . IF $DATA(DIRUT) QUIT
         . SET XOBMATCH=$$REASK(XOBH)
         ;
         ; -- if good hash set in file
         IF XOBMATCH DO
         . DO CLR
         . DO SET(XOBH,1)
         ;
         ; -- clean up
         KILL DUOUT
         IF $DATA(DIRUT) SET DUOUT=1
         XECUTE ^%ZOSF("EON") WRITE !
         KILL DIR,DIRUT SET X=""
         QUIT
         ;
CLR      ; -- clear to continue
         IF '$DATA(DDS) WRITE ! QUIT
         NEW DX,DY
         DO CLRMSG^DDS SET DX=0,DY=DDSHBX+1 XECUTE IOXY
         QUIT
         ;
SET(XOBH,XOBTALK) --
          ; -- set password in entry
         IF $LENGTH(XOBH),XOBTALK WRITE !,"Ok, password has been changed!"
         NEW FDA,XOBERR
         IF XOBH="" SET XOBH="@"
         ; -- password
         SET FDA(18.12,$$IENS^DILF(.DA),300)=XOBH
         DO FILE^DIE("","FDA","XOBERR")
         IF $DATA(XOBERR) DO ^%ZTER
         QUIT
         ;
DEL      ; -- make sure delete is desired
         XECUTE ^%ZOSF("EON")
         WRITE "@",*7
         SET DIR(0)="Y",DIR("A")="Sure you want to delete"
         DO ^DIR
         IF Y'=1 WRITE:$X>55 !?9 WRITE *7,"  <Nothing Deleted>"
         QUIT
         ;
DIRUT    ; -- set abort flag
         SET DIRUT=1
         QUIT
         ;
ASK()    ; -- setup to ask user for password
         NEW X,XOBX,XOBH
         XECUTE ^%ZOSF("EOFF")
         DO CLR
         WRITE "Enter a new PASSWORD: "
         SET XOBX=$$GET()
         IF $DATA(DIRUT) QUIT ""
         IF XOBX="@" DO  QUIT ""
         . DO DEL
         . IF Y'=1 DO DIRUT
         ;
         DO CLR
         QUIT $$ENCRYP(XOBX)
         ;
REASK(XOBH) --
          ; -- reask user for password
         NEW XOBX,XOBDONE,XOBMATCH,XOBI
         SET XOBDONE=0
         SET XOBMATCH=1
         ;
         ; -- if deleting then auto-match
         IF XOBH="" QUIT XOBMATCH
         ;
         SET XOBMATCH=0
         DO CLR
         XECUTE ^%ZOSF("EOFF")
         FOR XOBI=3:-1:1 DO  QUIT:XOBDONE
         . WRITE "Please re-type the new password to show that I have it right: 
          "
         . SET XOBX=$$GET()
         . ; -- user is up-arrowing out
         . IF $DATA(DIRUT) SET XOBDONE=1 QUIT
         . ;
         . IF XOBX'=$$DECRYP(XOBH) DO  QUIT
         . . DO CLR
         . . WRITE "This doesn't match.  Try again!",!,*7
         . ; -- match entered
         . SET XOBDONE=1
         . SET XOBMATCH=1
         QUIT XOBMATCH
         ;
GET()    ; -- get user input and process for '^' and ''
         SET X=$$ACCEPT(60)
         IF X="@" QUIT X
         IF (X["^")!('$LENGTH(X)) DO DIRUT
         QUIT X
         ;
ACCEPT(TO) --
          ; -- read user input character a time; force exit on '^'; echo '*' back
         NEW C,A,E
         KILL DUOUT
         SET A="",TO=$GET(TO,60),E=0
         FOR  DO  QUIT:E
         . READ "",*C:TO SET:('$TEST) DUOUT=1 SET:('$TEST)!(C=94) A="^"
         . IF (A="^")!(C=13)!($LENGTH(A)>100) SET E=1 QUIT
         . IF C=127 QUIT:'$LENGTH(A)  SET A=$EXTRACT(A,1,$LENGTH(A)-1) WRITE $CH
          AR(8,32,8) QUIT
         . SET A=A_$CHAR(C) WRITE *42
         . QUIT
         QUIT A
         ;
ENCRYP(XOBX) --
          ; -- Kernel encode
         QUIT $$ENCRYP^XUSRB1(XOBX)
         ;
DECRYP(XOBH) --
          ; -- Kernel decode
         QUIT $$DECRYP^XUSRB1(XOBH)
         ;

*****   INDEX OF XOBWPWD   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   A            ACCEPT+1~,ACCEPT+3*,ACCEPT+5*,ACCEPT+6,ACCEPT+7*,ACCEPT+8*
                ACCEPT+10
   C            ACCEPT+1~,ACCEPT+5*,ACCEPT+6,ACCEPT+7,ACCEPT+8
>> DA           SET+5
>> DDS          CLR+1
>> DDSHBX       CLR+3
   DIR          EDIT+1~,EDIT+24!
   DIR("A"      DEL+3*
   DIR(0        DEL+3*
   DIR0         EDIT+1~
   DIRUT        EDIT+9,EDIT+12,EDIT+22,EDIT+24!,DIRUT+1*,ASK+6,REASK+15
   DUOUT        EDIT+21!,EDIT+22*,ACCEPT+2!,ACCEPT+5*
   DX           CLR+2~,CLR+3*
   DY           CLR+2~,CLR+3*
   E            ACCEPT+1~,ACCEPT+3*,ACCEPT+4,ACCEPT+6*
   FDA          SET+2~
   FDA(         SET+5*
>> IOXY         CLR+3
   TO           ACCEPT~,ACCEPT+3*,ACCEPT+5
   X            EDIT+5*,EDIT+6!,EDIT+24*,ASK+1~,GET+1*,GET+2,GET+3,GET+4
   XOBDONE      REASK+1~,REASK+2*,REASK+11,REASK+15*,REASK+21*
   XOBERR       SET+2~,SET+7
   XOBH         EDIT+1~,EDIT+11*,EDIT+13,EDIT+18,SET~,SET+1,SET+3*,SET+5,ASK+1~
                REASK~,REASK+6,REASK+17,DECRYP~,DECRYP+1
   XOBI         REASK+1~,REASK+11*
   XOBMATCH     EDIT+1~,EDIT+2*,EDIT+9,EDIT+13*,EDIT+16,REASK+1~,REASK+3*
                REASK+6,REASK+8*,REASK+22*,REASK+23
   XOBTALK      SET~,SET+1
   XOBX         ASK+1~,ASK+5*,ASK+7,ASK+12,REASK+1~,REASK+13*,REASK+17,ENCRYP~
                ENCRYP+1
>> Y            DEL+5,ASK+9

Global Variables  ( * Changed  ! Killed)
   ^%ZOSF("EOFF"       ASK+2,REASK+10
   ^%ZOSF("EON"        EDIT+23,DEL+1

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   NONE

Label References
   $$ACCEPT     GET+1
   $$ASK        EDIT+11
   $$DECRYP     REASK+17
   $$ENCRYP     ASK+12
   $$GET        ASK+5,REASK+13
   $$REASK      EDIT+13
   CLR          EDIT+10,EDIT+17,ASK+3,ASK+11,REASK+9,REASK+18
   DEL          ASK+8
   DIRUT        ASK+9,GET+3
   SET          EDIT+18

External References
   ^%ZTER              SET+7
   CLRMSG^DDS          CLR+3
   FILE^DIE            SET+6
   $$IENS^DILF         SET+5
   ^DIR                DEL+4
   $$DECRYP^XUSRB1     DECRYP+1
   $$ENCRYP^XUSRB1     ENCRYP+1

*****   END   *****


XOBWSSL        * *  75 Lines,  3600 Bytes, Checksum: B17552025
                                                  Feb 23, 2018@12:47:25 page 11
              537 bytes in comments
XOBWSSL  ;ALB/MJK - HWSC :: SSL Integration Tools ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
CHKNAME(XOBCFGN) --
          ; -- match configuration name / used by input transform (18.12 : 3.02)
         QUIT:$$CACH2008() 1  ; skip match checking if Cache 2008/higher, can't 
          check oustide %SYS 
         NEW MATCH,STATUS,RS,MORE
         SET MATCH=0
         SET RS=##class(%ResultSet).%New("%Net.SSL.Configuration:ListNames")
         IF $system.Status.IsError(RS.Execute()) GOTO CHKNAMEQ
         ; -- see if there is a match
         FOR  SET MORE=RS.Next(.STATUS) QUIT:'MORE!($system.Status.IsError(STATU
          S))  DO  QUIT:MATCH
         . IF XOBCFGN=$GET(RS.Data("Name")) SET MATCH=1 QUIT
CHKNAMEQ ; -- check name quit point
         QUIT MATCH
         ;
DISPLAY  ; -- display list of SSL configuration names  / used by XECUTABLE HELP 
          (18.12 :3.02)
         QUIT:$$CACH2008()  ; skip display if Cache 2008/higher, can't check ous
          tide %SYS 
         NEW COUNT,RS,STATUS
         SET COUNT=0
         DO EN^DDIOL("Possible SSL configurations are the following:")
         SET RS=##class(%ResultSet).%New("%Net.SSL.Configuration:ListNames")
         IF $system.Status.IsError(RS.Execute()) GOTO DISPLAYQ
         ; -- display the names
         FOR  SET MORE=RS.Next(.STATUS) QUIT:'MORE!($system.Status.IsError(STATU
          S))  DO
         . DO EN^DDIOL("- "_$GET(RS.Data("Name")),"","!?5")
         . SET COUNT=COUNT+1
DISPLAYQ ; -- display list quit point
         IF COUNT=0 DO EN^DDIOL("<No SSL configurations defined>","","!?5")
         QUIT
         ;
GETCFG(XOBCFGN) --
          ; -- get %Net.SSL.Configuration instance
         NEW STATUS,RS,MORE,CFG
         SET CFG=""
         SET RS=##class(%ResultSet).%New("%Net.SSL.Configuration:Extent")
         IF $system.Status.IsError(RS.Execute()) GOTO GETCFGQ
         ; -- see if there is a match
         FOR  SET MORE=RS.Next(.STATUS) QUIT:'MORE!($system.Status.IsError(STATU
          S))  DO  QUIT:CFG]""
         . SET CFG=##class(%Net.SSL.Configuration).%OpenId(RS.Data("ID"))
         . IF XOBCFGN=CFG.Name QUIT
         . SET CFG=""
GETCFGQ  ; -- get SSL config instance exit point
         QUIT CFG
         ;
SHOW(XOBCFGN) --
          ; -- simple display of SSL Configuration
         QUIT:$$CACH2008()  ; skip if Cache 2008/higher, can't check oustide %SY
          S 
         NEW CFG
         SET CFG=$$GETCFG(XOBCFGN)
         IF CFG="" GOTO SHOWQ
         WRITE !,"SSL Configuration Name: ",!?5," > ",CFG.Name
         WRITE !,"File containing X.509 certificate(s) of trusted CAs: ",!?5," >
           ",$$GETSTR(CFG.CAFile)
         WRITE !,"Directory containing file(s) with X.509 certificate(s) of trus
          ted CA: ",!?5," > ",$$GETSTR(CFG.CAPath)
         WRITE !,"File containing this configuration's X.509 certificate: ",!?5,
          " > ",$$GETSTR(CFG.CertificateFile)
         WRITE !,"Ciphersuites: ",!?5," > ",$$GETSTR(CFG.CipherList)
         WRITE !,"File containing this configuration's private key: ",!?5," > ",
          $$GETSTR(CFG.PrivateKeyFile)
         WRITE !,"Private key type: ",!?5," > ",$$GETSTR($SELECT(CFG.PrivateKeyT
          ype=1:"DSA",CFG.PrivateKeyType=2:"RSA",1:""))
         WRITE !,"Intended role for this configuration: ",!?5," > ",$$GETSTR($SE
          LECT(CFG.Role=0:"client",CFG.Role=1:"server",1:""))
         WRITE !,"Peer certificate verification level: " DO
         . ; -- client role
         . IF CFG.Role=0 WRITE !?5," > ",$$GETSTR($SELECT(CFG.VerifyPeer=0:"none
          ",CFG.VerifyPeer=1:"required",1:"")) QUIT
         . ; -- server role
         . IF CFG.Role=1 WRITE !?5," > ",$$GETSTR($SELECT(CFG.VerifyPeer=0:"none
          ",CFG.VerifyPeer=1:"request",CFG.VerifyPeer=3:"required",1:"")) QUIT
         WRITE !,"Maximum number of CA certificates allowed in peer certificate 
          chain: ",!?5," > ",$$GETSTR(CFG.VerifyDepth)
SHOWQ    ;
         QUIT
         ;
GETSTR(STR) --
          ; 
         QUIT $SELECT(STR]"":STR,1:"<null>")
         ;
CACH2008() --
          ; quit 1 if OS is 2008 or higher
         NEW XOBVER
         SET XOBVER=$$VERSION^%ZOSV()
         IF +$P(XOBVER,".")>2007 QUIT 1
         QUIT 0

*****   INDEX OF XOBWSSL   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   CFG          GETCFG+1~,GETCFG+2*,GETCFG+6,GETCFG+7*,GETCFG+9*,GETCFGQ+1
                SHOW+2~,SHOW+3*,SHOW+4
   COUNT        DISPLAY+2~,DISPLAY+3*,DISPLAY+10*,DISPLAYQ+1
   MATCH        CHKNAME+2~,CHKNAME+3*,CHKNAME+7,CHKNAME+8*,CHKNAMEQ+1
   MORE         CHKNAME+2~,CHKNAME+7*,DISPLAY+8*,GETCFG+1~,GETCFG+6*
   RS           CHKNAME+2~,CHKNAME+4*,DISPLAY+2~,DISPLAY+5*,GETCFG+1~,GETCFG+3*
   STATUS       CHKNAME+2~,CHKNAME+7,DISPLAY+2~,DISPLAY+8,GETCFG+1~,GETCFG+6
   STR          GETSTR~,GETSTR+1
   XOBCFGN      CHKNAME~,CHKNAME+8,GETCFG~,GETCFG+8,SHOW~,SHOW+3
   XOBVER       CACH2008+1~,CACH2008+2*,CACH2008+3

Global Variables  ( * Changed  ! Killed)
   NONE

Naked Globals
   NONE

Cache Objects
   $system.Status.IsError          CHKNAME+5,CHKNAME+7,DISPLAY+6,DISPLAY+8
                                   GETCFG+4,GETCFG+6
   %Net.SSL.Configuration          GETCFG+7
   %ResultSet                      CHKNAME+4,DISPLAY+5,GETCFG+3
   CFG.CAFile                      SHOW+6
   CFG.CAPath                      SHOW+7
   CFG.CertificateFile             SHOW+8
   CFG.CipherList                  SHOW+9
   CFG.Name                        GETCFG+8,SHOW+5
   CFG.PrivateKeyFile              SHOW+10
   CFG.PrivateKeyType              SHOW+11
   CFG.Role                        SHOW+12,SHOW+15,SHOW+17
   CFG.VerifyDepth                 SHOW+18
   CFG.VerifyPeer                  SHOW+15,SHOW+17
   RS.Data                         CHKNAME+8,DISPLAY+9,GETCFG+7
   RS.Execute                      CHKNAME+5,DISPLAY+6,GETCFG+4
   RS.Next                         CHKNAME+7,DISPLAY+8,GETCFG+6

Marked Items
   NONE

Label References
   $$CACH2008   CHKNAME+1,DISPLAY+1,SHOW+1
   $$GETCFG     SHOW+3
   $$GETSTR     SHOW+6,SHOW+7,SHOW+8,SHOW+9,SHOW+10,SHOW+11,SHOW+12,SHOW+15
                SHOW+17,SHOW+18
   CHKNAMEQ     CHKNAME+5
   DISPLAYQ     DISPLAY+6
   GETCFGQ      GETCFG+4
   SHOWQ        SHOW+4

External References
   $$VERSION^%ZOSV     CACH2008+2
   EN^DDIOL            DISPLAY+4,DISPLAY+9,DISPLAYQ+1

*****   END   *****


XOBWU        * *  129 Lines,  2993 Bytes, Checksum: B8679055
                                                  Feb 23, 2018@12:47:25 page 12
              847 bytes in comments
XOBWU    ;ALB/MJK - HWSC :: Web Server Manager ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
EN       ; -- main entry point for XOBW WEB SERVER
         NEW VALMBCK
         KILL ^TMP("XOB WEBSERVERS",$JOB)
         SET VALMBCK=""
         DO EN^VALM("XOBW WEB SERVER")
         QUIT
         ;
HDR      ; -- header code
         NEW Y
         SET X="                       HWSC Web Server Manager"
         SET VALMHDR(1)=X
         SET X="                      Version: "_$PIECE($TEXT(XOBWU+1),";",3)_" 
              Build: "_$$VERSION^XOBWENV()
         SET VALMHDR(2)=X
         QUIT
         ;
INIT     ; -- init variables and list array
         DO CLEAR
         DO MSG
         QUIT
         ;
MSG      ; -- set default message
         SET VALMSG="Legend:  *Enabled"
         QUIT
         ;
BUILD    ; -- build list
         NEW I,XOBI,XOB0,X,XOBDATA,XOBROOT,XOBSITEI,Y
         DO KILL
         ;
         SET VALMCNT=0
         SET XOBROOT=$NAME(XOBDATA("DILIST","ID"))
         DO LIST^DIC(18.12,"",".01;.03;.04;.06;3.01;3.03","I","","","","","","",
          $NAME(XOBDATA))
         SET XOBI=0
         FOR  SET XOBI=$ORDER(@XOBROOT@(XOBI)) QUIT:'XOBI  DO
         . SET VALMCNT=VALMCNT+1
         . SET X=""
         . SET X=$$SETFLD^VALM1(VALMCNT,X,"ID")
         . SET X=$$SETFLD^VALM1($GET(@XOBROOT@(XOBI,.01)),X,"NAME")
         . SET X=$$SETFLD^VALM1($GET(@XOBROOT@(XOBI,.04))_":"_$$GETPORT(.XOBROOT
          ,XOBI),X,"IP")
         . SET X=$$SETFLD^VALM1($SELECT(+$GET(@XOBROOT@(XOBI,.06)):"*",1:""),X,"
          ENABLED")
         . DO SET^VALM10(VALMCNT,X,VALMCNT)
         . SET ^TMP("XOB WEBSERVERS","IDX",$JOB,VALMCNT,VALMCNT)=+$GET(XOBDATA("
          DILIST",2,XOBI))
         ;
         QUIT
         ;
GETPORT(XOBROOT,XOBI) --
          ; -- return reg or SSL port
         IF +$GET(@XOBROOT@(XOBI,3.01)) QUIT $GET(@XOBROOT@(XOBI,3.03))_" (SSL)"
         QUIT $GET(@XOBROOT@(XOBI,.03))
         ;
CLEAR    ; -- clean up entries
         DO REFRESH
         QUIT
         ;
REFRESH  ; -- refresh display
         DO BUILD
         SET VALMBCK="R"
         QUIT
         ;
KILL     ; -- kill off list location
         KILL ^TMP("XOB WEBSERVERS",$JOB)
         KILL ^TMP("XOB WEBSERVERS","IDX",$JOB)
         QUIT
         ;
HELP     ; -- help code
         SET X="?" DO DISP^XQORM1 WRITE !!
         QUIT
         ;
EXIT     ; -- exit code
         QUIT
         ;
ADD      ; -- add an web server entry
         ; -- Protocol: XOBW WEB SERVER ADD
         DO ACTION("ADD",0)
         QUIT
         ;
EDIT     ; -- edit web server entry
         ; -- Protocol: XOBW WEB SERVER EDIT
         DO ACTION("EDIT",0)
         QUIT
         ;
DEL      ; -- delete web server entry
         ; -- Protocol: XOBW WEB SERVER DELETE
         DO ACTION("DEL",0)
         QUIT
         ;
EXPAND   ; -- expand web server entry
         DO ACTION("EXPAND",1)
         QUIT
         ;
AVAIL    ; -- test web services availability
         ; -- Protocol: XOBW WEB SERVER TEST WS AVAILABILITY
         DO ACTION("AVAIL",0)
         QUIT
         ;
WST      ; -- web server tester
         ; -- Protocol: XOBW WEB SERVER TESTER
         DO EN1^XOBTWU
         DO REFRESH
         DO MSG
         QUIT
         ;
WSM      ; -- web service manager
         ; -- Protocol: XOBW WEB SERVICE MANAGER
         DO EN^XOBWUS
         DO REFRESH
         DO MSG
         QUIT
         ;
LKM      ; -- lookup key manager
         ; -- Protocol: XOBW WEB SERVER LOOKUP KEY MANAGER
         DO EN^XOBWUA
         DO REFRESH
         DO MSG
         QUIT
         ;
ACTION(TYPE,XOBPAUSE) --
          ; -- execute action
         DO FULL^VALM1
         NEW X,Y
         SET X="DO "_TYPE_"^XOBWU1"
         XECUTE X
         IF XOBPAUSE DO PAUSE^VALM1
         DO REFRESH
         DO MSG
         QUIT
         ;
*****   ERRORS & WARNINGS IN XOBWU   *****
   WST+2        F - Reference to routine '^XOBTWU'. That isn't in this UCI.

*****   INDEX OF XOBWU   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   I            BUILD+1~
   TYPE         ACTION~,ACTION+3
   VALMBCK      EN+1~,EN+3*,REFRESH+2*
>> VALMCNT      BUILD+4*,BUILD+9*,BUILD+11,BUILD+15,BUILD+16
>> VALMHDR(1    HDR+3*
>> VALMHDR(2    HDR+5*
>> VALMSG       MSG+1*
   X            HDR+2*,HDR+3,HDR+4*,HDR+5,BUILD+1~,BUILD+10*,BUILD+11*
                BUILD+12*,BUILD+13*,BUILD+14*,BUILD+15,HELP+1*,ACTION+2~
                ACTION+3*,ACTION+4
   XOB0         BUILD+1~
   XOBDATA      BUILD+1~,BUILD+6
   XOBDATA("DILIST" 
                BUILD+5,BUILD+16
   XOBI         BUILD+1~,BUILD+7*,BUILD+8*,BUILD+12,BUILD+13,BUILD+14,BUILD+16
                GETPORT~,GETPORT+1,GETPORT+2
   XOBPAUSE     ACTION~,ACTION+5
   XOBROOT      BUILD+1~,BUILD+5*,BUILD+8,BUILD+12,BUILD+13,BUILD+14,GETPORT~
                GETPORT+1,GETPORT+2
   XOBSITEI     BUILD+1~
   Y            HDR+1~,BUILD+1~,ACTION+2~

Global Variables  ( * Changed  ! Killed)
   ^TMP("XOB WEBSERVERS"
                       EN+2!,BUILD+16*,KILL+1!,KILL+2!

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   $T(XOBWU+1   HDR+4

Label References
   $$GETPORT    BUILD+13
   ACTION       ADD+2,EDIT+2,DEL+2,EXPAND+1,AVAIL+2
   BUILD        REFRESH+1
   CLEAR        INIT+1
   KILL         BUILD+2
   MSG          INIT+2,WST+4,WSM+4,LKM+4,ACTION+7
   REFRESH      CLEAR+1,WST+3,WSM+3,LKM+3,ACTION+6

External References
   LIST^DIC            BUILD+6
   EN^VALM             EN+4
   $$SETFLD^VALM1      BUILD+11,BUILD+12,BUILD+13,BUILD+14
   FULL^VALM1          ACTION+1
   PAUSE^VALM1         ACTION+5
   SET^VALM10          BUILD+15
   EN1^XOBTWU          WST+2
   $$VERSION^XOBWENV   HDR+4
   EN^XOBWUA           LKM+2
   EN^XOBWUS           WSM+2
   DISP^XQORM1         HELP+1

*****   END   *****


XOBWU1        * *  133 Lines,  4119 Bytes, Checksum: B20116927
                                                  Feb 23, 2018@12:47:25 page 13
              584 bytes in comments
XOBWU1   ;ALB/MJK - HWSC :: Web Server Manager ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
ADD      ; -- add web server entry
         NEW DIC,Y,XOBY,D
         WRITE !
         SET DIC="^XOB(18.12,",DIC(0)="AELQ",D="B" DO IX^DIC KILL DIC
         SET XOBY=Y
         IF +XOBY>0,'$PIECE(XOBY,U,3) DO  GOTO ADDQ
         . DO DISPLAY("",+XOBY)
         . WRITE !!,"This is not a new entry! Please use 'Edit Server' action."
         . DO PAUSE^VALM1
         IF +XOBY>0,$PIECE(XOBY,U,3) DO DOEDIT(+XOBY)
ADDQ     ;
         QUIT
         ;
EDIT     ; -- edit web server entry
         NEW DA,DR,DIE,XOBI,VALMY
         DO EN^VALM2(XQORNOD(0),"OS")
         SET XOBI=+$ORDER(VALMY(""))
         IF XOBI>0 DO DOEDIT(+$GET(^TMP("XOB WEBSERVERS","IDX",$JOB,XOBI,XOBI)))
EDITQ    ;
         QUIT
         ;
DOEDIT(DA) --
          ; -- do actual web server edit
         NEW DR,DIE
         SET DR="[XOBW WEB SERVER SETUP]",DIE="^XOB(18.12," DO ^DIE
         QUIT
         ;
DEL      ; -- delete web server entry
         NEW XOBI,VALMY,Y,XOBDA
         DO EN^VALM2(XQORNOD(0),"OS")
         SET XOBI=+$ORDER(VALMY(""))
         ; -- quit if nothing selected
         IF XOBI'>0 GOTO DELQ
         ; -- display entry, ask if 'ok' and delete
         SET XOBDA=+$GET(^TMP("XOB WEBSERVERS","IDX",$JOB,XOBI,XOBI))
         DO DISPLAY(XOBI,XOBDA)
         IF $ORDER(^XOB(18.13,"WS",XOBDA,""))]"" DO  GOTO DELQ
         . WRITE !,*7
         . WRITE !,"************************************************************
          "
         . WRITE !,"* Lookup keys are still associated with this web server.   *
          "
         . WRITE !,"*                  Deletion prohibited!                    *
          "
         . WRITE !,"* Use the 'Lookup Key Manager' to change key associations. *
          "
         . WRITE !,"************************************************************
          "
         . DO PAUSE^VALM1
         DO
         . NEW DIR
         . SET DIR("A")="Are you sure you want to delete entry"
         . SET DIR("B")="NO",DIR(0)="Y"
         . WRITE !
         . DO ^DIR
         IF '$GET(Y) DO  GOTO DELQ
         . WRITE !!,"Deletion aborted."
         . DO PAUSE^VALM1
         ; -- execute deletion
         DO DODEL(XOBDA)
         WRITE !!,"Entry has been deleted."
         DO PAUSE^VALM1
DELQ     ;
         QUIT
         ;
DODEL(DA) ; -- do actual web server delete
         NEW DIK
         SET DIK="^XOB(18.12," DO ^DIK
         QUIT
         ;
EXPAND   ; -- expand Protocol
         NEW DA,DIC,XOBI,VALMY
         DO EN^VALM2(XQORNOD(0),"OS")
         SET XOBI=+$ORDER(VALMY(""))
         IF XOBI>0 DO DISPLAY(XOBI,+$GET(^TMP("XOB WEBSERVERS","IDX",$JOB,XOBI,X
          OBI)))
         QUIT
         ;
DISPLAY(XOBI,DA) --
          ; display web server informaton
         ; input: XOBI == list entry number
         ;        DA   == internal entry number in file 18.12
         NEW DIC,XOBLINE,XOBDASH,IEN,IEN0,KEY,XOBY
         SET $PIECE(XOBLINE,"=",$GET(IOM,80))=""
         SET $PIECE(XOBDASH,"-",$GET(IOM,80))=""
         DO CLEAR^VALM1
         WRITE !,XOBLINE
         IF $GET(XOBI) DO
         . WRITE !,@VALMAR@(XOBI,0)
         . WRITE !,XOBDASH
         SET DIC="^XOB(18.12,"
         DO EN^DIQ
         WRITE XOBDASH
         ; -- display lookup keys associated with web server
         WRITE !,"Lookup keys associated with server:"
         SET IEN=""
         FOR  SET IEN=$ORDER(^XOB(18.13,"WS",DA,IEN)) QUIT:'IEN  DO
         . SET IEN0=$GET(^XOB(18.13,IEN,0))
         . SET KEY=$PIECE(IEN0,"^")
         . IF KEY]"" SET XOBY(KEY)=$PIECE(IEN0,"^",2)
         IF $ORDER(XOBY(""))]"" DO
         . SET KEY="" FOR  SET KEY=$ORDER(XOBY(KEY)) QUIT:KEY=""  DO
         . . WRITE !?2,"o ",KEY," - ",XOBY(KEY)
         ELSE  DO
         . WRITE !?3,"<No lookup keys associations>"
         WRITE !,XOBLINE
         QUIT
         ;
AVAIL    ; -- check web service availabilities
         NEW XOBI,XOBY,VALMY
         DO EN^VALM2(XQORNOD(0),"OS")
         SET XOBI=+$ORDER(VALMY(""))
         IF $GET(XOBI) DO
         . SET XOBY("HEADER",1)="Web Server: "
         . SET XOBY("HEADER",2)=@VALMAR@(XOBI,0)
         . SET XOBY("TITLE")="Web Service Availability"
         . SET XOBY("BUILD CALLBACK")="DO BUILD^XOBWU1("_+$GET(^TMP("XOB WEBSERV
          ERS","IDX",$JOB,XOBI,XOBI))_")"
         . D EN^XOBWUS2(.XOBY)
         QUIT
         ;
BUILD(XOBDA) --
          ; -- test web services availability
         NEW XOBSRVR,XOBY,XOBDOTS,XOBI,XOBX
         DO CLEAN^VALM10
         SET XOBSRVR=##class(xobw.WebServer).%OpenId(XOBDA)
         SET VALMCNT=0
         SET XOBDOTS=1 ; -- write dots during check processing
         SET XOBY=XOBSRVR.checkWebServicesAvailability(XOBDOTS)
         IF XOBY]"",XOBY.Count()>0 DO
         . FOR XOBI=1:1:XOBY.Count() SET XOBX=XOBY.GetAt(XOBI) QUIT:XOBI=""  DO 
          ADDLN("  "_XOBX)
         QUIT
         ;
ADDLN(XOBTEXT) --
          ; -- add line utility
         SET VALMCNT=VALMCNT+1
         DO SET^VALM10(VALMCNT,XOBTEXT)
         QUIT
         ;

*****   INDEX OF XOBWU1   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   D            ADD+1~,ADD+3*
   DA           EDIT+1~,DOEDIT~,DODEL~,EXPAND+1~,DISPLAY~,DISPLAY+17
   DIC          ADD+1~,ADD+3*!,EXPAND+1~,DISPLAY+3~,DISPLAY+11*
   DIC(0        ADD+3*
   DIE          EDIT+1~,DOEDIT+1~,DOEDIT+2*
   DIK          DODEL+1~,DODEL+2*
   DIR          DEL+18~
   DIR("A"      DEL+19*
   DIR("B"      DEL+20*
   DIR(0        DEL+20*
   DR           EDIT+1~,DOEDIT+1~,DOEDIT+2*
   IEN          DISPLAY+3~,DISPLAY+16*,DISPLAY+17*,DISPLAY+18
   IEN0         DISPLAY+3~,DISPLAY+18*,DISPLAY+19,DISPLAY+20
   IOM          DISPLAY+4,DISPLAY+5
   KEY          DISPLAY+3~,DISPLAY+19*,DISPLAY+20,DISPLAY+22*,DISPLAY+23
   U            ADD+5,ADD+9
>> VALMAR       DISPLAY+9,AVAIL+6
>> VALMCNT      BUILD+4*,ADDLN+1*,ADDLN+2
   VALMY        EDIT+1~,DEL+1~,EXPAND+1~,AVAIL+1~
   VALMY(""     EDIT+3,DEL+3,EXPAND+3,AVAIL+3
   XOBDA        DEL+1~,DEL+7*,DEL+8,DEL+9,DEL+27,BUILD~,BUILD+3
   XOBDASH      DISPLAY+3~,DISPLAY+5*,DISPLAY+10,DISPLAY+13
   XOBDOTS      BUILD+1~,BUILD+5*,BUILD+6
   XOBI         EDIT+1~,EDIT+3*,EDIT+4,DEL+1~,DEL+3*,DEL+5,DEL+7,DEL+8
                EXPAND+1~,EXPAND+3*,EXPAND+4,DISPLAY~,DISPLAY+8,DISPLAY+9
                AVAIL+1~,AVAIL+3*,AVAIL+4,AVAIL+6,AVAIL+8,BUILD+1~,BUILD+8*
   XOBLINE      DISPLAY+3~,DISPLAY+4*,DISPLAY+7,DISPLAY+26
   XOBSRVR      BUILD+1~,BUILD+3*
   XOBTEXT      ADDLN~,ADDLN+2
   XOBX         BUILD+1~,BUILD+8*
   XOBY         ADD+1~,ADD+4*,ADD+5,ADD+6,ADD+9,DISPLAY+3~,AVAIL+1~,AVAIL+9
                BUILD+1~,BUILD+6*,BUILD+7
   XOBY(        DISPLAY+20*,DISPLAY+22,DISPLAY+23
   XOBY(""      DISPLAY+21
   XOBY("BUILD CALLBACK" 
                AVAIL+8*
   XOBY("HEADER" 
                AVAIL+5*,AVAIL+6*
   XOBY("TITLE" AVAIL+7*
>> XQORNOD(0    EDIT+2,DEL+2,EXPAND+2,AVAIL+2
   Y            ADD+1~,ADD+4,DEL+1~,DEL+23

Global Variables  ( * Changed  ! Killed)
   ^TMP("XOB WEBSERVERS"
                       EDIT+4,DEL+7,EXPAND+4,AVAIL+8
   ^XOB(18.13          DEL+9,DISPLAY+17,DISPLAY+18

Naked Globals
   NONE

Cache Objects
   XOBSRVR.checkWebServicesAvailability
                                   BUILD+6
   XOBY.Count                      BUILD+7,BUILD+8
   XOBY.GetAt                      BUILD+8
   xobw.WebServer                  BUILD+3

Marked Items
   NONE

Label References
   ADDLN        BUILD+8
   ADDQ         ADD+5
   DELQ         DEL+5,DEL+9,DEL+23
   DISPLAY      ADD+6,DEL+8,EXPAND+4
   DODEL        DEL+27
   DOEDIT       ADD+9,EDIT+4

External References
   IX^DIC              ADD+3
   ^DIE                DOEDIT+2
   ^DIK                DODEL+2
   EN^DIQ              DISPLAY+12
   ^DIR                DEL+22
   CLEAR^VALM1         DISPLAY+6
   PAUSE^VALM1         ADD+8,DEL+16,DEL+25,DEL+29
   CLEAN^VALM10        BUILD+2
   SET^VALM10          ADDLN+2
   EN^VALM2            EDIT+2,DEL+2,EXPAND+2,AVAIL+2
   EN^XOBWUS2          AVAIL+9

*****   END   *****


XOBWUA        * *  150 Lines,  3997 Bytes, Checksum: B14787845
                                                  Feb 23, 2018@12:47:25 page 14
              967 bytes in comments
XOBWUA   ;OAK/KEC - HWSC :: Web Server Lookup Key Manager ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
EN       ; -- main entry point for XOBW WEB SERVER LOOKUPKEY
         NEW XOBSORT,XOBKFILT,XOBSFILT,X
         SET XOBSORT="K" ; default sort by KEY
         SET XOBKFILT=""
         SET XOBSFILT=""
         DO KILL
         SET VALMBCK=""
         DO EN^VALM("XOBW WEB SERVER LOOKUPKEY")
         QUIT
         ;
HDR      ; -- header code
         SET X="                  HWSC Web Server Lookup Key Manager"
         SET VALMHDR(1)=X
         SET X="                      Version: "_$PIECE($TEXT(XOBWUA+1),";",3)_"
               Build: "_$$VERSION^XOBWENV()
         SET VALMHDR(2)=X
         SET X=$SELECT(XOBSFILT]"":XOBSFILT,1:"<no filter>")
         SET VALMHDR(3)="Filters:  Key = "_$SELECT(XOBKFILT]"":XOBKFILT,1:"<no f
          ilter>")_"   Server = "_X
         QUIT
         ;
CHGCAP   ; -- change captions to indicate sort
         NEW KEYCAP,SRVCAP
         SET KEYCAP="Lookup Key Name"
         SET SRVCAP="Web Server Name"
         IF XOBSORT="K" DO
         . DO CHGCAP^VALM("KEY",KEYCAP_" [Sorted By]")
         . DO CHGCAP^VALM("SERVER",SRVCAP)
         ELSE  DO
         . DO CHGCAP^VALM("SERVER",SRVCAP_" [Sorted By]")
         . DO CHGCAP^VALM("KEY",KEYCAP)
         QUIT
         ;
INIT     ; -- init variables and list array
         DO CLEAR
         DO MSG
         DO CHGCAP
         QUIT
         ;
MSG      ; -- set default message
         SET VALMSG=""
         QUIT
         ;
BUILD    ; -- build list
         NEW I,XOBI,XOB0,X,XOBDATA,XOBROOT,XOBSITEI,Y,SORT,XOBX,XOBKEY,XOBSRVR
         DO KILL
         ;
         SET VALMCNT=0
         SET XOBROOT=$NAME(XOBDATA("DILIST","ID"))
         DO LIST^DIC(18.13,"",".01;.03","","","","","","","",$NAME(XOBDATA))
         ; -- build sort
         SET XOBI=0
         FOR  SET XOBI=$ORDER(@XOBROOT@(XOBI)) QUIT:'XOBI  DO
         . SET XOBX=$SELECT(XOBSORT="S":$GET(@XOBROOT@(XOBI,.03)),1:$GET(@XOBROO
          T@(XOBI,.01)))
         . SET SORT($SELECT(XOBX="":" ",1:XOBX),XOBI)=""
         ; -- build list off sort and apply filters
         SET XOBX=""
         FOR  SET XOBX=$ORDER(SORT(XOBX)) QUIT:XOBX=""  DO
         . SET XOBI=0
         . FOR  SET XOBI=$ORDER(SORT(XOBX,XOBI)) QUIT:'XOBI  DO
         . . SET XOBKEY=$GET(@XOBROOT@(XOBI,.01))
         . . SET XOBSRVR=$GET(@XOBROOT@(XOBI,.03))
         . . IF XOBSRVR="" SET XOBSRVR=$$NOTDEF()
         . . IF XOBKFILT]"",$EXTRACT(XOBKEY,1,$LENGTH(XOBKFILT))'=XOBKFILT QUIT
         . . IF XOBSFILT]"",$$UP^XLFSTR($EXTRACT(XOBSRVR,1,$LENGTH(XOBSFILT)))'=
          $$UP^XLFSTR(XOBSFILT) QUIT
         . . SET VALMCNT=VALMCNT+1
         . . SET X=""
         . . SET X=$$SETFLD^VALM1(VALMCNT,X,"ID")
         . . SET X=$$SETFLD^VALM1(XOBKEY,X,"KEY")
         . . SET X=$$SETFLD^VALM1(XOBSRVR,X,"SERVER")
         . . DO SET^VALM10(VALMCNT,X,VALMCNT)
         . . SET ^TMP("XOB WEB SERVER LOOKUP","IDX",$JOB,VALMCNT,VALMCNT)=+$GET(
          XOBDATA("DILIST",2,XOBI))
         ;
         QUIT
         ;
NOTDEF() ; -- constant text to use if server is not defined
         QUIT "<server not defined>"
         ;
CLEAR    ; -- clean up entries
         DO REFRESH
         QUIT
         ;
REFRESH  ; -- refresh display
         DO BUILD
         SET VALMBCK="R"
         QUIT
         ;
KILL     ; -- kill off list location
         KILL ^TMP("XOB WEB SERVER LOOKUP",$JOB)
         KILL ^TMP("XOB WEB SERVER LOOKUP","XOB",$JOB)
         QUIT
         ;
HELP     ; -- help code
         SET X="?" DO DISP^XQORM1 WRITE !!
         QUIT
         ;
EXIT     ; -- exit code
         QUIT
         ;
ADD      ; -- add a web server lookup identifier entry
         ; -- Protocol: XOBW ASSOCIATE ADD
         DO ACTION("ADD",0)
         QUIT
         ;
EDIT     ; -- edit a web server lookup identifier entry
         ; -- Protocol: XOBW ASSOCIATE EDIT
         DO ACTION("EDIT",0)
         QUIT
         ;
DEL      ; -- delete web server lookup identifier entry
         ; -- Protocol: XOBW ASSOCIATE DELETE
         DO ACTION("DEL",0)
         QUIT
         ;
EXPAND   ; -- expand web server lookup identifier entry
         DO ACTION("EXPAND",1)
         QUIT
         ;
SORT     ; -- sort list
         ; -- Protocol: XOBW ASSOCIATE SORT
         DO ACTION("SORT",0)
         DO HDR
         DO CHGCAP
         QUIT
         ;
KFILTER  ; -- specify look up key filter
         ; -- Protocol: XOBW ASSOCIATE FILTER KEY
         DO ACTION("KFILTER",0)
         DO HDR
         QUIT
         ;
SFILTER  ; -- specify web server filter
         ; -- Protocol: XOBW ASSOCIATE FILTER SERVER
         DO ACTION("SFILTER",0)
         DO HDR
         QUIT
         ;
ACTION(TYPE,XOBPAUSE) --
          ; -- execute action
         DO FULL^VALM1
         NEW X,Y
         SET X="DO "_TYPE_"^XOBWUA1"
         XECUTE X
         IF XOBPAUSE DO PAUSE^VALM1
         DO REFRESH
         DO MSG
         QUIT
         ;

*****   INDEX OF XOBWUA   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   I            BUILD+1~
   KEYCAP       CHGCAP+1~,CHGCAP+2*,CHGCAP+5,CHGCAP+9
   SORT         BUILD+1~
   SORT(        BUILD+11*,BUILD+14,BUILD+16
   SRVCAP       CHGCAP+1~,CHGCAP+3*,CHGCAP+6,CHGCAP+8
   TYPE         ACTION~,ACTION+3
>> VALMBCK      EN+6*,REFRESH+2*
>> VALMCNT      BUILD+4*,BUILD+22*,BUILD+24,BUILD+27,BUILD+28
>> VALMHDR(1    HDR+2*
>> VALMHDR(2    HDR+4*
>> VALMHDR(3    HDR+6*
>> VALMSG       MSG+1*
   X            EN+1~,HDR+1*,HDR+2,HDR+3*,HDR+4,HDR+5*,HDR+6,BUILD+1~,BUILD+23*
                BUILD+24*,BUILD+25*,BUILD+26*,BUILD+27,HELP+1*,ACTION+2~
                ACTION+3*,ACTION+4
   XOB0         BUILD+1~
   XOBDATA      BUILD+1~,BUILD+6
   XOBDATA("DILIST" 
                BUILD+5,BUILD+28
   XOBI         BUILD+1~,BUILD+8*,BUILD+9*,BUILD+10,BUILD+11,BUILD+15*
                BUILD+16*,BUILD+17,BUILD+18,BUILD+28
   XOBKEY       BUILD+1~,BUILD+17*,BUILD+20,BUILD+25
   XOBKFILT     EN+1~,EN+3*,HDR+6,BUILD+20
   XOBPAUSE     ACTION~,ACTION+5
   XOBROOT      BUILD+1~,BUILD+5*,BUILD+9,BUILD+10,BUILD+17,BUILD+18
   XOBSFILT     EN+1~,EN+4*,HDR+5,BUILD+21
   XOBSITEI     BUILD+1~
   XOBSORT      EN+1~,EN+2*,CHGCAP+4,BUILD+10
   XOBSRVR      BUILD+1~,BUILD+18*,BUILD+19*,BUILD+21,BUILD+26
   XOBX         BUILD+1~,BUILD+10*,BUILD+11,BUILD+13*,BUILD+14*,BUILD+16
   Y            BUILD+1~,ACTION+2~

Global Variables  ( * Changed  ! Killed)
   ^TMP("XOB WEB SERVER LOOKUP"
                       BUILD+28*,KILL+1!,KILL+2!

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   $T(XOBWUA+1  HDR+3

Label References
   $$NOTDEF     BUILD+19
   ACTION       ADD+2,EDIT+2,DEL+2,EXPAND+1,SORT+2,KFILTER+2,SFILTER+2
   BUILD        REFRESH+1
   CHGCAP       INIT+3,SORT+4
   CLEAR        INIT+1
   HDR          SORT+3,KFILTER+3,SFILTER+3
   KILL         EN+5,BUILD+2
   MSG          INIT+2,ACTION+7
   REFRESH      CLEAR+1,ACTION+6

External References
   LIST^DIC            BUILD+6
   CHGCAP^VALM         CHGCAP+5,CHGCAP+6,CHGCAP+8,CHGCAP+9
   EN^VALM             EN+7
   $$SETFLD^VALM1      BUILD+24,BUILD+25,BUILD+26
   FULL^VALM1          ACTION+1
   PAUSE^VALM1         ACTION+5
   SET^VALM10          BUILD+27
   $$UP^XLFSTR         BUILD+21
   $$VERSION^XOBWENV   HDR+3
   DISP^XQORM1         HELP+1

*****   END   *****


XOBWUA1        * *  117 Lines,  3399 Bytes, Checksum: B14207560
                                                  Feb 23, 2018@12:47:25 page 15
              588 bytes in comments
XOBWUA1  ;OAK/KEC - HWSC :: Web Server Lookup Key Manager ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
ADD      ; -- add web server lookup key entry
         NEW DIC,Y,XOBY,D
         WRITE !
         SET DIC("A")="Enter name for a new web server lookup key: "
         SET DIC="^XOB(18.13,",DIC(0)="AELQ",D="B" DO IX^DIC KILL DIC
         SET XOBY=Y
         IF +XOBY>0,'$PIECE(XOBY,U,3) DO  GOTO ADDQ
         . DO DISPLAY("",+XOBY)
         . WRITE !!,"This is not a new entry! Please use 'Edit Server' action."
         . DO PAUSE^VALM1
         IF +XOBY>0,$PIECE(XOBY,U,3) DO DOEDIT(+XOBY)
ADDQ     ;
         QUIT
         ;
EDIT     ; -- edit web server entry
         NEW DA,DR,DIE,XOBI,VALMY
         DO EN^VALM2(XQORNOD(0),"OS")
         SET XOBI=+$ORDER(VALMY(""))
         IF XOBI>0 DO DOEDIT(+$GET(^TMP("XOB WEB SERVER LOOKUP","IDX",$JOB,XOBI,
          XOBI)))
EDITQ    ;
         QUIT
         ;
DOEDIT(DA) --
          ; -- do actual web server lookup key edit
         NEW DR,DIE
         SET DR="[XOBW WEB SERVER KEY SETUP]",DIE="^XOB(18.13," DO ^DIE
         QUIT
         ;
DEL      ; -- delete web server lookup key entry
         NEW XOBI,VALMY,Y,XOBDA
         DO EN^VALM2(XQORNOD(0),"OS")
         SET XOBI=+$ORDER(VALMY(""))
         ; -- quit if nothing selected
         IF XOBI'>0 GOTO DELQ
         ; -- display entry, ask if 'ok' and delete
         SET XOBDA=+$GET(^TMP("XOB WEB SERVER LOOKUP","IDX",$JOB,XOBI,XOBI))
         DO DISPLAY(XOBI,XOBDA)
         DO
         . NEW DIR
         . SET DIR("A")="Are you sure you want to delete entry"
         . SET DIR("B")="NO",DIR(0)="Y"
         . WRITE !
         . DO ^DIR
         IF '$GET(Y) DO  GOTO DELQ
         . WRITE !!,"Deletion aborted."
         . DO PAUSE^VALM1
         ; -- execute deletion
         DO DODEL(XOBDA)
         WRITE !!,"Entry has been deleted."
         DO PAUSE^VALM1
DELQ     ;
         QUIT
         ;
DODEL(DA) ; -- do actual web server lookup key delete
         NEW DIK
         SET DIK="^XOB(18.13," DO ^DIK
         QUIT
         ;
SORT     ; -- change sort order
         IF XOBSORT="K" DO
         . SET XOBSORT="S"
         ELSE  DO
         . SET XOBSORT="K"
         QUIT
         ;
KFILTER  ; -- specify lookup key filter
         NEW DIR,Y,X,XOBCLR,DTOUT,DUOUT,DIRUT,DIROUT
         SET XOBCLR="<clear filter>"
         SET DIR(0)="FO^1:30"
         SET DIR("A")="Enter lookup key 'starts with' filter text"
         IF $GET(XOBKFILT)]"" SET DIR("B")=XOBCLR
         DO ^DIR
         IF '($DATA(DTOUT)!$DATA(DUOUT)!$DATA(DIRUT)!$DATA(DIROUT)) DO
         . SET XOBKFILT=$SELECT(Y=XOBCLR:"",1:$$UP^XLFSTR(Y))
         QUIT
         ;
SFILTER  ; -- specify web server filter
         NEW DIR,Y,X,XOBCLR,DTOUT,DUOUT,DIRUT,DIROUT
         SET XOBCLR="<clear filter>"
         SET DIR(0)="FO^1:30"
         SET DIR("A",1)=""
         SET DIR("A",2)="Specify web server name 'starts with' filter text."
         SET DIR("A",3)="Note: Use <space> to list entries without a web server 
          defined."
         SET DIR("A")="Enter filter text"
         IF $GET(XOBSFILT)]"" SET DIR("B")=XOBCLR
         DO ^DIR
         IF '($DATA(DTOUT)!$DATA(DUOUT)!$DATA(DIRUT)!$DATA(DIROUT)) DO
         . SET XOBSFILT=$SELECT(Y=XOBCLR:"",Y=" ":$$NOTDEF^XOBWUA(),1:$$UP^XLFST
          R(Y))
         QUIT
         ;
EXPAND   ; -- expand Protocol
         NEW DA,DIC,XOBI,VALMY
         DO EN^VALM2(XQORNOD(0),"OS")
         SET XOBI=+$ORDER(VALMY(""))
         IF XOBI>0 DO DISPLAY(XOBI,+$GET(^TMP("XOB WEB SERVER LOOKUP","IDX",$JOB
          ,XOBI,XOBI)))
         QUIT
         ;
DISPLAY(XOBI,DA) --
          ; display web server lookup key informaton
         ; input: XOBI == list entry number
         ;        DA   == internal entry number in file 18.12
         NEW DIC,XOBLINE,XOBDASH
         SET $PIECE(XOBLINE,"=",$GET(IOM,80))=""
         SET $PIECE(XOBDASH,"-",$GET(IOM,80))=""
         DO CLEAR^VALM1
         WRITE !,XOBLINE
         IF $GET(XOBI) DO
         . WRITE !,@VALMAR@(XOBI,0)
         . WRITE !,XOBDASH
         SET DIC="^XOB(18.13,"
         DO EN^DIQ
         WRITE XOBLINE
         QUIT
         ;

*****   INDEX OF XOBWUA1   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   D            ADD+1~,ADD+4*
   DA           EDIT+1~,DOEDIT~,DODEL~,EXPAND+1~,DISPLAY~
   DIC          ADD+1~,ADD+4*!,EXPAND+1~,DISPLAY+3~,DISPLAY+11*
   DIC("A"      ADD+3*
   DIC(0        ADD+4*
   DIE          EDIT+1~,DOEDIT+1~,DOEDIT+2*
   DIK          DODEL+1~,DODEL+2*
   DIR          DEL+10~,KFILTER+1~,SFILTER+1~
   DIR("A"      DEL+11*,KFILTER+4*,SFILTER+4*,SFILTER+5*,SFILTER+6*,SFILTER+7*
   DIR("B"      DEL+12*,KFILTER+5*,SFILTER+8*
   DIR(0        DEL+12*,KFILTER+3*,SFILTER+3*
   DIROUT       KFILTER+1~,KFILTER+7,SFILTER+1~,SFILTER+10
   DIRUT        KFILTER+1~,KFILTER+7,SFILTER+1~,SFILTER+10
   DR           EDIT+1~,DOEDIT+1~,DOEDIT+2*
   DTOUT        KFILTER+1~,KFILTER+7,SFILTER+1~,SFILTER+10
   DUOUT        KFILTER+1~,KFILTER+7,SFILTER+1~,SFILTER+10
   IOM          DISPLAY+4,DISPLAY+5
   U            ADD+6,ADD+10
>> VALMAR       DISPLAY+9
   VALMY        EDIT+1~,DEL+1~,EXPAND+1~
   VALMY(""     EDIT+3,DEL+3,EXPAND+3
   X            KFILTER+1~,SFILTER+1~
   XOBCLR       KFILTER+1~,KFILTER+2*,KFILTER+5,KFILTER+8,SFILTER+1~,SFILTER+2*
                SFILTER+8,SFILTER+11
   XOBDA        DEL+1~,DEL+7*,DEL+8,DEL+19
   XOBDASH      DISPLAY+3~,DISPLAY+5*,DISPLAY+10
   XOBI         EDIT+1~,EDIT+3*,EDIT+4,DEL+1~,DEL+3*,DEL+5,DEL+7,DEL+8
                EXPAND+1~,EXPAND+3*,EXPAND+4,DISPLAY~,DISPLAY+8,DISPLAY+9
>> XOBKFILT     KFILTER+5,KFILTER+8*
   XOBLINE      DISPLAY+3~,DISPLAY+4*,DISPLAY+7,DISPLAY+13
>> XOBSFILT     SFILTER+8,SFILTER+11*
>> XOBSORT      SORT+1,SORT+2*,SORT+4*
   XOBY         ADD+1~,ADD+5*,ADD+6,ADD+7,ADD+10
>> XQORNOD(0    EDIT+2,DEL+2,EXPAND+2
   Y            ADD+1~,ADD+5,DEL+1~,DEL+15,KFILTER+1~,KFILTER+8,SFILTER+1~
                SFILTER+11

Global Variables  ( * Changed  ! Killed)
   ^TMP("XOB WEB SERVER LOOKUP"
                       EDIT+4,DEL+7,EXPAND+4

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   NONE

Label References
   ADDQ         ADD+6
   DELQ         DEL+5,DEL+15
   DISPLAY      ADD+7,DEL+8,EXPAND+4
   DODEL        DEL+19
   DOEDIT       ADD+10,EDIT+4

External References
   IX^DIC              ADD+4
   ^DIE                DOEDIT+2
   ^DIK                DODEL+2
   EN^DIQ              DISPLAY+12
   ^DIR                DEL+14,KFILTER+6,SFILTER+9
   CLEAR^VALM1         DISPLAY+6
   PAUSE^VALM1         ADD+9,DEL+17,DEL+21
   EN^VALM2            EDIT+2,DEL+2,EXPAND+2
   $$UP^XLFSTR         KFILTER+8,SFILTER+11
   $$NOTDEF^XOBWUA     SFILTER+11

*****   END   *****


XOBWUS        * *  100 Lines,  2306 Bytes, Checksum: B6230795
                                                  Feb 23, 2018@12:47:25 page 16
              544 bytes in comments
XOBWUS   ;ALB/MJK - HWSC :: Web Service Manager ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
EN       ; -- main entry point for XOBW WEB SERVICE
         KILL ^TMP("XOB WEBSERVICES",$JOB)
         SET VALMBCK=""
         DO EN^VALM("XOBW WEB SERVICE")
         QUIT
         ;
HDR      ; -- header code
         NEW Y
         SET X="                       HWSC Web Service Manager"
         SET VALMHDR(1)=X
         SET X="                      Version: "_$PIECE($TEXT(XOBWUS+1),";",3)_"
               Build: "_$$VERSION^XOBWENV()
         SET VALMHDR(2)=X
         QUIT
         ;
INIT     ; -- init variables and list array
         DO CLEAR
         DO MSG
         QUIT
         ;
MSG      ; -- set default message
         SET VALMSG=""
         QUIT
         ;
BUILD    ; -- build list
         NEW XOBI,X,XOBDATA,XOBROOT,Y
         DO KILL
         ;
         SET VALMCNT=0
         SET XOBROOT=$NAME(XOBDATA("DILIST","ID"))
         DO LIST^DIC(18.02,"",".01;.02;200","","","","","","","",$NAME(XOBDATA))
         SET XOBI=0
         FOR  SET XOBI=$ORDER(@XOBROOT@(XOBI)) QUIT:'XOBI  DO
         . SET VALMCNT=VALMCNT+1
         . SET X=""
         . SET X=$$SETFLD^VALM1(VALMCNT,X,"ID")
         . SET X=$$SETFLD^VALM1($GET(@XOBROOT@(XOBI,.01)),X,"NAME")
         . SET X=$$SETFLD^VALM1($GET(@XOBROOT@(XOBI,.02)),X,"TYPE")
         . SET Y=$GET(@XOBROOT@(XOBI,200))
         . IF $LENGTH(Y)>35 SET Y=$EXTRACT(Y,1,35)_"..."
         . SET X=$$SETFLD^VALM1(Y,X,"CONTEXT")
         . DO SET^VALM10(VALMCNT,X,VALMCNT)
         . SET ^TMP("XOB WEBSERVICES","IDX",$JOB,VALMCNT,VALMCNT)=+$GET(XOBDATA(
          "DILIST",2,XOBI))
         ;
         QUIT
         ;
CLEAR    ; -- clean up entries
         DO REFRESH
         QUIT
         ;
REFRESH  ; -- refresh display
         DO BUILD
         SET VALMBCK="R"
         QUIT
         ;
KILL     ; -- kill off list location
         KILL ^TMP("XOB WEBSERVICES",$JOB)
         KILL ^TMP("XOB WEBSERVICES","IDX",$JOB)
         QUIT
         ;
HELP     ; -- help code
         SET X="?" DO DISP^XQORM1 WRITE !!
         QUIT
         ;
EXIT     ; -- exit code
         QUIT
         ;
ADD      ; -- add an web service entry
         ; -- Protocol: XOBW WEB SERVICE ADD
         DO ACTION("ADD",0)
         QUIT
         ;
EDIT     ; -- edit web service entry
         ; -- Protocol: XOBW WEB SERVICE EDIT
         DO ACTION("EDIT",0)
         QUIT
         ;
DEL      ; -- delete web service entry
         ; -- Protocol: XOBW WEB SERVICE DELETE
         DO ACTION("DEL",0)
         QUIT
         ;
EXPAND   ; -- expand web service entry
         DO ACTION("EXPAND",0)
         QUIT
         ;
ACTION(TYPE,XOBPAUSE) --
          ; -- execute action
         DO FULL^VALM1
         NEW X,Y
         SET X="DO "_TYPE_"^XOBWUS1"
         XECUTE X
         IF XOBPAUSE DO PAUSE^VALM1
         DO REFRESH
         DO MSG
         QUIT
         ;

*****   INDEX OF XOBWUS   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   TYPE         ACTION~,ACTION+3
>> VALMBCK      EN+2*,REFRESH+2*
>> VALMCNT      BUILD+4*,BUILD+9*,BUILD+11,BUILD+17,BUILD+18
>> VALMHDR(1    HDR+3*
>> VALMHDR(2    HDR+5*
>> VALMSG       MSG+1*
   X            HDR+2*,HDR+3,HDR+4*,HDR+5,BUILD+1~,BUILD+10*,BUILD+11*
                BUILD+12*,BUILD+13*,BUILD+16*,BUILD+17,HELP+1*,ACTION+2~
                ACTION+3*,ACTION+4
   XOBDATA      BUILD+1~,BUILD+6
   XOBDATA("DILIST" 
                BUILD+5,BUILD+18
   XOBI         BUILD+1~,BUILD+7*,BUILD+8*,BUILD+12,BUILD+13,BUILD+14,BUILD+18
   XOBPAUSE     ACTION~,ACTION+5
   XOBROOT      BUILD+1~,BUILD+5*,BUILD+8,BUILD+12,BUILD+13,BUILD+14
   Y            HDR+1~,BUILD+1~,BUILD+14*,BUILD+15*,BUILD+16,ACTION+2~

Global Variables  ( * Changed  ! Killed)
   ^TMP("XOB WEBSERVICES"
                       EN+1!,BUILD+18*,KILL+1!,KILL+2!

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   $T(XOBWUS+1  HDR+4

Label References
   ACTION       ADD+2,EDIT+2,DEL+2,EXPAND+1
   BUILD        REFRESH+1
   CLEAR        INIT+1
   KILL         BUILD+2
   MSG          INIT+2,ACTION+7
   REFRESH      CLEAR+1,ACTION+6

External References
   LIST^DIC            BUILD+6
   EN^VALM             EN+3
   $$SETFLD^VALM1      BUILD+11,BUILD+12,BUILD+13,BUILD+16
   FULL^VALM1          ACTION+1
   PAUSE^VALM1         ACTION+5
   SET^VALM10          BUILD+17
   $$VERSION^XOBWENV   HDR+4
   DISP^XQORM1         HELP+1

*****   END   *****


XOBWUS1        * *  212 Lines,  7665 Bytes, Checksum: B56242034
                                                  Feb 23, 2018@12:47:25 page 17
              829 bytes in comments
XOBWUS1  ;ALB/MJK - HWSC :: Web Service Manager ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
ADD      ; -- add web service entry
         NEW DIC,Y,XOBY,D
         WRITE !
         SET DIC="^XOB(18.02,",DIC(0)="AELQ",D="B" DO IX^DIC KILL DIC
         SET XOBY=Y
         IF +XOBY>0,'$PIECE(XOBY,U,3) DO  GOTO ADDQ
         . DO DISPLAY("",+XOBY)
         . WRITE !!,"This is not a new entry! Please use 'Edit Service' action."
         . DO PAUSE^VALM1
         IF +XOBY>0,$PIECE(XOBY,U,3) DO DOEDIT(+XOBY)
         DO POSTEDIT(+XOBY)
ADDQ     ;
         QUIT
         ;
EDIT     ; -- edit web service entry
         NEW XOBDA,XOBI,VALMY
         DO EN^VALM2(XQORNOD(0),"OS")
         SET XOBI=+$ORDER(VALMY(""))
         IF XOBI>0 DO 
         . SET XOBDA=+$GET(^TMP("XOB WEBSERVICES","IDX",$JOB,XOBI,XOBI))
         . DO DISPLAY(XOBI,XOBDA)
         . DO DOEDIT(XOBDA)
         . DO POSTEDIT(XOBDA)
EDITQ    ;
         QUIT
         ;
DOEDIT(DA) --
          ; -- do actual web service edit
         NEW DR,DIE
         SET DR="[XOBW WEB SERVICE EDIT]",DIE="^XOB(18.02," DO ^DIE
         QUIT
         ;
POSTEDIT(XOBDA) --
          ; -- warning checks after 'add' or 'edit'
         NEW XOBCLASS,XOBSTAT,XOBISSUE
         SET XOBSTAT=$$CLSVAL(XOBDA,.XOBCLASS,.XOBISSUE)
         IF 'XOBSTAT DO
         . IF $GET(XOBISSUE)=1 WRITE !!,"Warning: No class name specified"
         . IF $GET(XOBISSUE)=2 WRITE !!,"Warning: Class name of '",$GET(XOBCLASS
          ),"' is not a defined class!"
         . IF $GET(XOBISSUE)=3 WRITE !!,"Warning: Class '",$GET(XOBCLASS),"' doe
          s not extend %SOAP.WebClient!"
         . DO PAUSE^VALM1
         QUIT
         ;
CLSCHK(XOBDA) --
          ; -- class check warning message
         NEW XOBCLASS,XOBSTAT,XOBISSUE,XOBMSG
         SET XOBMSG=""
         SET XOBSTAT=$$CLSVAL(XOBDA,.XOBCLASS,.XOBISSUE)
         IF 'XOBSTAT DO
         . IF $GET(XOBISSUE)=1 SET XOBMSG=" o  Class name not specified" QUIT
         . IF $GET(XOBISSUE)=2 SET XOBMSG=" o  Class is not a defined class" QUI
          T
         . IF $GET(XOBISSUE)=3 SET XOBMSG=" o  Class does not extend %SOAP.WebCl
          ient" QUIT
         QUIT XOBMSG
         ;
CLSVAL(XOBDA,XOBCLASS,XOBISSUE) --
          ; -- do actual validation check
         NEW XOBWCDEF,XOBDA0,XOBOK
         SET XOBOK=0,XOBISSUE=0
         SET XOBDA0=$GET(^XOB(18.02,+XOBDA,0))
         ; -- no need to do check for REST-type [2]; quit w/ok
         IF $PIECE(XOBDA0,"^",2)=2 SET XOBOK=1 GOTO CLSVALQ
         ; -- do checks for SOAP-type [1] 
         SET XOBCLASS=$PIECE($GET(^XOB(18.02,+XOBDA,100)),"^")
         ; -- no class name defined
         IF XOBCLASS="" SET XOBOK=0,XOBISSUE=1 GOTO CLSVALQ
         SET XOBWCDEF=##class(%Dictionary.ClassDefinition).%OpenId(XOBCLASS)
         ; -- not a class
         IF XOBWCDEF="" SET XOBOK=0,XOBISSUE=2 GOTO CLSVALQ
         ; -- not a SOAP client class
         IF XOBWCDEF.Super'="%SOAP.WebClient" SET XOBOK=0,XOBISSUE=3 GOTO CLSVAL
          Q
         SET XOBOK=1,XOBISSUE=0
CLSVALQ  ;
         QUIT XOBOK
         ;
DEL      ; -- delete web service entry
         NEW XOBI,VALMY,Y,XOBDA
         DO EN^VALM2(XQORNOD(0),"OS")
         SET XOBI=+$ORDER(VALMY(""))
         ; -- quit if nothing selected
         IF XOBI'>0 GOTO DELQ
         ; -- display entry, ask if 'ok' and delete
         SET XOBDA=+$GET(^TMP("XOB WEBSERVICES","IDX",$JOB,XOBI,XOBI))
         DO DISPLAY(XOBI,XOBDA)
         IF $ORDER(^XOB(18.12,"AB",XOBDA,""))]"" DO
         . WRITE *7
         . WRITE !,"    ***************************************************"
         . WRITE !,"    * ATTENTION: This web service is still authorized *"
         . WRITE !,"    *            to 1 or more servers.                *"
         . WRITE !,"    ***************************************************"
         DO
         . NEW DIR
         . SET DIR("A")="Are you sure you want to delete entry"
         . SET DIR("B")="NO",DIR(0)="Y"
         . WRITE !
         . DO ^DIR
         IF '$GET(Y) DO  GOTO DELQ
         . WRITE !!,"Deletion aborted."
         . DO PAUSE^VALM1
         ; -- execute deletion
         DO UNREG^XOBWLIB($P(^XOB(18.02,XOBDA,0),"^"))
         WRITE !!,"Entry has been deleted."
         DO PAUSE^VALM1
DELQ     ;
         QUIT
         ;
DISPLAY(XOBI,DA) --
          ; display web service informaton
         ; input: XOBI == list entry number
         ;        DA   == internal entry number in file 18.02
         NEW X,DIQ,XOBY,DR,DIC,XOBLINE,XOBDASH,XOBTYPE,XOBCMSG,XOBSRVDA,XOBMULDA
         SET $PIECE(XOBLINE,"=",$GET(IOM,80))=""
         SET $PIECE(XOBDASH,"-",$GET(IOM,80))=""
         DO CLEAR^VALM1
         WRITE !,XOBLINE
         IF $GET(XOBI) DO
         . WRITE !,@VALMAR@(XOBI,0)
         . WRITE !,XOBDASH
         SET DIC="^XOB(18.02,"
         SET DIQ="XOBY("
         SET DIQ(0)="E"
         SET DR=".01;.02;.03;100;200;201;"
         DO EN^DIQ1
         SET XOBTYPE=$GET(XOBY(18.02,DA,.02,"E"))
         WRITE !?5,"                Name: ",$GET(XOBY(18.02,DA,.01,"E"))
         WRITE !?5,"                Type: ",$GET(XOBY(18.02,DA,.02,"E"))
         WRITE !?5,"Registered Date/Time: ",$GET(XOBY(18.02,DA,.03,"E"))
         IF XOBTYPE="SOAP" DO
         . WRITE !?5,"    Proxy Class Name: ",$GET(XOBY(18.02,DA,100,"E"))
         . SET XOBCMSG=$$CLSCHK(DA)
         . IF XOBCMSG]"" WRITE !?5,"                      ",XOBCMSG
         WRITE !?5,"        Context Root: ",$GET(XOBY(18.02,DA,200,"E"))
         WRITE !?4,"Availability Resource: "_$GET(XOBY(18.02,DA,201,"E"))
         SET X="----------- Web servers '"_$GET(XOBY(18.02,DA,.01,"E"))_"' is au
          thorized to: "
         WRITE !!,X_$EXTRACT(XOBDASH,$L(X)+1,999)
         IF $ORDER(^XOB(18.12,"AB",DA,""))']"" DO
         . WRITE !!,"        <<<none>>>"
         ELSE  DO
         . WRITE ! SET XOBSRVDA=0,XOBMULDA=0
         . FOR  SET XOBSRVDA=$ORDER(^XOB(18.12,"AB",DA,XOBSRVDA)) Q:XOBSRVDA']""
            DO
         . . FOR  SET XOBMULDA=$ORDER(^XOB(18.12,"AB",DA,XOBSRVDA,XOBMULDA)) Q:X
          OBMULDA']""  DO
         . . . W !," - ",$PIECE($GET(^XOB(18.12,XOBSRVDA,0)),U)
         WRITE !!,XOBDASH,!
         QUIT
         ;
EXPAND   ; -- expand Protocol
         NEW XOBI,XOBY,VALMY
         DO EN^VALM2(XQORNOD(0),"OS")
         SET XOBI=+$ORDER(VALMY(""))
         IF $GET(XOBI) DO
         . SET XOBY("HEADER",1)=""
         . SET XOBY("HEADER",2)=@VALMAR@(XOBI,0)
         . SET XOBY("TITLE")="Web Service Metadata Display"
         . SET XOBY("BUILD CALLBACK")="DO BUILD^XOBWUS1("_+$GET(^TMP("XOB WEBSER
          VICES","IDX",$JOB,XOBI,XOBI))_")"
         . D EN^XOBWUS2(.XOBY)
         QUIT
         ;
BUILD(XOBDA) --
          ; -- build display array with WSDL content (callback)
         NEW DIQ,XOBY,DR,DIC,DA,XOBJ,XOBWSDL,XOBDOTS,X,XOBTYPE,XOBCMSG,XOBSRVDA,
          XOBMULDA
         SET $PIECE(XOBDOTS,".",$GET(IOM,80))="."
         DO CLEAN^VALM10
         SET DIC="^XOB(18.02,"
         SET DIQ="XOBY("
         SET DIQ(0)="E"
         SET DR=".01;.02;.03;100;200;201;300"
         SET DA=$GET(XOBDA)
         DO EN^DIQ1
         SET VALMCNT=0
         SET XOBTYPE=$GET(XOBY(18.02,DA,.02,"E"))
         DO ADDLN("                     Name: "_$GET(XOBY(18.02,DA,.01,"E")))
         DO ADDLN("             Service Type: "_$GET(XOBY(18.02,DA,.02,"E")))
         DO ADDLN("     Registered Date/Time: "_$GET(XOBY(18.02,DA,.03,"E")))
         IF XOBTYPE="SOAP" DO
         . DO ADDLN("         Proxy Class Name: "_$GET(XOBY(18.02,DA,100,"E")))
         . SET XOBCMSG=$$CLSCHK(DA)
         . IF XOBCMSG]"" DO ADDLN("                           "_XOBCMSG)
         DO ADDLN("             Context Root: "_$GET(XOBY(18.02,DA,200,"E")))
         DO ADDLN("    Availability Resource: "_$GET(XOBY(18.02,DA,201,"E")))
         SET X="............Web servers '"_$GET(XOBY(18.02,DA,.01,"E"))_"' autho
          rized to:"
         DO ADDLN(" "),ADDLN(X_$EXTRACT(XOBDOTS,$L(X)+1,999))
         IF $ORDER(^XOB(18.12,"AB",XOBDA,""))']"" DO
         . DO ADDLN(" "),ADDLN("        <<<none>>>")
         ELSE  DO
         . DO ADDLN(" ") SET XOBSRVDA=0,XOBMULDA=0
         . FOR  SET XOBSRVDA=$ORDER(^XOB(18.12,"AB",XOBDA,XOBSRVDA)) Q:XOBSRVDA'
          ]""  DO
         . . FOR  SET XOBMULDA=$ORDER(^XOB(18.12,"AB",XOBDA,XOBSRVDA,XOBMULDA)) 
          Q:XOBMULDA']""  DO
         . . . DO ADDLN(" - "_$PIECE($GET(^XOB(18.12,XOBSRVDA,0)),U))
         DO ADDLN(" ")
         ;
         ; -- no need to do WSDL display info for REST services
         IF XOBTYPE="REST" GOTO BUILDQ
         ;
         ; -- build WSDL lines
         SET X="............WSDL Document:"
         DO ADDLN(X_$EXTRACT(XOBDOTS,$L(X)+1,999))
         SET XOBJ=0
         FOR  SET XOBJ=$ORDER(XOBY(18.02,DA,300,XOBJ)) QUIT:XOBJ=""  DO
         . DO ADDLN($GET(XOBY(18.02,DA,300,XOBJ)))
         . SET XOBWSDL=1
         ;
         IF '$GET(XOBWSDL) DO
         . DO ADDLN("")
         . DO ADDLN("        <<< No WSDL document available for this web service
          ! >>>")
         . DO ADDLN("")
BUILDQ   ;
         DO ADDLN(XOBDOTS)
         QUIT
         ;
ADDLN(XOBTEXT) --
          ; -- add line utility
         SET VALMCNT=VALMCNT+1
         D SET^VALM10(VALMCNT,XOBTEXT)
         QUIT
         ;

*****   INDEX OF XOBWUS1   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   D            ADD+1~,ADD+3*
   DA           DOEDIT~,DISPLAY~,DISPLAY+16,DISPLAY+17,DISPLAY+18,DISPLAY+19
                DISPLAY+21,DISPLAY+22,DISPLAY+24,DISPLAY+25,DISPLAY+26
                DISPLAY+28,DISPLAY+32,DISPLAY+33,BUILD+1~,BUILD+8*,BUILD+11
                BUILD+12,BUILD+13,BUILD+14,BUILD+16,BUILD+17,BUILD+19,BUILD+20
                BUILD+21,BUILD+39,BUILD+40
   DIC          ADD+1~,ADD+3*!,DISPLAY+3~,DISPLAY+11*,BUILD+1~,BUILD+4*
   DIC(0        ADD+3*
   DIE          DOEDIT+1~,DOEDIT+2*
   DIQ          DISPLAY+3~,DISPLAY+12*,BUILD+1~,BUILD+5*
   DIQ(0        DISPLAY+13*,BUILD+6*
   DIR          DEL+16~
   DIR("A"      DEL+17*
   DIR("B"      DEL+18*
   DIR(0        DEL+18*
   DR           DOEDIT+1~,DOEDIT+2*,DISPLAY+3~,DISPLAY+14*,BUILD+1~,BUILD+7*
   IOM          DISPLAY+4,DISPLAY+5,BUILD+2
   U            ADD+5,ADD+9,DISPLAY+34,BUILD+29
>> VALMAR       DISPLAY+9,EXPAND+6
>> VALMCNT      BUILD+10*,ADDLN+1*,ADDLN+2
   VALMY        EDIT+1~,DEL+1~,EXPAND+1~
   VALMY(""     EDIT+3,DEL+3,EXPAND+3
   X            DISPLAY+3~,DISPLAY+26*,DISPLAY+27,BUILD+1~,BUILD+21*,BUILD+22
                BUILD+36*,BUILD+37
   XOBCLASS     POSTEDIT+1~,POSTEDIT+2,POSTEDIT+5,POSTEDIT+6,CLSCHK+1~,CLSCHK+3
                CLSVAL~,CLSVAL+7*,CLSVAL+9,CLSVAL+10
   XOBCMSG      DISPLAY+3~,DISPLAY+22*,DISPLAY+23,BUILD+1~,BUILD+17*,BUILD+18
   XOBDA        EDIT+1~,EDIT+5*,EDIT+6,EDIT+7,EDIT+8,POSTEDIT~,POSTEDIT+2
                CLSCHK~,CLSCHK+3,CLSVAL~,CLSVAL+3,CLSVAL+7,DEL+1~,DEL+7*,DEL+8
                DEL+9,DEL+25,BUILD~,BUILD+8,BUILD+23,BUILD+27,BUILD+28
   XOBDA0       CLSVAL+1~,CLSVAL+3*,CLSVAL+5
   XOBDASH      DISPLAY+3~,DISPLAY+5*,DISPLAY+10,DISPLAY+27,DISPLAY+35
   XOBDOTS      BUILD+1~,BUILD+2*,BUILD+22,BUILD+37,BUILDQ+1
   XOBI         EDIT+1~,EDIT+3*,EDIT+4,EDIT+5,EDIT+6,DEL+1~,DEL+3*,DEL+5,DEL+7
                DEL+8,DISPLAY~,DISPLAY+8,DISPLAY+9,EXPAND+1~,EXPAND+3*,EXPAND+4
                EXPAND+6,EXPAND+8
   XOBISSUE     POSTEDIT+1~,POSTEDIT+2,POSTEDIT+4,POSTEDIT+5,POSTEDIT+6
                CLSCHK+1~,CLSCHK+3,CLSCHK+5,CLSCHK+6,CLSCHK+7,CLSVAL~,CLSVAL+2*
                CLSVAL+9*,CLSVAL+12*,CLSVAL+14*,CLSVAL+15*
   XOBJ         BUILD+1~,BUILD+38*,BUILD+39*,BUILD+40
   XOBLINE      DISPLAY+3~,DISPLAY+4*,DISPLAY+7
   XOBMSG       CLSCHK+1~,CLSCHK+2*,CLSCHK+5*,CLSCHK+6*,CLSCHK+7*,CLSCHK+8
   XOBMULDA     DISPLAY+3~,DISPLAY+31*,DISPLAY+33*,BUILD+1~,BUILD+26*,BUILD+28*
   XOBOK        CLSVAL+1~,CLSVAL+2*,CLSVAL+5*,CLSVAL+9*,CLSVAL+12*,CLSVAL+14*
                CLSVAL+15*,CLSVALQ+1
   XOBSRVDA     DISPLAY+3~,DISPLAY+31*,DISPLAY+32*,DISPLAY+33,DISPLAY+34
                BUILD+1~,BUILD+26*,BUILD+27*,BUILD+28,BUILD+29
   XOBSTAT      POSTEDIT+1~,POSTEDIT+2*,POSTEDIT+3,CLSCHK+1~,CLSCHK+3*,CLSCHK+4
   XOBTEXT      ADDLN~,ADDLN+2
   XOBTYPE      DISPLAY+3~,DISPLAY+16*,DISPLAY+20,BUILD+1~,BUILD+11*,BUILD+15
                BUILD+33
   XOBWCDEF     CLSVAL+1~,CLSVAL+10*,CLSVAL+12
   XOBWSDL      BUILD+1~,BUILD+41*,BUILD+43
   XOBY         ADD+1~,ADD+4*,ADD+5,ADD+6,ADD+9,ADD+10,DISPLAY+3~,EXPAND+1~
                EXPAND+9,BUILD+1~
   XOBY(        DISPLAY+16,DISPLAY+17,DISPLAY+18,DISPLAY+19,DISPLAY+21
                DISPLAY+24,DISPLAY+25,DISPLAY+26,BUILD+11,BUILD+12,BUILD+13
                BUILD+14,BUILD+16,BUILD+19,BUILD+20,BUILD+21,BUILD+39,BUILD+40
   XOBY("BUILD CALLBACK" 
                EXPAND+8*
   XOBY("HEADER" 
                EXPAND+5*,EXPAND+6*
   XOBY("TITLE" EXPAND+7*
>> XQORNOD(0    EDIT+2,DEL+2,EXPAND+2
   Y            ADD+1~,ADD+4,DEL+1~,DEL+21

Global Variables  ( * Changed  ! Killed)
   ^TMP("XOB WEBSERVICES"
                       EDIT+5,DEL+7,EXPAND+8
   ^XOB(18.02          CLSVAL+3,CLSVAL+7,DEL+25
   ^XOB(18.12          DEL+9,DISPLAY+28,DISPLAY+32,DISPLAY+33,DISPLAY+34
                       BUILD+23,BUILD+27,BUILD+28,BUILD+29

Naked Globals
   NONE

Cache Objects
   %Dictionary.ClassDefinition     CLSVAL+10
   XOBWCDEF.Super                  CLSVAL+14

Marked Items
   NONE

Label References
   $$CLSCHK     DISPLAY+22,BUILD+17
   $$CLSVAL     POSTEDIT+2,CLSCHK+3
   ADDLN        BUILD+12,BUILD+13,BUILD+14,BUILD+16,BUILD+18,BUILD+19,BUILD+20
                BUILD+22,BUILD+24,BUILD+26,BUILD+29,BUILD+30,BUILD+37,BUILD+40
                BUILD+44,BUILD+45,BUILD+46,BUILDQ+1
   ADDQ         ADD+5
   BUILDQ       BUILD+33
   CLSVALQ      CLSVAL+5,CLSVAL+9,CLSVAL+12,CLSVAL+14
   DELQ         DEL+5,DEL+21
   DISPLAY      ADD+6,EDIT+6,DEL+8
   DOEDIT       ADD+9,EDIT+7
   POSTEDIT     ADD+10,EDIT+8

External References
   IX^DIC              ADD+3
   ^DIE                DOEDIT+2
   EN^DIQ1             DISPLAY+15,BUILD+9
   ^DIR                DEL+20
   CLEAR^VALM1         DISPLAY+6
   PAUSE^VALM1         ADD+8,POSTEDIT+7,DEL+23,DEL+27
   CLEAN^VALM10        BUILD+3
   SET^VALM10          ADDLN+2
   EN^VALM2            EDIT+2,DEL+2,EXPAND+2
   UNREG^XOBWLIB       DEL+25
   EN^XOBWUS2          EXPAND+9

*****   END   *****


XOBWUS2        * *  36 Lines,  925 Bytes, Checksum: B749555
                                                  Feb 23, 2018@12:47:25 page 18
              468 bytes in comments
XOBWUS2  ;ALB/MJK - HWSC :: Generic Info Display Tool ; 09/13/10 4:00pm
         ;;1.0;HwscWebServiceClient;;September 13, 2010;Build 31
         ;
         QUIT
         ;
EN(XOBY) ; -- main entry point for XOBW WEB SERVICE DISPLAY
         ;   Input Array Subscripts:
         ;      XOBY("TITLE")          = title for List Manager
         ;      XOBY("HEADER")         = Header line
         ;      XOBY("BUILD CALLBACK") = code to build list to display
         ;         example: XOBY("BUILD CALLBACK"="DO BUILD^XOBWUS1(2)"
         ;      
         D EN^VALM("XOBW WEB SERVICE DISPLAY")
         Q
         ;
HDR      ; -- header code
         S VALMHDR(1)=$GET(XOBY("HEADER",1))
         S VALMHDR(2)=$GET(XOBY("HEADER",2))
         Q
         ;
INIT     ; -- init variables and list array
         SET VALM("TITLE")=$GET(XOBY("TITLE"))
         IF $GET(XOBY("BUILD CALLBACK"))]"" XECUTE XOBY("BUILD CALLBACK")
         Q
         ;
HELP     ; -- help code
         S X="?" D DISP^XQORM1 W !!
         Q
         ;
EXIT     ; -- exit code
         DO CLEAN^VALM10
         Q
         ;
EXPND    ; -- expand code
         Q
         ;

*****   INDEX OF XOBWUS2   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
>> VALM("TITLE" INIT+1*
>> VALMHDR(1    HDR+1*
>> VALMHDR(2    HDR+2*
>> X            HELP+1*
   XOBY         EN~
   XOBY("BUILD CALLBACK" 
                INIT+2
   XOBY("HEADER" 
                HDR+1,HDR+2
   XOBY("TITLE" INIT+1

Global Variables  ( * Changed  ! Killed)
   NONE

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   NONE

Label References
   NONE

External References
   EN^VALM             EN+7
   CLEAN^VALM10        EXIT+1
   DISP^XQORM1         HELP+1

*****   END   *****


|dd18.02        * *  21 Lines,  629 Bytes, Checksum: 
                                                  Feb 23, 2018@12:47:25 page 19
              202 bytes in comments
|dd18.02 ;DD of the WEB SERVICE file.
IXPRIMARYSL --
          ; SET LOGIC
         S ^XOB(18.02,"PRIMARY",X,DA)=""
IXPRIMARYKL --
          ; KILL LOGIC
         K ^XOB(18.02,"PRIMARY",X,DA)
IXPRIMARYKEIC --
          ; KILL ENTIRE INDEX CODE
         K ^XOB(18.02,"PRIMARY")
.01      ; NAME
         K:$L(X)>30!(X?.N)!($L(X)<3)!'(X'?1P.E) X
.01XRF1S ; SET LOGIC FOR 'B' XREF
         S ^XOB(18.02,"B",$E(X,1,30),DA)=""
.01XRF1K ; KILL LOGIC FOR 'B' XREF
         K ^XOB(18.02,"B",$E(X,1,30),DA)
.03      ; DATE REGISTERED
         S %DT="ESTXR" D ^%DT S X=Y K:X<1 X
100      ; PROXY CLASS NAME
         K:$L(X)>245!($L(X)<3) X
200      ; CONTEXT ROOT
         K:$L(X)>245!($L(X)<1) X
201      ; AVAILABILITY RESOURCE
         K:$L(X)>245!($L(X)<1) X

*****   INDEX OF |dd18.02   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
>> %DT          .03+1*
>> DA           IXPRIMARYSL+1,IXPRIMARYKL+1,.01XRF1S+1,.01XRF1K+1
   X            IXPRIMARYSL+1,IXPRIMARYKL+1,.01+1!,.01XRF1S+1,.01XRF1K+1
                .03+1*!,100+1!,200+1!,201+1!
>> Y            .03+1

Global Variables  ( * Changed  ! Killed)
   ^XOB(18.02          IXPRIMARYSL+1*,IXPRIMARYKL+1!,IXPRIMARYKEIC+1!
                       .01XRF1S+1*,.01XRF1K+1!

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   NONE

Label References
   NONE

External References
   ^%DT                .03+1

*****   END   *****


|dd18.022       * *  1 Lines,  70 Bytes, Checksum: 
                                                  Feb 23, 2018@12:47:25 page 20
              58 bytes in comments
|dd18.022 ;DD of the WSDL sub-file of the WEB SERVICE (#18.02) file.

*****   INDEX OF |dd18.022   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   NONE

Global Variables  ( * Changed  ! Killed)
   NONE

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   NONE

Label References
   NONE

External References
   NONE

*****   END   *****


|dd18.12        * *  41 Lines,  1452 Bytes, Checksum: 
                                                  Feb 23, 2018@12:47:25 page 21
              389 bytes in comments
|dd18.12 ;DD of the WEB SERVER file.
IXPRIMARYSL --
          ; SET LOGIC
         S ^XOB(18.12,"PRIMARY",X,DA)=""
IXPRIMARYKL --
          ; KILL LOGIC
         K ^XOB(18.12,"PRIMARY",X,DA)
IXPRIMARYKEIC --
          ; KILL ENTIRE INDEX CODE
         K ^XOB(18.12,"PRIMARY")
.01      ; NAME
         K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
.01XRF1S ; SET LOGIC FOR 'B' XREF
         S ^XOB(18.12,"B",$E(X,1,30),DA)=""
.01XRF1K ; KILL LOGIC FOR 'B' XREF
         K ^XOB(18.12,"B",$E(X,1,30),DA)
.03      ; PORT
         K:+X'=X!(X>64000)!(X<1)!(X?.E1"."1N.N) X
.04      ; SERVER
         K:$L(X)>60!($L(X)<3) X
.07      ; DEFAULT HTTP TIMEOUT
         K:+X'=X!(X>7200)!(X<5)!(X?.E1"."1.N) X
1.02     ; Want to edit PASSWORD (Y/N)
         DO EDIT^XOBWPWD
1.03     ; DATE PASSWORD LAST CHANGED
         S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
3.02     ; SSL CONFIGURATION
         K:$L(X)>40!($L(X)<1) X IF $DATA(X),'$$CHKNAME^XOBWSSL(X) KILL X
3.02HELP ; EXECUTABLE HELP CODE
         DO DISPLAY^XOBWSSL
3.03     ; SSL PORT
         K:+X'=X!(X>64000)!(X<1)!(X?.E1"."1N.N) X
200      ; USERNAME
         K:$L(X)>50!($L(X)<3) X
300      ; PASSWORD
         K:$L(X)>50!($L(X)<1) X
300OT    ; OUTPUT TRANSFORM CODE
         S Y(0)=Y SET Y(0)=Y,Y="<Hidden>"
300XRF1S ; SET LOGIC FOR '1' XREF
         K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^XOB(18.12,D0,1)):^(1),1:"")
           S X=$P(Y(1),U,3),X=X S DIU=X K Y S X=DIV S %=$P($H,",",2),X=DT_(%\60#
          60/100+(%\3600)+(%#60/10000)/100) X ^DD(18.12,300,1,1,1.4)
300XRF1n1.4 --
          ; SET LOGIC FOR '1' XREF
         S DIH=$G(^XOB(18.12,DIV(0),1)),DIV=X S $P(^(1),U,3)=DIV,DIH=18.12,DIG=1
          .03 D ^DICR
300XRF1K ; KILL LOGIC FOR '1' XREF
         Q

*****   INDEX OF |dd18.12   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
>> %            300XRF1S+1*
>> %DT          1.03+1*
>> D0           300XRF1S+1*
>> DA           IXPRIMARYSL+1,IXPRIMARYKL+1,.01XRF1S+1,.01XRF1K+1,300XRF1S+1
>> DIG          300XRF1n1.4+1*
>> DIH          300XRF1n1.4+1*
>> DIU          300XRF1S+1*
   DIV          300XRF1S+1!*,300XRF1n1.4+1*
   DIV(0        300XRF1S+1*,300XRF1n1.4+1
   DT           300XRF1S+1
   U            300XRF1S+1,300XRF1n1.4+1
   X            IXPRIMARYSL+1,IXPRIMARYKL+1,.01+1!,.01XRF1S+1,.01XRF1K+1,.03+1!
                .04+1!,.07+1!,1.03+1*!,3.02+1!,3.03+1!,200+1!,300+1!
                300XRF1S+1*,300XRF1n1.4+1
   Y            1.03+1,300OT+1*,300XRF1S+1!
   Y(0          300OT+1*
   Y(1          300XRF1S+1*

Global Variables  ( * Changed  ! Killed)
   ^DD(18.12           300XRF1S+1
   ^XOB(18.12          IXPRIMARYSL+1*,IXPRIMARYKL+1!,IXPRIMARYKEIC+1!
                       .01XRF1S+1*,.01XRF1K+1!,300XRF1S+1,300XRF1n1.4+1

Naked Globals
   ^(1          300XRF1S+1,300XRF1n1.4+1*

Cache Objects
   NONE

Marked Items
   NONE

Label References
   NONE

External References
   ^%DT                1.03+1
   ^DICR               300XRF1n1.4+1
   EDIT^XOBWPWD        1.02+1
   $$CHKNAME^XOBWSSL   3.02+1
   DISPLAY^XOBWSSL     3.02HELP+1

*****   END   *****


|dd18.121       * *  11 Lines,  431 Bytes, Checksum: 
                                                  Feb 23, 2018@12:47:25 page 22
              189 bytes in comments
|dd18.121 ;DD of the AUTHORIZED WEB SERVICES sub-file of the WEB SERVER (#18.12) 
          file.
.01      ; WEB SERVICE
         Q
.01XRF1S ; SET LOGIC FOR 'B' XREF
         S ^XOB(18.12,DA(1),100,"B",$E(X,1,30),DA)=""
.01XRF1K ; KILL LOGIC FOR 'B' XREF
         K ^XOB(18.12,DA(1),100,"B",$E(X,1,30),DA)
.01XRF2S ; SET LOGIC FOR 'AB' XREF
         S ^XOB(18.12,"AB",$E(X,1,30),DA(1),DA)=""
.01XRF2K ; KILL LOGIC FOR 'AB' XREF
         K ^XOB(18.12,"AB",$E(X,1,30),DA(1),DA)

*****   INDEX OF |dd18.121   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
>> DA           .01XRF1S+1,.01XRF1K+1,.01XRF2S+1,.01XRF2K+1
>> DA(1         .01XRF1S+1,.01XRF1K+1,.01XRF2S+1,.01XRF2K+1
>> X            .01XRF1S+1,.01XRF1K+1,.01XRF2S+1,.01XRF2K+1

Global Variables  ( * Changed  ! Killed)
   ^XOB(18.12          .01XRF1S+1*,.01XRF1K+1!,.01XRF2S+1*,.01XRF2K+1!

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   NONE

Label References
   NONE

External References
   NONE

*****   END   *****


|dd18.13        * *  21 Lines,  673 Bytes, Checksum: 
                                                  Feb 23, 2018@12:47:25 page 23
              237 bytes in comments
|dd18.13 ;DD of the WEB SERVER LOOKUP KEY file.
IXPRIMARYSL --
          ; SET LOGIC
         S ^XOB(18.13,"PRIMARY",X,DA)=""
IXPRIMARYKL --
          ; KILL LOGIC
         K ^XOB(18.13,"PRIMARY",X,DA)
IXPRIMARYKEIC --
          ; KILL ENTIRE INDEX CODE
         K ^XOB(18.13,"PRIMARY")
.01      ; KEY NAME
         S X=$$UP^XLFSTR(X) K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
.01XRF1S ; SET LOGIC FOR 'B' XREF
         S ^XOB(18.13,"B",$E(X,1,30),DA)=""
.01XRF1K ; KILL LOGIC FOR 'B' XREF
         K ^XOB(18.13,"B",$E(X,1,30),DA)
.02      ; BRIEF DESCRIPTION
         K:$L(X)>50!($L(X)<2) X
.03      ; ASSOCIATED WEB SERVER
         Q
.03XRF1S ; SET LOGIC FOR 'WS' XREF
         S ^XOB(18.13,"WS",$E(X,1,30),DA)=""
.03XRF1K ; KILL LOGIC FOR 'WS' XREF
         K ^XOB(18.13,"WS",$E(X,1,30),DA)

*****   INDEX OF |dd18.13   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
>> DA           IXPRIMARYSL+1,IXPRIMARYKL+1,.01XRF1S+1,.01XRF1K+1,.03XRF1S+1
                .03XRF1K+1
   X            IXPRIMARYSL+1,IXPRIMARYKL+1,.01+1*!,.01XRF1S+1,.01XRF1K+1
                .02+1!,.03XRF1S+1,.03XRF1K+1

Global Variables  ( * Changed  ! Killed)
   ^XOB(18.13          IXPRIMARYSL+1*,IXPRIMARYKL+1!,IXPRIMARYKEIC+1!
                       .01XRF1S+1*,.01XRF1K+1!,.03XRF1S+1*,.03XRF1K+1!

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   NONE

Label References
   NONE

External References
   $$UP^XLFSTR         .01+1

*****   END   *****


|inpt        * *  15 Lines,  403 Bytes, Checksum: Feb 23, 2018@12:47:25 page 24
              151 bytes in comments
|inpt    ; '' Input Templates.
         ;
1749     ; XOBW WEB SERVER KEY SETUP - EXECUTABLE CODE
         ;
1747     ; XOBW WEB SERVER SETUP - EXECUTABLE CODE
         ;
         WRITE !!,"Security Credentials"
         WRITE !,"===================="
         IF +X=0 SET Y="@100"
         IF '$$SSLOK^XOBWENV() SET Y="@200"
         WRITE !!,"SSL Setup"
         WRITE !,"========="
1748     ; XOBW WEB SERVICE EDIT - EXECUTABLE CODE
         WRITE !,"========="
         IF X'=1 SET Y=200

*****   INDEX OF |inpt   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
>> X            1747+4,1748+2
>> Y            1747+4*,1747+5*,1748+2*

Global Variables  ( * Changed  ! Killed)
   NONE

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   NONE

Label References
   NONE

External References
   $$SSLOK^XOBWENV     1747+5

*****   END   *****


|list        * *  50 Lines,  1516 Bytes, Checksum: 
                                                  Feb 23, 2018@12:47:25 page 25
              1031 bytes in comments
|list    ; '' List Templates.
         ;
666      ; XOBW WEB SERVER - HEADER CODE (#100)
         DO HDR^XOBWU
         ; XOBW WEB SERVER - EXPAND CODE (#102)
         DO EXPAND^XOBWU
         ; XOBW WEB SERVER - HELP CODE (#103)
         DO HELP^XOBWU
         ; XOBW WEB SERVER - EXIT CODE (#105)
         DO EXIT^XOBWU
         ; XOBW WEB SERVER - ENTRY CODE (#106)
         DO INIT^XOBWU
         ; XOBW WEB SERVER - ARRAY NAME (#107)
         I $L(^TMP("XOB) Q
669      ; XOBW WEB SERVER LOOKUPKEY - HEADER CODE (#100)
         DO HDR^XOBWUA
         ; XOBW WEB SERVER LOOKUPKEY - EXPAND CODE (#102)
         DO EXPAND^XOBWUA
         ; XOBW WEB SERVER LOOKUPKEY - HELP CODE (#103)
         DO HELP^XOBWUA
         ; XOBW WEB SERVER LOOKUPKEY - EXIT CODE (#105)
         DO EXIT^XOBWUA
         ; XOBW WEB SERVER LOOKUPKEY - ENTRY CODE (#106)
         DO INIT^XOBWUA
         ; XOBW WEB SERVER LOOKUPKEY - ARRAY NAME (#107)
         I $L(^TMP("XOB) Q
667      ; XOBW WEB SERVICE - HEADER CODE (#100)
         DO HDR^XOBWUS
         ; XOBW WEB SERVICE - EXPAND CODE (#102)
         DO EXPAND^XOBWUS
         ; XOBW WEB SERVICE - HELP CODE (#103)
         DO HELP^XOBWUS
         ; XOBW WEB SERVICE - EXIT CODE (#105)
         DO EXIT^XOBWUS
         ; XOBW WEB SERVICE - ENTRY CODE (#106)
         DO INIT^XOBWUS
         ; XOBW WEB SERVICE - ARRAY NAME (#107)
         I $L(^TMP("XOB) Q
668      ; XOBW WEB SERVICE DISPLAY - HEADER CODE (#100)
         DO HDR^XOBWUS2
         ; XOBW WEB SERVICE DISPLAY - EXPAND CODE (#102)
         ;
         ; XOBW WEB SERVICE DISPLAY - HELP CODE (#103)
         DO HELP^XOBWUS2
         ; XOBW WEB SERVICE DISPLAY - EXIT CODE (#105)
         DO EXIT^XOBWUS2
         ; XOBW WEB SERVICE DISPLAY - ENTRY CODE (#106)
         DO INIT^XOBWUS2
         ; XOBW WEB SERVICE DISPLAY - ARRAY NAME (#107)
         ;
*****   ERRORS & WARNINGS IN |list   *****
   666+11       F - Unmatched Quotation Marks.
   666+11       F - Unmatched Quotation Marks.
   666+11       F - Unmatched Parenthesis.
   669+11       F - Unmatched Quotation Marks.
   669+11       F - Unmatched Quotation Marks.
   669+11       F - Unmatched Parenthesis.
   667+11       F - Unmatched Quotation Marks.
   667+11       F - Unmatched Quotation Marks.
   667+11       F - Unmatched Parenthesis.

*****   INDEX OF |list   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   NONE

Global Variables  ( * Changed  ! Killed)
   NONE

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   NONE

Label References
   NONE

External References
   EXIT^XOBWU          666+7
   EXPAND^XOBWU        666+3
   HDR^XOBWU           666+1
   HELP^XOBWU          666+5
   INIT^XOBWU          666+9
   EXIT^XOBWUA         669+7
   EXPAND^XOBWUA       669+3
   HDR^XOBWUA          669+1
   HELP^XOBWUA         669+5
   INIT^XOBWUA         669+9
   EXIT^XOBWUS         667+7
   EXPAND^XOBWUS       667+3
   HDR^XOBWUS          667+1
   HELP^XOBWUS         667+5
   INIT^XOBWUS         667+9
   EXIT^XOBWUS2        668+7
   HDR^XOBWUS2         668+1
   HELP^XOBWUS2        668+5
   INIT^XOBWUS2        668+9

*****   END   *****


|opt        * *  5 Lines,  118 Bytes, Checksum:   Feb 23, 2018@12:47:25 page 26
              83 bytes in comments
|opt     ; '' Options.
         ;
11222    ; XOBW WEB SERVER MANAGER - Web Server Manager (action)
         ; ENTRY ACTION
         DO EN^XOBWU

*****   INDEX OF |opt   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
   NONE

Global Variables  ( * Changed  ! Killed)
   NONE

Naked Globals
   NONE

Cache Objects
   NONE

Marked Items
   NONE

Label References
   NONE

External References
   EN^XOBWU            11222+2

*****   END   *****


|ptcl        * *  420 Lines,  11930 Bytes, Checksum: 
                                                  Feb 23, 2018@12:47:25 page 27
              10246 bytes in comments
|ptcl    ; '' Protocols.
         ;
4433     ; XOBW ASSOCIATE ADD - EXIT ACTION (#15)
         ;
         ; XOBW ASSOCIATE ADD - ENTRY ACTION (#20)
         DO ADD^XOBWUA
         ; XOBW ASSOCIATE ADD - SCREEN (#24)
         ;
         ; XOBW ASSOCIATE ADD - HEADER (#26)
         ;
         ; XOBW ASSOCIATE ADD - MENU HELP (#27)
         ;
         ; XOBW ASSOCIATE ADD - ORDER PRINT ACTION (#100)
         ;
         ; XOBW ASSOCIATE ADD - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW ASSOCIATE ADD - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW ASSOCIATE ADD - PROCESSING ROUTINE (#771)
         ;
         ; XOBW ASSOCIATE ADD - ORDER PURGE ACTION (#772)
         ;
         ; XOBW ASSOCIATE ADD - ROUTING LOGIC (#774)
         ;
4435     ; XOBW ASSOCIATE DELETE - EXIT ACTION (#15)
         ;
         ; XOBW ASSOCIATE DELETE - ENTRY ACTION (#20)
         DO DEL^XOBWUA
         ; XOBW ASSOCIATE DELETE - SCREEN (#24)
         ;
         ; XOBW ASSOCIATE DELETE - HEADER (#26)
         ;
         ; XOBW ASSOCIATE DELETE - MENU HELP (#27)
         ;
         ; XOBW ASSOCIATE DELETE - ORDER PRINT ACTION (#100)
         ;
         ; XOBW ASSOCIATE DELETE - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW ASSOCIATE DELETE - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW ASSOCIATE DELETE - PROCESSING ROUTINE (#771)
         ;
         ; XOBW ASSOCIATE DELETE - ORDER PURGE ACTION (#772)
         ;
         ; XOBW ASSOCIATE DELETE - ROUTING LOGIC (#774)
         ;
4434     ; XOBW ASSOCIATE EDIT - EXIT ACTION (#15)
         ;
         ; XOBW ASSOCIATE EDIT - ENTRY ACTION (#20)
         DO EDIT^XOBWUA
         ; XOBW ASSOCIATE EDIT - SCREEN (#24)
         ;
         ; XOBW ASSOCIATE EDIT - HEADER (#26)
         ;
         ; XOBW ASSOCIATE EDIT - MENU HELP (#27)
         ;
         ; XOBW ASSOCIATE EDIT - ORDER PRINT ACTION (#100)
         ;
         ; XOBW ASSOCIATE EDIT - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW ASSOCIATE EDIT - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW ASSOCIATE EDIT - PROCESSING ROUTINE (#771)
         ;
         ; XOBW ASSOCIATE EDIT - ORDER PURGE ACTION (#772)
         ;
         ; XOBW ASSOCIATE EDIT - ROUTING LOGIC (#774)
         ;
4437     ; XOBW ASSOCIATE FILTER KEY - EXIT ACTION (#15)
         ;
         ; XOBW ASSOCIATE FILTER KEY - ENTRY ACTION (#20)
         DO KFILTER^XOBWUA
         ; XOBW ASSOCIATE FILTER KEY - SCREEN (#24)
         ;
         ; XOBW ASSOCIATE FILTER KEY - HEADER (#26)
         ;
         ; XOBW ASSOCIATE FILTER KEY - MENU HELP (#27)
         ;
         ; XOBW ASSOCIATE FILTER KEY - ORDER PRINT ACTION (#100)
         ;
         ; XOBW ASSOCIATE FILTER KEY - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW ASSOCIATE FILTER KEY - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW ASSOCIATE FILTER KEY - PROCESSING ROUTINE (#771)
         ;
         ; XOBW ASSOCIATE FILTER KEY - ORDER PURGE ACTION (#772)
         ;
         ; XOBW ASSOCIATE FILTER KEY - ROUTING LOGIC (#774)
         ;
4438     ; XOBW ASSOCIATE FILTER SERVER - EXIT ACTION (#15)
         ;
         ; XOBW ASSOCIATE FILTER SERVER - ENTRY ACTION (#20)
         DO SFILTER^XOBWUA
         ; XOBW ASSOCIATE FILTER SERVER - SCREEN (#24)
         ;
         ; XOBW ASSOCIATE FILTER SERVER - HEADER (#26)
         ;
         ; XOBW ASSOCIATE FILTER SERVER - MENU HELP (#27)
         ;
         ; XOBW ASSOCIATE FILTER SERVER - ORDER PRINT ACTION (#100)
         ;
         ; XOBW ASSOCIATE FILTER SERVER - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW ASSOCIATE FILTER SERVER - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW ASSOCIATE FILTER SERVER - PROCESSING ROUTINE (#771)
         ;
         ; XOBW ASSOCIATE FILTER SERVER - ORDER PURGE ACTION (#772)
         ;
         ; XOBW ASSOCIATE FILTER SERVER - ROUTING LOGIC (#774)
         ;
4432     ; XOBW ASSOCIATE MENU - EXIT ACTION (#15)
         ;
         ; XOBW ASSOCIATE MENU - ENTRY ACTION (#20)
         ;
         ; XOBW ASSOCIATE MENU - SCREEN (#24)
         ;
         ; XOBW ASSOCIATE MENU - HEADER (#26)
         DO SHOW^VALM
         ; XOBW ASSOCIATE MENU - MENU HELP (#27)
         ;
         ; XOBW ASSOCIATE MENU - ORDER PRINT ACTION (#100)
         ;
         ; XOBW ASSOCIATE MENU - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW ASSOCIATE MENU - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW ASSOCIATE MENU - PROCESSING ROUTINE (#771)
         ;
         ; XOBW ASSOCIATE MENU - ORDER PURGE ACTION (#772)
         ;
         ; XOBW ASSOCIATE MENU - ROUTING LOGIC (#774)
         ;
4436     ; XOBW ASSOCIATE SORT - EXIT ACTION (#15)
         ;
         ; XOBW ASSOCIATE SORT - ENTRY ACTION (#20)
         DO SORT^XOBWUA
         ; XOBW ASSOCIATE SORT - SCREEN (#24)
         ;
         ; XOBW ASSOCIATE SORT - HEADER (#26)
         ;
         ; XOBW ASSOCIATE SORT - MENU HELP (#27)
         ;
         ; XOBW ASSOCIATE SORT - ORDER PRINT ACTION (#100)
         ;
         ; XOBW ASSOCIATE SORT - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW ASSOCIATE SORT - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW ASSOCIATE SORT - PROCESSING ROUTINE (#771)
         ;
         ; XOBW ASSOCIATE SORT - ORDER PURGE ACTION (#772)
         ;
         ; XOBW ASSOCIATE SORT - ROUTING LOGIC (#774)
         ;
4423     ; XOBW WEB SERVER ADD - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVER ADD - ENTRY ACTION (#20)
         DO ADD^XOBWU
         ; XOBW WEB SERVER ADD - SCREEN (#24)
         ;
         ; XOBW WEB SERVER ADD - HEADER (#26)
         ;
         ; XOBW WEB SERVER ADD - MENU HELP (#27)
         ;
         ; XOBW WEB SERVER ADD - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVER ADD - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVER ADD - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVER ADD - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVER ADD - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVER ADD - ROUTING LOGIC (#774)
         ;
4424     ; XOBW WEB SERVER DELETE - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVER DELETE - ENTRY ACTION (#20)
         DO DEL^XOBWU
         ; XOBW WEB SERVER DELETE - SCREEN (#24)
         ;
         ; XOBW WEB SERVER DELETE - HEADER (#26)
         ;
         ; XOBW WEB SERVER DELETE - MENU HELP (#27)
         ;
         ; XOBW WEB SERVER DELETE - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVER DELETE - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVER DELETE - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVER DELETE - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVER DELETE - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVER DELETE - ROUTING LOGIC (#774)
         ;
4422     ; XOBW WEB SERVER EDIT - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVER EDIT - ENTRY ACTION (#20)
         DO EDIT^XOBWU
         ; XOBW WEB SERVER EDIT - SCREEN (#24)
         ;
         ; XOBW WEB SERVER EDIT - HEADER (#26)
         ;
         ; XOBW WEB SERVER EDIT - MENU HELP (#27)
         ;
         ; XOBW WEB SERVER EDIT - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVER EDIT - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVER EDIT - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVER EDIT - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVER EDIT - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVER EDIT - ROUTING LOGIC (#774)
         ;
4439     ; XOBW WEB SERVER LOOKUP KEY MANAGER - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVER LOOKUP KEY MANAGER - ENTRY ACTION (#20)
         DO LKM^XOBWU
         ; XOBW WEB SERVER LOOKUP KEY MANAGER - SCREEN (#24)
         ;
         ; XOBW WEB SERVER LOOKUP KEY MANAGER - HEADER (#26)
         ;
         ; XOBW WEB SERVER LOOKUP KEY MANAGER - MENU HELP (#27)
         ;
         ; XOBW WEB SERVER LOOKUP KEY MANAGER - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVER LOOKUP KEY MANAGER - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVER LOOKUP KEY MANAGER - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVER LOOKUP KEY MANAGER - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVER LOOKUP KEY MANAGER - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVER LOOKUP KEY MANAGER - ROUTING LOGIC (#774)
         ;
4421     ; XOBW WEB SERVER MENU - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVER MENU - ENTRY ACTION (#20)
         ;
         ; XOBW WEB SERVER MENU - SCREEN (#24)
         I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
         ; XOBW WEB SERVER MENU - HEADER (#26)
         DO SHOW^VALM
         ; XOBW WEB SERVER MENU - MENU HELP (#27)
         ;
         ; XOBW WEB SERVER MENU - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVER MENU - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVER MENU - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVER MENU - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVER MENU - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVER MENU - ROUTING LOGIC (#774)
         ;
4431     ; XOBW WEB SERVER TEST WS AVAILABILITY - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVER TEST WS AVAILABILITY - ENTRY ACTION (#20)
         DO AVAIL^XOBWU
         ; XOBW WEB SERVER TEST WS AVAILABILITY - SCREEN (#24)
         ;
         ; XOBW WEB SERVER TEST WS AVAILABILITY - HEADER (#26)
         ;
         ; XOBW WEB SERVER TEST WS AVAILABILITY - MENU HELP (#27)
         ;
         ; XOBW WEB SERVER TEST WS AVAILABILITY - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVER TEST WS AVAILABILITY - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVER TEST WS AVAILABILITY - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVER TEST WS AVAILABILITY - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVER TEST WS AVAILABILITY - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVER TEST WS AVAILABILITY - ROUTING LOGIC (#774)
         ;
4425     ; XOBW WEB SERVER TESTER - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVER TESTER - ENTRY ACTION (#20)
         DO WST^XOBWU
         ; XOBW WEB SERVER TESTER - SCREEN (#24)
         IF $TEXT(SOAPNAME^XOBTPST)]""
         ; XOBW WEB SERVER TESTER - HEADER (#26)
         ;
         ; XOBW WEB SERVER TESTER - MENU HELP (#27)
         ;
         ; XOBW WEB SERVER TESTER - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVER TESTER - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVER TESTER - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVER TESTER - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVER TESTER - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVER TESTER - ROUTING LOGIC (#774)
         ;
4427     ; XOBW WEB SERVICE ADD - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVICE ADD - ENTRY ACTION (#20)
         DO ADD^XOBWUS
         ; XOBW WEB SERVICE ADD - SCREEN (#24)
         ;
         ; XOBW WEB SERVICE ADD - HEADER (#26)
         ;
         ; XOBW WEB SERVICE ADD - MENU HELP (#27)
         ;
         ; XOBW WEB SERVICE ADD - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVICE ADD - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVICE ADD - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVICE ADD - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVICE ADD - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVICE ADD - ROUTING LOGIC (#774)
         ;
4429     ; XOBW WEB SERVICE DELETE - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVICE DELETE - ENTRY ACTION (#20)
         DO DEL^XOBWUS
         ; XOBW WEB SERVICE DELETE - SCREEN (#24)
         ;
         ; XOBW WEB SERVICE DELETE - HEADER (#26)
         ;
         ; XOBW WEB SERVICE DELETE - MENU HELP (#27)
         ;
         ; XOBW WEB SERVICE DELETE - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVICE DELETE - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVICE DELETE - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVICE DELETE - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVICE DELETE - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVICE DELETE - ROUTING LOGIC (#774)
         ;
4428     ; XOBW WEB SERVICE EDIT - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVICE EDIT - ENTRY ACTION (#20)
         DO EDIT^XOBWUS
         ; XOBW WEB SERVICE EDIT - SCREEN (#24)
         ;
         ; XOBW WEB SERVICE EDIT - HEADER (#26)
         ;
         ; XOBW WEB SERVICE EDIT - MENU HELP (#27)
         ;
         ; XOBW WEB SERVICE EDIT - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVICE EDIT - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVICE EDIT - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVICE EDIT - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVICE EDIT - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVICE EDIT - ROUTING LOGIC (#774)
         ;
4430     ; XOBW WEB SERVICE MANAGER - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVICE MANAGER - ENTRY ACTION (#20)
         DO WSM^XOBWU
         ; XOBW WEB SERVICE MANAGER - SCREEN (#24)
         ;
         ; XOBW WEB SERVICE MANAGER - HEADER (#26)
         ;
         ; XOBW WEB SERVICE MANAGER - MENU HELP (#27)
         ;
         ; XOBW WEB SERVICE MANAGER - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVICE MANAGER - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVICE MANAGER - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVICE MANAGER - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVICE MANAGER - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVICE MANAGER - ROUTING LOGIC (#774)
         ;
4426     ; XOBW WEB SERVICE MENU - EXIT ACTION (#15)
         ;
         ; XOBW WEB SERVICE MENU - ENTRY ACTION (#20)
         ;
         ; XOBW WEB SERVICE MENU - SCREEN (#24)
         ;
         ; XOBW WEB SERVICE MENU - HEADER (#26)
         DO SHOW^VALM
         ; XOBW WEB SERVICE MENU - MENU HELP (#27)
         ;
         ; XOBW WEB SERVICE MENU - ORDER PRINT ACTION (#100)
         ;
         ; XOBW WEB SERVICE MENU - ORDER CANCEL ACTION (#100.1)
         ;
         ; XOBW WEB SERVICE MENU - ORDER PURGE ACTION (#100.2)
         ;
         ; XOBW WEB SERVICE MENU - PROCESSING ROUTINE (#771)
         ;
         ; XOBW WEB SERVICE MENU - ORDER PURGE ACTION (#772)
         ;
         ; XOBW WEB SERVICE MENU - ROUTING LOGIC (#774)
         ;
*****   ERRORS & WARNINGS IN |ptcl   *****
   4425+5       F - Reference to routine '^XOBTPST'. That isn't in this UCI.

*****   INDEX OF |ptcl   *****


Local Variables      Line Occurrences   ( >> not killed explicitly)
                                        ( * Changed  ! Killed  ~ Newed)
>> DA           4421+5
>> DA(1         4421+5

Global Variables  ( * Changed  ! Killed)
   ^ORD(101            4421+5

Naked Globals
   ^(24         4421+5

Cache Objects
   NONE

Marked Items
   $T(SOAPNAME^XOBTPST
                4425+5

Label References
   NONE

External References
   SHOW^VALM           4432+7,4421+7,4426+7
   SOAPNAME^XOBTPST    4425+5
   ADD^XOBWU           4423+3
   AVAIL^XOBWU         4431+3
   DEL^XOBWU           4424+3
   EDIT^XOBWU          4422+3
   LKM^XOBWU           4439+3
   WSM^XOBWU           4430+3
   WST^XOBWU           4425+3
   ADD^XOBWUA          4433+3
   DEL^XOBWUA          4435+3
   EDIT^XOBWUA         4434+3
   KFILTER^XOBWUA      4437+3
   SFILTER^XOBWUA      4438+3
   SORT^XOBWUA         4436+3
   ADD^XOBWUS          4427+3
   DEL^XOBWUS          4429+3
   EDIT^XOBWUS         4428+3

*****   END   *****


*****   Cross Reference of all Routines   *****   Feb 23, 2018@12:47:25 page 28

Local Variables    Routines   ( >> not killed explicitly)
                              ( * Changed  ! Killed  ~ Newed)
>> %            |dd18.12*
>> %DT          |dd18.02*,|dd18.12*
   %XOBWERR     XOBWLIB1!
   %objlasterror 
                XOBWD,XOBWLIB1!
   A            XOBWPWD*~
   C            XOBWPWD*~
   CFG          XOBWSSL*~
   COUNT        XOBWSSL*~
   D            XOBWU1*~,XOBWUA1*~,XOBWUS1*~
>> D0           |dd18.12*
   DA           XOBWD*!~,XOBWPST*~,XOBWPWD,XOBWU1~,XOBWUA1~,XOBWUS1*~,XOBWUS1
                |dd18.02,|dd18.12,|dd18.121,|dd18.13,|ptcl
   DA(1         XOBWD*,XOBWPST*,|dd18.121,|ptcl
>> DDS          XOBWPWD
>> DDSHBX       XOBWPWD
   DEFAULT      XOBWLIB1~
   DIC          XOBWLIB1*!~,XOBWU1*!~,XOBWUA1*!~,XOBWUS1*!~
   DIC("A"      XOBWUA1*
   DIC("B"      XOBWLIB1*
   DIC(0        XOBWLIB1*,XOBWU1*,XOBWUA1*,XOBWUS1*
   DIE          XOBWU1*~,XOBWUA1*~,XOBWUS1*~
   DIERR        XOBWD~,XOBWLIB1~
   DIF          XOBWP004*~
>> DIG          |dd18.12*
>> DIH          |dd18.12*
   DIK          XOBWD*!~,XOBWPST*~,XOBWU1*~,XOBWUA1*~
   DIK(1        XOBWPST*
   DIQ          XOBWUS1*~
   DIQ(0        XOBWUS1*
   DIR          XOBWENV~,XOBWLIB1!,XOBWPWD!~,XOBWU1~,XOBWUA1~,XOBWUS1~
   DIR("A"      XOBWLIB1*,XOBWPWD*,XOBWU1*,XOBWUA1*,XOBWUS1*
   DIR("B"      XOBWU1*,XOBWUA1*,XOBWUS1*
   DIR(0        XOBWENV*,XOBWLIB1*,XOBWPWD*,XOBWU1*,XOBWUA1*,XOBWUS1*
   DIR0         XOBWPWD~
   DIROUT       XOBWLIB1~,XOBWUA1~
   DIRUT        XOBWLIB1~,XOBWPWD*!,XOBWUA1~
>> DIU          |dd18.12*
   DIV          |dd18.12*!
   DIV(0        |dd18.12*
   DR           XOBWU1*~,XOBWUA1*~,XOBWUS1*~
   DT           |dd18.12
   DTOUT        XOBWLIB1~,XOBWUA1~
   DUOUT        XOBWLIB1~,XOBWPWD*!,XOBWUA1~
   DUZ          XOBWLIB1,XOBWP004
   DUZ(2        XOBWLIB1
   DX           XOBWPWD*~
   DY           XOBWPWD*~
   E            XOBWPWD*~
   FDA          XOBWPWD~
   FDA(         XOBWPWD*
   I            XOBWD*~,XOBWLIB1*~,XOBWPA04*~,XOBWPB04*~,XOBWU~,XOBWUA~
   IEN          XOBWU1*~
   IEN0         XOBWU1*~
   INFOARR      XOBWLIB1*~
   IOF          XOBWLIB1
   IOM          XOBWU1,XOBWUA1,XOBWUS1
   IOSL         XOBWLIB1
>> IOXY         XOBWPWD
   IP           XOBWPST*~
   IPPORT       XOBWLIB1*~
   IT           XOBWPA04*~,XOBWPB04*~
   KEY          XOBWU1*~
   KEYCAP       XOBWUA*~
   MAJOR        XOBWENV*~
   MATCH        XOBWSSL*~
   MINOR        XOBWENV*~
   MORE         XOBWSSL*~
   MSG          XOBWP004*!
>> MSGSBJ       XOBWP004*
   NAME         XOBWLIB1*~
   RS           XOBWSSL*~
   SERVER       XOBWPST*~
   SITE         XOBWLIB1~
   SORT         XOBWUA~
   SORT(        XOBWUA*
   SRVCAP       XOBWUA*~
   STATUS       XOBWLIB1*~,XOBWSSL~
   STR          XOBWSSL~
   SUBMINOR     XOBWENV*~
   TO           XOBWPWD*~
   TYPE         XOBWU~,XOBWUA~,XOBWUS~
   U            XOBWD,XOBWLIB1,XOBWU1,XOBWUA1,XOBWUS1,|dd18.12
>> VALM("TITLE" XOBWUS2*
>> VALMAR       XOBWU1,XOBWUA1,XOBWUS1
   VALMBCK      XOBWU*~,XOBWUA*,XOBWUS*
>> VALMCNT      XOBWU*,XOBWU1*,XOBWUA*,XOBWUS*,XOBWUS1*
>> VALMHDR(1    XOBWU*,XOBWUA*,XOBWUS*,XOBWUS2*
>> VALMHDR(2    XOBWU*,XOBWUA*,XOBWUS*,XOBWUS2*
>> VALMHDR(3    XOBWUA*
>> VALMSG       XOBWU*,XOBWUA*,XOBWUS*
   VALMY        XOBWU1~,XOBWUA1~,XOBWUS1~
   VALMY(""     XOBWU1,XOBWUA1,XOBWUS1
   WHO          XOBWP004!
   WHO(         XOBWP004*
   WHO("G.PATCH TRACKING XOBW_1_4@DOMAIN.EXT" 
                XOBWP004*
   WHO("Jose.Luis-Garcia@domain.ext" 
                XOBWP004*
   X            XOBWD*~,XOBWLIB1*~,XOBWP004*~,XOBWPA04*~,XOBWPB04*~,XOBWPWD*!~
                XOBWU*~,XOBWUA*~,XOBWUA1~,XOBWUS*~,XOBWUS1*~,XOBWUS2*
                |dd18.02*!,|dd18.12*!,|dd18.121,|dd18.13*!,|inpt
   XCNP         XOBWP004*~
   XDIR         XOBWPA04*~,XOBWPB04*~
   XFILE        XOBWPA04*~,XOBWPB04*~
   XOB0         XOBWU~,XOBWUA~
   XOBCAURL     XOBWD~,XOBWLIB~
   XOBCDEF      XOBWD*~
   XOBCFGN      XOBWSSL~
   XOBCHK       XOBWD*~
   XOBCLASS     XOBWD*~,XOBWLIB~,XOBWUS1*~
   XOBCLR       XOBWUA1*~
   XOBCMSG      XOBWUS1*~
   XOBCNT       XOBWPST*~
   XOBCODE      XOBWLIB1*~
   XOBCONFG     XOBWP004*~
   XOBCXT       XOBWD*~,XOBWLIB~
   XOBDA        XOBWD*~,XOBWPST*~,XOBWU1*~,XOBWUA1*~,XOBWUS1*~
   XOBDA0       XOBWPST*~,XOBWUS1*~
   XOBDASH      XOBWU1*~,XOBWUA1*~,XOBWUS1*~
   XOBDATA      XOBWLIB1!,XOBWU~,XOBWUA~,XOBWUS~
   XOBDATA("DILIST" 
                XOBWLIB1,XOBWU,XOBWUA,XOBWUS
   XOBDIR       XOBWENV~,XOBWLIB1~
   XOBDONE      XOBWPWD*~
   XOBDOTS      XOBWU1*~,XOBWUS1*~
   XOBEO        XOBWLIB~
   XOBEOARR     XOBWLIB~
   XOBERR       XOBWD~,XOBWLIB*~,XOBWLIB1*~,XOBWPST~,XOBWPWD~
   XOBEXIT      XOBWLIB1*~
   XOBEXSTS     XOBWP004*~
   XOBFDA       XOBWD~,XOBWLIB1~,XOBWPST~
   XOBFDA(      XOBWD*,XOBWLIB1*,XOBWPST*
   XOBFDAI      XOBWD~,XOBWLIB1~
   XOBFDAI(1    XOBWD,XOBWLIB1
   XOBFERR      XOBWLIB~
   XOBFILE      XOBWLIB1~,XOBWPST*~
   XOBH         XOBWPWD*~
   XOBHRO       XOBWLIB~
   XOBI         XOBWD*~,XOBWLIB1*~,XOBWPWD*~,XOBWU*~,XOBWU1*~,XOBWUA*~
                XOBWUA1*~,XOBWUS*~,XOBWUS1*~
   XOBIEN       XOBWD*~,XOBWLIB1*~
   XOBIENS      XOBWD*~,XOBWLIB1*~,XOBWPST*~
   XOBINARR     XOBWD~
   XOBINFO      XOBWD*~
   XOBISSUE     XOBWUS1*~
   XOBJ         XOBWLIB1~,XOBWUS1*~
   XOBKEY       XOBWUA*~
   XOBKFILT     XOBWUA*~,XOBWUA1*
   XOBKYIEN     XOBWLIB1*~
   XOBKYNM      XOBWLIB1*~
   XOBLABEL     XOBWPST~
   XOBLERR      XOBWD~,XOBWLIB1~
   XOBLERR(     XOBWD,XOBWLIB1
   XOBLINE      XOBWU1*~,XOBWUA1*~,XOBWUS1*~
   XOBLIST      XOBWLIB1~
   XOBMATCH     XOBWPWD*~
   XOBMSG       XOBWUS1*~
   XOBMULDA     XOBWD*~,XOBWUS1*~
   XOBNAME      XOBWP004*~
   XOBNUM       XOBWPST~
   XOBOERR      XOBWLIB1~
   XOBOK        XOBWD*~,XOBWLIB*~,XOBWUS1*~
   XOBOS        XOBWENV*~
   XOBOUT       XOBWD~
   XOBOUT(      XOBWD
   XOBPARMS     XOBWLIB1~
   XOBPARMS(    XOBWLIB1*
   XOBPATH      XOBWENV*~,XOBWLIB1*~
   XOBPAUSE     XOBWU~,XOBWUA~,XOBWUS~
   XOBPKG       XOBWD*~
   XOBPROP      XOBWP004~
   XOBPROP(     XOBWP004
   XOBPROP2     XOBWP004~
   XOBPROP2("Description" 
                XOBWP004*
   XOBPROP2("Enabled" 
                XOBWP004*
   XOBPROP2("Protocols" 
                XOBWP004*
   XOBPROXY     XOBWLIB~,XOBWLIB1~
   XOBR         XOBWLIB1*~
   XOBREADR     XOBWD*~
   XOBREST      XOBWLIB~
   XOBROOT      XOBWD*~,XOBWU*~,XOBWUA*~,XOBWUS*~
   XOBRSCE      XOBWLIB~
   XOBSCODE     XOBWLIB~
   XOBSFILT     XOBWUA*~,XOBWUA1*
   XOBSITEI     XOBWU~,XOBWUA~
   XOBSO        XOBWLIB~
   XOBSORT      XOBWUA*~,XOBWUA1*
   XOBSRVDA     XOBWD*~,XOBWUS1*~
   XOBSRVNM     XOBWD*~
   XOBSRVR      XOBWLIB~,XOBWU1*~,XOBWUA*~
   XOBSTAT      XOBWD*~,XOBWLIB1*~,XOBWP004*~,XOBWPST*~,XOBWUS1*~
   XOBSTAT2     XOBWP004*~
   XOBSTRM      XOBWD*~
   XOBSVRS      XOBWLIB1*~
   XOBTALK      XOBWPWD~
   XOBTEXT      XOBWU1~,XOBWUS1~
   XOBTYPE      XOBWD~,XOBWUS1*~
   XOBVER       XOBWENV*~,XOBWSSL*~
   XOBW         XOBWP004~
   XOBWAV       XOBWD*~
   XOBWCDEF     XOBWUS1*~
   XOBWDESC     XOBWLIB~,XOBWLIB1~
   XOBWI        XOBWP004*~
   XOBWIN       XOBWP004~
   XOBWKEY      XOBWLIB~,XOBWLIB1*~
   XOBWNOTE     XOBWP004*~
   XOBWSDL      XOBWD*~,XOBWLIB~,XOBWUS1*~
   XOBWSIEN     XOBWLIB1*~
   XOBWSN       XOBWD*~,XOBWLIB~
   XOBWSNM      XOBWLIB~,XOBWLIB1*~
   XOBWY        XOBWPA04*~,XOBWPB04*~
   XOBX         XOBWD~,XOBWPST~,XOBWPWD*~,XOBWU1*~,XOBWUA*~
   XOBY         XOBWD~,XOBWLIB~,XOBWPST~,XOBWU1*~,XOBWUA1*~,XOBWUS1*~,XOBWUS2~
   XOBY(        XOBWU1*,XOBWUS1
   XOBY(""      XOBWU1
   XOBY("AVAILABILITY RESOURCE" 
                XOBWD
   XOBY("BUILD CALLBACK" 
                XOBWU1*,XOBWUS1*,XOBWUS2
   XOBY("CACHE PACKAGE NAME" 
                XOBWD
   XOBY("HEADER" 
                XOBWU1*,XOBWUS1*,XOBWUS2
   XOBY("LABEL" XOBWPST
   XOBY("TITLE" XOBWU1*,XOBWUS1*,XOBWUS2
   XOBY("WEB SERVICE NAME" 
                XOBWD
   XOBY("WSDL FILE" 
                XOBWD
   XPATH        XOBWPA04*~,XOBWPB04*~
>> XPDABORT     XOBWENV*,XOBWP004*
>> XPDENV       XOBWENV
>> XPDQUES("POSXMLDIR" 
                XOBWPST
>> XQORNOD(0    XOBWU1,XOBWUA1,XOBWUS1
   XREF         XOBWPA04*~,XOBWPB04*~
   XUSL         XOBWP004~
   Y            XOBWLIB1*~,XOBWPA04*~,XOBWPB04*~,XOBWPWD,XOBWU~,XOBWU1~,XOBWUA~
                XOBWUA1~,XOBWUS*~,XOBWUS1~,|dd18.02,|dd18.12*!,|inpt*
   Y(0          |dd18.12*
   Y(1          |dd18.12*

Global Variables
   ^%ZOSF("EOFF"       XOBWPWD
   ^%ZOSF("EON"        XOBWPWD
   ^%ZOSF("LOAD"       XOBWP004
   ^%ZOSF("OS"         XOBWENV
   ^DD(18.12           |dd18.12
   ^DISV(              XOBWLIB1
   ^ORD(101            |ptcl
   ^TMP("PSC DATA"     XOBWP004*!
   ^TMP("XOB WEB SERVER LOOKUP"
                       XOBWUA*!,XOBWUA1
   ^TMP("XOB WEBSERVERS"
                       XOBWU*!,XOBWU1
   ^TMP("XOB WEBSERVICES"
                       XOBWUS*!,XOBWUS1
   ^TMP("XOBW WSDL FILING"
                       XOBWD
   ^TMP($J             XOBWP004!,XOBWPA04*!,XOBWPB04*!
   ^XMB("NETNAME"      XOBWP004
   ^XOB(               XOBWPST
   ^XOB(18.02          XOBWD,XOBWUS1,|dd18.02*!
   ^XOB(18.12          XOBWD,XOBWLIB1,XOBWPST!,XOBWUS1,|dd18.12*!,|dd18.121*!
   ^XOB(18.13          XOBWLIB1,XOBWU1,|dd18.13*!

Naked Globals
   ^(           XOBWPST
   ^(0          XOBWLIB1
   ^(1          |dd18.12*
   ^(24         |ptcl

Cache Objects
   $SYSTEM.OBJ.DeletePackage       XOBWPST
   $system.OBJ.Load                XOBWLIB1
   $system.Status.DecomposeStatus  XOBWD,XOBWLIB1
   $system.Status.IsError          XOBWSSL
   $system.Status.IsOK             XOBWLIB
   %Dictionary.ClassDefinition     XOBWD,XOBWUS1
   %File                           XOBWD,XOBWENV,XOBWLIB1
   %FileCharacterStream            XOBWD
   %Library.ArrayOfDataTypes       XOBWLIB1
   %Net.SSL.Configuration          XOBWSSL
   %ResultSet                      XOBWSSL
   %SOAP.WSDL.Reader               XOBWD
   CFG.CAFile                      XOBWSSL
   CFG.CAPath                      XOBWSSL
   CFG.CertificateFile             XOBWSSL
   CFG.CipherList                  XOBWSSL
   CFG.Name                        XOBWSSL
   CFG.PrivateKeyFile              XOBWSSL
   CFG.PrivateKeyType              XOBWSSL
   CFG.Role                        XOBWSSL
   CFG.VerifyDepth                 XOBWSSL
   CFG.VerifyPeer                  XOBWSSL
   INFOARR.SetAt                   XOBWLIB1
   RS.Data                         XOBWSSL
   RS.Execute                      XOBWSSL
   RS.Next                         XOBWSSL
   Security.SSLConfigs             XOBWP004
   XOBCONFG.Create                 XOBWP004
   XOBEO.%IsA                      XOBWLIB
   XOBEO.decompose                 XOBWLIB
   XOBEO.display                   XOBWLIB
   XOBPROXY.SoapFault              XOBWLIB1
   XOBREADR.OutputTypeAttribute    XOBWD*
   XOBREADR.Process                XOBWD
   XOBREST.Get                     XOBWLIB
   XOBREST.HttpResponse            XOBWLIB
   XOBREST.HttpResponse.StatusCode XOBWLIB
   XOBREST.Post                    XOBWLIB
   XOBSRVR.checkWebServicesAvailability
                                   XOBWU1
   XOBSTRM.AtEnd                   XOBWD
   XOBSTRM.Filename                XOBWD*
   XOBSTRM.ReadLine                XOBWD
   XOBWCDEF.Super                  XOBWUS1
   XOBY.Count                      XOBWU1
   XOBY.GetAt                      XOBWU1
   xobw.RestRequestFactory         XOBWLIB
   xobw.VistaInfoHeader            XOBWLIB1
   xobw.WebServer                  XOBWU1
   xobw.WebServiceProxyFactory     XOBWLIB
   xobw.WsdlHandler                XOBWD
   xobw.error.BasicError           XOBWLIB1
   xobw.error.DialogError          XOBWLIB1
   xobw.error.HttpError            XOBWLIB
   xobw.error.ObjectError          XOBWLIB,XOBWLIB1
   xobw.error.SoapError            XOBWLIB1

Marked Items
   $T(DATA+I    XOBWPA04,XOBWPB04
   $T(SOAPNAME^XOBTPST
                |ptcl
   $T(XOBWENV+1 XOBWENV
   $T(XOBWU+1   XOBWU
   $T(XOBWUA+1  XOBWUA
   $T(XOBWUS+1  XOBWUS

Routine             Invokes:
   XOBWD        MSG^DIALOG,$$FIND1^DIC,FILE^DIE,UPDATE^DIE,VAL^DIE,WP^DIE,DIK
                $$NOW^XLFDT,REGSOAP^XOBWLIB,BMES^XPDUTL,MES^XPDUTL
   XOBWENV      $$OS^%ZOSV,$$VERSION^%ZOSV,DIR,$$PROD^XUPROD
   XOBWLIB      %ZTER,$$GENPORT^XOBWD,REGISTER^XOBWD,UNREG^XOBWD
                $$EOFAC^XOBWLIB1,$$GETSRV^XOBWLIB1,$$SKEYADD^XOBWLIB1
                $$SNAME4KY^XOBWLIB1,ATTACHDR^XOBWLIB1,DISPSRVS^XOBWLIB1
   XOBWLIB1     $$EC^%ZOSV,$$EZBLD^DIALOG,MSG^DIALOG,DIC,$$FIND1^DIC,LIST^DIC
                FILE^DIE,UPDATE^DIE,DIR,$$CJ^XLFSTR,$$UP^XLFSTR
                $$VERSION^XOBWENV,$$STA^XUAF4,$$KSP^XUPARAM,$$PROD^XUPROD
                $$VPID^XUPS
   XOBWP004     SENDMSG^XMXAPI,POST^XOBWPA04,POST^XOBWPB04,BMES^XPDUTL
                MES^XPDUTL,$$PROD^XUPROD
   XOBWPA04     $$DEFDIR^%ZISH,$$FTG^%ZISH,$$GTF^%ZISH,$$IMPORT^XOBWLIB1
                BMES^XPDUTL,MES^XPDUTL
   XOBWPB04     $$DEFDIR^%ZISH,$$FTG^%ZISH,$$GTF^%ZISH,$$IMPORT^XOBWLIB1
                BMES^XPDUTL,MES^XPDUTL
   XOBWPST      $$DEFDIR^%ZISH,FIELD^DID,FILE^DIE,DIK,ENALL^DIK
                $$SUPPORT^XOBWENV,$$IMPORT^XOBWLIB1,BMES^XPDUTL,MES^XPDUTL
   XOBWPWD      %ZTER,CLRMSG^DDS,FILE^DIE,$$IENS^DILF,DIR,$$DECRYP^XUSRB1
                $$ENCRYP^XUSRB1
   XOBWSSL      $$VERSION^%ZOSV,EN^DDIOL
   XOBWU        LIST^DIC,EN^VALM,$$SETFLD^VALM1,FULL^VALM1,PAUSE^VALM1
                SET^VALM10,EN1^XOBTWU,$$VERSION^XOBWENV,EN^XOBWUA,EN^XOBWUS
                DISP^XQORM1
   XOBWU1       IX^DIC,DIE,DIK,EN^DIQ,DIR,CLEAR^VALM1,PAUSE^VALM1,CLEAN^VALM10
                SET^VALM10,EN^VALM2,EN^XOBWUS2
   XOBWUA       LIST^DIC,CHGCAP^VALM,EN^VALM,$$SETFLD^VALM1,FULL^VALM1
                PAUSE^VALM1,SET^VALM10,$$UP^XLFSTR,$$VERSION^XOBWENV
                DISP^XQORM1
   XOBWUA1      IX^DIC,DIE,DIK,EN^DIQ,DIR,CLEAR^VALM1,PAUSE^VALM1,EN^VALM2
                $$UP^XLFSTR,$$NOTDEF^XOBWUA
   XOBWUS       LIST^DIC,EN^VALM,$$SETFLD^VALM1,FULL^VALM1,PAUSE^VALM1
                SET^VALM10,$$VERSION^XOBWENV,DISP^XQORM1
   XOBWUS1      IX^DIC,DIE,EN^DIQ1,DIR,CLEAR^VALM1,PAUSE^VALM1,CLEAN^VALM10
                SET^VALM10,EN^VALM2,UNREG^XOBWLIB,EN^XOBWUS2
   XOBWUS2      EN^VALM,CLEAN^VALM10,DISP^XQORM1
   |dd18.02     %DT
   |dd18.12     %DT,DICR,EDIT^XOBWPWD,$$CHKNAME^XOBWSSL,DISPLAY^XOBWSSL
   |dd18.13     $$UP^XLFSTR
   |inpt        $$SSLOK^XOBWENV
   |list        EXIT^XOBWU,EXPAND^XOBWU,HDR^XOBWU,HELP^XOBWU,INIT^XOBWU
                EXIT^XOBWUA,EXPAND^XOBWUA,HDR^XOBWUA,HELP^XOBWUA,INIT^XOBWUA
                EXIT^XOBWUS,EXPAND^XOBWUS,HDR^XOBWUS,HELP^XOBWUS,INIT^XOBWUS
                EXIT^XOBWUS2,HDR^XOBWUS2,HELP^XOBWUS2,INIT^XOBWUS2
   |opt         EN^XOBWU
   |ptcl        SHOW^VALM,SOAPNAME^XOBTPST,ADD^XOBWU,AVAIL^XOBWU,DEL^XOBWU
                EDIT^XOBWU,LKM^XOBWU,WSM^XOBWU,WST^XOBWU,ADD^XOBWUA,DEL^XOBWUA
                EDIT^XOBWUA,KFILTER^XOBWUA,SFILTER^XOBWUA,SORT^XOBWUA
                ADD^XOBWUS,DEL^XOBWUS,EDIT^XOBWUS

Routine             is Invoked by:
   ^%DT                |dd18.02,|dd18.12
   $$DEFDIR^%ZISH      XOBWPA04,XOBWPB04,XOBWPST
   $$FTG^%ZISH         XOBWPA04,XOBWPB04
   $$GTF^%ZISH         XOBWPA04,XOBWPB04
   $$EC^%ZOSV          XOBWLIB1
   $$OS^%ZOSV          XOBWENV
   $$VERSION^%ZOSV     XOBWENV,XOBWSSL
   ^%ZTER              XOBWLIB,XOBWPWD
   EN^DDIOL            XOBWSSL
   CLRMSG^DDS          XOBWPWD
   $$EZBLD^DIALOG      XOBWLIB1
   MSG^DIALOG          XOBWD,XOBWLIB1
   ^DIC                XOBWLIB1
   $$FIND1^DIC         XOBWD,XOBWLIB1
   IX^DIC              XOBWU1,XOBWUA1,XOBWUS1
   LIST^DIC            XOBWLIB1,XOBWU,XOBWUA,XOBWUS
   ^DICR               |dd18.12
   FIELD^DID           XOBWPST
   ^DIE                XOBWU1,XOBWUA1,XOBWUS1
   FILE^DIE            XOBWD,XOBWLIB1,XOBWPST,XOBWPWD
   UPDATE^DIE          XOBWD,XOBWLIB1
   VAL^DIE             XOBWD
   WP^DIE              XOBWD
   ^DIK                XOBWD,XOBWPST,XOBWU1,XOBWUA1
   ENALL^DIK           XOBWPST
   $$IENS^DILF         XOBWPWD
   EN^DIQ              XOBWU1,XOBWUA1
   EN^DIQ1             XOBWUS1
   ^DIR                XOBWENV,XOBWLIB1,XOBWPWD,XOBWU1,XOBWUA1,XOBWUS1
   CHGCAP^VALM         XOBWUA
   EN^VALM             XOBWU,XOBWUA,XOBWUS,XOBWUS2
   SHOW^VALM           |ptcl
   $$SETFLD^VALM1      XOBWU,XOBWUA,XOBWUS
   CLEAR^VALM1         XOBWU1,XOBWUA1,XOBWUS1
   FULL^VALM1          XOBWU,XOBWUA,XOBWUS
   PAUSE^VALM1         XOBWU,XOBWU1,XOBWUA,XOBWUA1,XOBWUS,XOBWUS1
   CLEAN^VALM10        XOBWU1,XOBWUS1,XOBWUS2
   SET^VALM10          XOBWU,XOBWU1,XOBWUA,XOBWUS,XOBWUS1
   EN^VALM2            XOBWU1,XOBWUA1,XOBWUS1
   $$NOW^XLFDT         XOBWD
   $$CJ^XLFSTR         XOBWLIB1
   $$UP^XLFSTR         XOBWLIB1,XOBWUA,XOBWUA1,|dd18.13
   SENDMSG^XMXAPI      XOBWP004
   SOAPNAME^XOBTPST    |ptcl
   EN1^XOBTWU          XOBWU
   $$GENPORT^XOBWD     XOBWLIB
   REGISTER^XOBWD      XOBWLIB
   UNREG^XOBWD         XOBWLIB
   $$SSLOK^XOBWENV     |inpt
   $$SUPPORT^XOBWENV   XOBWPST
   $$VERSION^XOBWENV   XOBWLIB1,XOBWU,XOBWUA,XOBWUS
   REGSOAP^XOBWLIB     XOBWD
   UNREG^XOBWLIB       XOBWUS1
   $$EOFAC^XOBWLIB1    XOBWLIB
   $$GETSRV^XOBWLIB1   XOBWLIB
   $$IMPORT^XOBWLIB1   XOBWPA04,XOBWPB04,XOBWPST
   $$SKEYADD^XOBWLIB1  XOBWLIB
   $$SNAME4KY^XOBWLIB1 XOBWLIB
   ATTACHDR^XOBWLIB1   XOBWLIB
   DISPSRVS^XOBWLIB1   XOBWLIB
   POST^XOBWPA04       XOBWP004
   POST^XOBWPB04       XOBWP004
   EDIT^XOBWPWD        |dd18.12
   $$CHKNAME^XOBWSSL   |dd18.12
   DISPLAY^XOBWSSL     |dd18.12
   ADD^XOBWU           |ptcl
   AVAIL^XOBWU         |ptcl
   DEL^XOBWU           |ptcl
   EDIT^XOBWU          |ptcl
   EN^XOBWU            |opt
   EXIT^XOBWU          |list
   EXPAND^XOBWU        |list
   HDR^XOBWU           |list
   HELP^XOBWU          |list
   INIT^XOBWU          |list
   LKM^XOBWU           |ptcl
   WSM^XOBWU           |ptcl
   WST^XOBWU           |ptcl
   $$NOTDEF^XOBWUA     XOBWUA1
   ADD^XOBWUA          |ptcl
   DEL^XOBWUA          |ptcl
   EDIT^XOBWUA         |ptcl
   EN^XOBWUA           XOBWU
   EXIT^XOBWUA         |list
   EXPAND^XOBWUA       |list
   HDR^XOBWUA          |list
   HELP^XOBWUA         |list
   INIT^XOBWUA         |list
   KFILTER^XOBWUA      |ptcl
   SFILTER^XOBWUA      |ptcl
   SORT^XOBWUA         |ptcl
   ADD^XOBWUS          |ptcl
   DEL^XOBWUS          |ptcl
   EDIT^XOBWUS         |ptcl
   EN^XOBWUS           XOBWU
   EXIT^XOBWUS         |list
   EXPAND^XOBWUS       |list
   HDR^XOBWUS          |list
   HELP^XOBWUS         |list
   INIT^XOBWUS         |list
   EN^XOBWUS2          XOBWU1,XOBWUS1
   EXIT^XOBWUS2        |list
   HDR^XOBWUS2         |list
   HELP^XOBWUS2        |list
   INIT^XOBWUS2        |list
   BMES^XPDUTL         XOBWD,XOBWP004,XOBWPA04,XOBWPB04,XOBWPST
   MES^XPDUTL          XOBWD,XOBWP004,XOBWPA04,XOBWPB04,XOBWPST
   DISP^XQORM1         XOBWU,XOBWUA,XOBWUS,XOBWUS2
   $$STA^XUAF4         XOBWLIB1
   $$KSP^XUPARAM       XOBWLIB1
   $$PROD^XUPROD       XOBWENV,XOBWLIB1,XOBWP004
   $$VPID^XUPS         XOBWLIB1
   $$DECRYP^XUSRB1     XOBWPWD
   $$ENCRYP^XUSRB1     XOBWPWD

*****   END   *****


--- END ---
